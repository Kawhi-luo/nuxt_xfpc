!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("g2"),require("echarts"),require("echarts-liquidfill"),require("echarts-gl"),require("babel-polyfill"),require("echarts-wordcloud"));else if("function"==typeof define&&define.amd)define(["g2","echarts","echarts-liquidfill","echarts-gl","babel-polyfill","echarts-wordcloud"],e);else{var r="object"==typeof exports?e(require("g2"),require("echarts"),require("echarts-liquidfill"),require("echarts-gl"),require("babel-polyfill"),require("echarts-wordcloud")):e(t.g2,t.echarts,t["echarts-liquidfill"],t["echarts-gl"],t["babel-polyfill"],t["echarts-wordcloud"]);for(var i in r)("object"==typeof exports?exports:t)[i]=r[i]}}(window,function(t,e,r,i,n,o){return function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=122)}([function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(2),a=function(t){function e(e,r,i){var n=t.call(this,e,r)||this;return n.payload={},n.echart_obj=o.init(i),n.chartName=r,n}return n(e,t),e.prototype.setData=function(t){this.configSeries(t);for(var e={source:t.asArray(),dimensions:[]},r=t.get(0),i=0;i<r.getCount();i++){var n=r.get(i);e.dimensions.push({name:n.name,displayName:n.alias})}var o=this.config("dataset",e).findAll();this.echart_obj.setOption(o),this.echart_obj.resize(),this.payload.hasOwnProperty("type")&&this.echart_obj.dispatchAction(this.payload)},e.prototype.on=function(t,e,r){this.echart_obj.on(t,r,function(t){e(t)})},e.prototype.un=function(t,e){this.echart_obj.off(t,e)},e.prototype.setHoverColor=function(t){var e=this.echart_obj.getZr();this.echart_obj.on("mouseover",function(r){console.log(r);var i=r.event.target;e.addHover(i,{textFill:t})}),this.echart_obj.on("mouseout",function(t){var r=t.event.target;e.removeHover(r)})},e.prototype.dispatchAction=function(t){this.payload=t},e.prototype.getZr=function(){return this.echart_obj.getZr()},e.prototype.getModel=function(){return this.echart_obj.getModel()},e.prototype.configSeries=function(t){var e=this.getTemplateCount();if(e)for(var r=this.findAll(),i=t.get(0).getCount()-1,n={},o=0,a=this.getStartSeriesIndex(),s=a;o<i;){r.series[s]||(r.series[s]={});var l=JSON.parse(JSON.stringify(r.series[s%e+a]));s%e+a!=s&&(l.myType=void 0),(!r.series[s].hasOwnProperty("myType")||r.series[s].hasOwnProperty("myType")&&r.series[s].myType)&&(n=this.configSeriesNode(JSON.parse(JSON.stringify(l)),r.series[s]),this.config("series["+s+"]",n),o++),s++}},e.prototype.configSeriesNode=function(t,e){var r=this;return"object"==typeof e&&Object.keys(t).forEach(function(i){if(e.hasOwnProperty(i)){var n=r.configSeriesNode(t[i],e[i]);n&&(e[i]=n)}else e[i]=t[i]}),e},e.prototype.getTemplateCount=function(){for(var t=this.findAll().series,e=0,r=0;r<t.length&&(!t[r].hasOwnProperty("myType")||t[r].hasOwnProperty("myType")&&!t[r].myType);)r++;for(;t.hasOwnProperty(r)&&r<t.length&&t[r].hasOwnProperty("myType")&&t[r].myType;)e++,r++;return e},e.prototype.getStartSeriesIndex=function(){for(var t=this.findAll().series,e=0;e<t.length&&t[e].hasOwnProperty("myType")&&!t[e].myType;)e++;return e},e}(r(82).StatChart);e.EChart=a},function(e,r){e.exports=t},function(t,r){t.exports=e},function(t,e){var r={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},i={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},n=Object.prototype.toString,o=Array.prototype,a=o.forEach,s=o.filter,l=o.slice,c=o.map,h=o.reduce,u={};function p(t){if(null==t||"object"!=typeof t)return t;var e=t,o=n.call(t);if("[object Array]"===o){if(!S(t)){e=[];for(var a=0,s=t.length;a<s;a++)e[a]=p(t[a])}}else if(i[o]){if(!S(t)){var l=t.constructor;if(t.constructor.from)e=l.from(t);else for(e=new l(t.length),a=0,s=t.length;a<s;a++)e[a]=p(t[a])}}else if(!r[o]&&!S(t)&&!w(t))for(var c in e={},t)t.hasOwnProperty(c)&&(e[c]=p(t[c]));return e}function f(t,e,r){if(!x(e)||!x(t))return r?p(e):t;for(var i in e)if(e.hasOwnProperty(i)){var n=t[i],o=e[i];!x(o)||!x(n)||_(o)||_(n)||w(o)||w(n)||b(o)||b(n)||S(o)||S(n)?!r&&i in t||(t[i]=p(e[i])):f(n,o,r)}return t}function y(t,e,r){for(var i in e)e.hasOwnProperty(i)&&(r?null!=e[i]:null==t[i])&&(t[i]=e[i]);return t}var d,v=function(){return u.createCanvas()};function g(t,e,r){if(t&&e)if(t.forEach&&t.forEach===a)t.forEach(e,r);else if(t.length===+t.length)for(var i=0,n=t.length;i<n;i++)e.call(r,t[i],i,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(r,t[o],o,t)}function m(t,e){var r=l.call(arguments,2);return function(){return t.apply(e,r.concat(l.call(arguments)))}}function _(t){return"[object Array]"===n.call(t)}function x(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function b(t){return!!r[n.call(t)]}function w(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}u.createCanvas=function(){return document.createElement("canvas")};var C="__ec_primitive__";function S(t){return t[C]}function O(t){var e=_(t);this.data={};var r=this;function i(t,i){e?r.set(t,i):r.set(i,t)}t instanceof O?t.each(i):t&&g(t,i)}O.prototype={constructor:O,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){for(var r in void 0!==e&&(t=m(t,e)),this.data)this.data.hasOwnProperty(r)&&t(this.data[r],r)},removeKey:function(t){delete this.data[t]}},e.$override=function(t,e){"createCanvas"===t&&(d=null),u[t]=e},e.clone=p,e.merge=f,e.mergeAll=function(t,e){for(var r=t[0],i=1,n=t.length;i<n;i++)r=f(r,t[i],e);return r},e.extend=function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},e.defaults=y,e.createCanvas=v,e.getContext=function(){return d||(d=v().getContext("2d")),d},e.indexOf=function(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r}return-1},e.inherits=function(t,e){var r=t.prototype;function i(){}for(var n in i.prototype=e.prototype,t.prototype=new i,r)t.prototype[n]=r[n];(t.prototype.constructor=t).superClass=e},e.mixin=function(t,e,r){y(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,r)},e.isArrayLike=function(t){if(t)return"string"!=typeof t&&"number"==typeof t.length},e.each=g,e.map=function(t,e,r){if(t&&e){if(t.map&&t.map===c)return t.map(e,r);for(var i=[],n=0,o=t.length;n<o;n++)i.push(e.call(r,t[n],n,t));return i}},e.reduce=function(t,e,r,i){if(t&&e){if(t.reduce&&t.reduce===h)return t.reduce(e,r,i);for(var n=0,o=t.length;n<o;n++)r=e.call(i,r,t[n],n,t);return r}},e.filter=function(t,e,r){if(t&&e){if(t.filter&&t.filter===s)return t.filter(e,r);for(var i=[],n=0,o=t.length;n<o;n++)e.call(r,t[n],n,t)&&i.push(t[n]);return i}},e.find=function(t,e,r){if(t&&e)for(var i=0,n=t.length;i<n;i++)if(e.call(r,t[i],i,t))return t[i]},e.bind=m,e.curry=function(t){var e=l.call(arguments,1);return function(){return t.apply(this,e.concat(l.call(arguments)))}},e.isArray=_,e.isFunction=function(t){return"function"==typeof t},e.isString=function(t){return"[object String]"===n.call(t)},e.isObject=x,e.isBuiltInObject=b,e.isTypedArray=function(t){return!!i[n.call(t)]},e.isDom=w,e.eqNaN=function(t){return t!=t},e.retrieve=function(t){for(var e=0,r=arguments.length;e<r;e++)if(null!=arguments[e])return arguments[e]},e.retrieve2=function(t,e){return null!=t?t:e},e.retrieve3=function(t,e,r){return null!=t?t:null!=e?e:r},e.slice=function(){return Function.call.apply(l,arguments)},e.normalizeCssArray=function(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t},e.assert=function(t,e){if(!t)throw new Error(e)},e.trim=function(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.setAsPrimitive=function(t){t[C]=!0},e.isPrimitive=S,e.createHashMap=function(t){return new O(t)},e.concatArray=function(t,e){for(var r=new t.constructor(t.length+e.length),i=0;i<t.length;i++)r[i]=t[i];var n=t.length;for(i=0;i<e.length;i++)r[i+n]=e[i];return r},e.noop=function(){}},function(t,e,r){var i=r(31),n=r(3),o=r(22),a=r(178),s=r(65).prototype.getCanvasPattern,l=Math.abs,c=new o(!0);function h(t){i.call(this,t),this.path=null}h.prototype={constructor:h,type:"path",__dirtyPath:!0,strokeContainThreshold:5,subPixelOptimize:!1,brush:function(t,e){var r,i=this.style,n=this.path||c,o=i.hasStroke(),a=i.hasFill(),l=i.fill,h=i.stroke,u=a&&!!l.colorStops,p=o&&!!h.colorStops,f=a&&!!l.image,y=o&&!!h.image;i.bind(t,this,e),this.setTransform(t),this.__dirty&&(u&&(r=r||this.getBoundingRect(),this._fillGradient=i.getGradient(t,l,r)),p&&(r=r||this.getBoundingRect(),this._strokeGradient=i.getGradient(t,h,r))),u?t.fillStyle=this._fillGradient:f&&(t.fillStyle=s.call(l,t)),p?t.strokeStyle=this._strokeGradient:y&&(t.strokeStyle=s.call(h,t));var d=i.lineDash,v=i.lineDashOffset,g=!!t.setLineDash,m=this.getGlobalScale();if(n.setScale(m[0],m[1]),this.__dirtyPath||d&&!g&&o?(n.beginPath(t),d&&!g&&(n.setLineDash(d),n.setLineDashOffset(v)),this.buildPath(n,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),a)if(null!=i.fillOpacity){var _=t.globalAlpha;t.globalAlpha=i.fillOpacity*i.opacity,n.fill(t),t.globalAlpha=_}else n.fill(t);d&&g&&(t.setLineDash(d),t.lineDashOffset=v),o&&(null!=i.strokeOpacity?(_=t.globalAlpha,t.globalAlpha=i.strokeOpacity*i.opacity,n.stroke(t),t.globalAlpha=_):n.stroke(t)),d&&g&&t.setLineDash([]),null!=i.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,r){},createPathProxy:function(){this.path=new o},getBoundingRect:function(){var t=this._rect,e=this.style,r=!t;if(r){var i=this.path;i||(i=this.path=new o),this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape,!1)),t=i.getBoundingRect()}if(this._rect=t,e.hasStroke()){var n=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||r){n.copy(t);var a=e.lineWidth,s=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),1e-10<s&&(n.width+=a/s,n.height+=a/s,n.x-=a/s/2,n.y-=a/s/2)}return n}return t},contain:function(t,e){var r=this.transformCoordToLocal(t,e),i=this.getBoundingRect(),n=this.style;if(t=r[0],e=r[1],i.contain(t,e)){var o=this.path.data;if(n.hasStroke()){var s=n.lineWidth,l=n.strokeNoScale?this.getLineScale():1;if(1e-10<l&&(n.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),a.containStroke(o,s/l,t,e)))return!0}if(n.hasFill())return a.contain(o,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):i.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var r=this.shape;if(r){if(n.isObject(t))for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);else r[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&1e-10<l(t[0]-1)&&1e-10<l(t[3]-1)?Math.sqrt(l(t[0]*t[3]-t[2]*t[1])):1}},h.extend=function(t){var e=function(e){h.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var r=t.shape;if(r){this.shape=this.shape||{};var i=this.shape;for(var n in r)!i.hasOwnProperty(n)&&r.hasOwnProperty(n)&&(i[n]=r[n])}t.init&&t.init.call(this,e)};for(var r in n.inherits(e,h),t)"style"!==r&&"shape"!==r&&(e.prototype[r]=t[r]);return e},n.inherits(h,i);var u=h;t.exports=u},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(35),a=r(12),s=r(15),l=r(292),c=r(294),h=function(t){function e(e,r,i){var n=t.call(this)||this;n._canvas=null,n.chartType=null,n._legendCanv=null,n.tooltip=null,n.source=e,n.chartType=i;var o=n.configGradient(r);return n._config=new a.ChartConfig(o),n.chartType||n.createCanvas(),n}return n(e,t),e.prototype.config=function(t,e){var r=t;if(t.includes("gradient[")){var i=t.indexOf("[")+1,n=t.split("[")[1].replace("]",""),o=this._config.findAll().gradient||[],a=!1;o.forEach(function(e,o){e.offset+""==n&&(r=t.substring(0,i)+o+"]",a=!0)}),a||(r=t.substring(0,i)+o.length+"]"),e||(e=void 0),e={offset:n,color:e}}else if("gradient"==t&&(e=e||null)){var s=Object.keys(e),l=[];s.forEach(function(t){l.push({offset:t,color:e[t]})}),e=[],e=l}return this._config.config(r,e),this},e.prototype.findAll=function(){var t=Object.assign({},this._config.findAll());if(t.hasOwnProperty("gradient")&&Array.isArray(t.gradient)){var e={};t.gradient.forEach(function(t){e[t.offset]=t.color}),t.gradient={},t.gradient=e}return t},e.prototype.render=function(){var t=this;this.source.getData().then(function(e){t.setData(e),t._renderCallBack&&t._renderCallBack()})},e.prototype.canvasFunction=function(t,e,r,i,n){return this._canvas.width=i[0],this._canvas.height=i[1],this.draw(this._canvas,t,e/r,r)},e.prototype.draw=function(t,e,r,i){},e.prototype.Legend=function(t,e){var r=this._layer.getLegendViewPort();if(this._legendCanv&&(r.removeChild(this._legendCanv),this._legendCanv=null),this._legendCanv=t.getLegend(e),this.mapType==s.MapType.TSGlobe){var i=document.createElement("div");i.style.position="absolute",i.appendChild(this._legendCanv),this._legendCanv=i}r.appendChild(this._legendCanv)},e.prototype.getLegend=function(){return this._legendCanv},e.prototype.Tooltip=function(t){var e=this._layer.getLegendViewPort();this.tooltip&&this.tooltip.tooltipDom&&(e.removeChild(this.tooltip.tooltipDom),this.tooltip.tooltipDom=null),this.tooltip=new c.ToolTip(t);var r=this.tooltip.createToolTip();e.appendChild(r)},e.prototype.bind=function(t,e){this.mapType=e,this._layer=l.LayerCreator.creator({mapType:e,map:t,canvasFunction:this.canvasFunction.bind(this),chartType:this.chartType,canvas:this._canvas})},e.prototype.unbind=function(){this._layer.removeLayer(),this.removeComponent()},e.prototype.removeComponent=function(){var t=this._layer.getLegendViewPort();this._legendCanv&&t.removeChild(this._legendCanv),this.tooltip&&this.tooltip.tooltipDom&&t.removeChild(this.tooltip.tooltipDom)},e.prototype.createCanvas=function(){this._canvas=document.createElement("canvas")},e.prototype.configValue=function(t,e){var r=this;return Array.isArray(t)||Array.isArray(e)||"object"!=typeof t||"object"!=typeof e||(e.hasOwnProperty("splitList")&&(t.splitList=e.splitList,e.splitList.hasOwnProperty("other")||(t.splitList.other="white"),delete e.splitList),Object.keys(t).forEach(function(i){if(e.hasOwnProperty(i)){var n=r.configValue(t[i],e[i]);n&&(e[i]=n)}else e[i]=t[i]})),e},e.prototype.configGradient=function(t){var e=[];return t.hasOwnProperty("gradient")&&(Object.keys(t.gradient).forEach(function(r){e.push({offset:r,color:t.gradient[r]})}),t.gradient=e),t},e.prototype.configOptions=function(t,e){var r=this.configGradient(t),i=this.configGradient(e),n=this.configValue(r,i);this._config=new a.ChartConfig(n)},e.prototype.getZIndex=function(){if(this._layer)return this._layer.getZIndex()},e.prototype.setZIndex=function(t){this._layer&&this._layer.setZIndex(t)},e.prototype.getOpacity=function(){if(this._layer)return this._layer.getOpacity()},e.prototype.setOpacity=function(t){this._layer&&this._layer.setOpacity(t)},e.prototype.getVisible=function(){if(this._layer)return this._layer.getVisible()},e.prototype.setVisible=function(t){this._layer&&this._layer.setVisible(t)},e.prototype.setOptions=function(t){var e=this.findAll();this.configOptions(e,t),this.render()},e.prototype.setDataSource=function(t,e){this.source=t,e&&this.config("fieldName",e),this.render()},e.prototype.on=function(t,e,r){this._layer&&this._layer.on(t,e,r)},e.prototype.un=function(t,e){this._layer&&this._layer.un(t,e)},e.prototype.renderComplete=function(t){this._renderCallBack=t},e}(o.ChartBase);e.MapVChart=h},function(t,e,r){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),(i=e.MapVChartType||(e.MapVChartType={}))[i.Boundary={type:"Boundary",layer:0}]="Boundary",i[i.LineAnimation={type:"LineAnimation",layer:1}]="LineAnimation",i[i.Heat={type:"Heat",layer:0}]="Heat",i[i.Situation={type:"Situation",layer:2}]="Situation",i[i.DynamicPoint={type:"DynamicPoint",layer:1}]="DynamicPoint",i[i.QianXi={type:"QianXi",layer:1}]="QianXi",i[i.Flow={type:"Flow",layer:2}]="Flow",i[i.PointCategory={type:"PointCategory",layer:1}]="PointCategory",i[i.FeatureSource={type:"FeatureSource",layer:0}]="FeatureSource"},function(t,e,r){var i=r(62);!function(){for(var t in i){if(null==i||!i.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=i[t]}}();var n=r(176);!function(){for(var t in n){if(null==n||!n.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=n[t]}}(),r(202),r(208)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(7),n=function(){function t(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this.type=t,this.createGraphic(e)}return t.prototype.create=function(t){},t.prototype.createGraphic=function(t){var e=this.create(t);this.zelement=new i[this.type](e)},t.prototype.setAttr=function(t,e){this.zelement.attr(t,e)},t.prototype.getElement=function(){return this.zelement},t.prototype.on=function(t,e,r){this.zelement.on(t,r,function(t){e(t)})},t.prototype.un=function(t,e){this.zelement.off(t,e)},t}();e.GraphicZrender=n},function(t,e){var r="undefined"==typeof Float32Array?Array:Float32Array;function i(t){return Math.sqrt(o(t))}var n=i;function o(t){return t[0]*t[0]+t[1]*t[1]}var a=o;function s(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var l=s;function c(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var h=c;e.create=function(t,e){var i=new r(2);return null==t&&(t=0),null==e&&(e=0),i[0]=t,i[1]=e,i},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.clone=function(t){var e=new r(2);return e[0]=t[0],e[1]=t[1],e},e.set=function(t,e,r){return t[0]=e,t[1]=r,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t},e.scaleAndAdd=function(t,e,r,i){return t[0]=e[0]+r[0]*i,t[1]=e[1]+r[1]*i,t},e.sub=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t},e.len=i,e.length=n,e.lenSquare=o,e.lengthSquare=a,e.mul=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t},e.div=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t},e.normalize=function(t,e){var r=i(e);return 0===r?(t[0]=0,t[1]=0):(t[0]=e[0]/r,t[1]=e[1]/r),t},e.distance=s,e.dist=l,e.distanceSquare=c,e.distSquare=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.lerp=function(t,e,r,i){return t[0]=e[0]+i*(r[0]-e[0]),t[1]=e[1]+i*(r[1]-e[1]),t},e.applyTransform=function(t,e,r){var i=e[0],n=e[1];return t[0]=r[0]*i+r[2]*n+r[4],t[1]=r[1]*i+r[3]*n+r[5],t},e.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t},e.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}},function(t,e,r){var i,n,o,a,s=r(9),l=r(20),c=s.applyTransform,h=Math.min,u=Math.max;function p(t,e,r,i){r<0&&(t+=r,r=-r),i<0&&(e+=i,i=-i),this.x=t,this.y=e,this.width=r,this.height=i}p.prototype={constructor:p,union:function(t){var e=h(t.x,this.x),r=h(t.y,this.y);this.width=u(t.x+t.width,this.x+this.width)-e,this.height=u(t.y+t.height,this.y+this.height)-r,this.x=e,this.y=r},applyTransform:(i=[],n=[],o=[],a=[],function(t){if(t){i[0]=o[0]=this.x,i[1]=a[1]=this.y,n[0]=a[0]=this.x+this.width,n[1]=o[1]=this.y+this.height,c(i,i,t),c(n,n,t),c(o,o,t),c(a,a,t),this.x=h(i[0],n[0],o[0],a[0]),this.y=h(i[1],n[1],o[1],a[1]);var e=u(i[0],n[0],o[0],a[0]),r=u(i[1],n[1],o[1],a[1]);this.width=e-this.x,this.height=r-this.y}}),calculateTransform:function(t){var e=t.width/this.width,r=t.height/this.height,i=l.create();return l.translate(i,i,[-this.x,-this.y]),l.scale(i,i,[e,r]),l.translate(i,i,[t.x,t.y]),i},intersect:function(t){if(!t)return!1;t instanceof p||(t=p.create(t));var e=this,r=e.x,i=e.x+e.width,n=e.y,o=e.y+e.height,a=t.x,s=t.x+t.width,l=t.y,c=t.y+t.height;return!(i<a||s<r||o<l||c<n)},contain:function(t,e){var r=this;return t>=r.x&&t<=r.x+r.width&&e>=r.y&&e<=r.y+r.height},clone:function(){return new p(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},p.create=function(t){return new p(t.x,t.y,t.width,t.height)};var f=p;t.exports=f},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Layer=function(){}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this._config=t}return t.prototype.config=function(t,e){var r=t.split(".");return this.configNode(this._config,r,0,e),this},t.prototype.findAll=function(){return this._config},t.prototype.configNode=function(t,e,r,i){var n={},o="",a=-1;return e[r].includes("[")&&(o=e[r].slice(0,e[r].indexOf("[")),a=parseInt(e[r].slice(e[r].indexOf("[")+1,e[r].indexOf("]"))),e[r]=o),r<e.length-1?-1==a?(t.hasOwnProperty(e[r])||(t[e[r]]={}),(n=this.configNode(t[e[r]],e,r+1,i))&&(t[e[r]]=n)):(Array.isArray(t[o])||(t[o]=[]),t[o].hasOwnProperty(a)||(t[o][a]={}),(n=this.configNode(t[o][a],e,r+1,i))&&(t[o][a]=n)):-1==a?null==i?delete t[e[r]]:t[e[r]]=this.configValue(t[e[r]],i):(Array.isArray(t[o])||(t[o]=[]),null==i?t[o].splice(a,1):t[o][a]=this.configValue(t[o][a],i)),t},t.prototype.configValue=function(t,e){var r=this;return Array.isArray(t)||Array.isArray(e)||"object"!=typeof t||"object"!=typeof e||Object.keys(t).forEach(function(i){if(e.hasOwnProperty(i)){var n=r.configValue(t[i],e[i]);n&&(e[i]=n)}else e[i]=t[i]}),e},t}();e.ChartConfig=i},function(t,e){var r="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:function(t){var e={},r=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),n=t.match(/Edge\/([\d.]+)/),o=/micromessenger/i.test(t);return r&&(e.firefox=!0,e.version=r[1]),i&&(e.ie=!0,e.version=i[1]),n&&(e.edge=!0,e.version=n[1]),o&&(e.weChat=!0),{browser:e,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!e.ie&&!e.edge,pointerEventsSupported:"onpointerdown"in window&&(e.edge||e.ie&&11<=e.version),domSupported:"undefined"!=typeof document}}(navigator.userAgent);t.exports=r},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(50),a=r(293),s=r(15),l=function(t){function e(e){var r=t.call(this)||this;return r.visible=!0,r.opacity=1,r.zIndex=0,r.map=e.map,r.mapType=e.mapType,r._layer=null,r}return n(e,t),e.prototype.createOpenLayer=function(t,e){return this._layer=new a.OpenlayersLayer(this.map.map,e,t),this},e.prototype.OpenlayersAnimationLayer=function(t,e){return this._layer=new a.OpenlayersAnimationLayer(this.map.map,e,t),this},e.prototype.createCesiumLayer=function(t,e){return this._layer=new a.cesiumMapLayer(this.map._cesiumWidget,e,t),this},e.prototype.createLayer=function(t,e){switch(this.mapType){case s.MapType.TSMap:t.projection="EPSG:"+this.map.spatialReference,"stroke"===t.styleType?this.OpenlayersAnimationLayer(t,e):this.createOpenLayer(t,e);break;case s.MapType.TSGlobe:t.projection="EPSG:"+this.map.getSrid(),this.createCesiumLayer(t,e)}},e.prototype.toDataSet=function(t){return new a.DataSet(t)},e.prototype.utilForceEdgeBundling=function(){return a.utilForceEdgeBundling()},e.prototype.getLegendViewPort=function(){switch(this.mapType){case s.MapType.TSMap:return this.map.getViewport();case s.MapType.TSGlobe:return this.map._container}},e.prototype.getCurvePoints=function(t,e){return a.utilCurve.getPoints([{lng:t[0],lat:t[1]},{lng:e[0],lat:e[1]}])},e.prototype.getLayer=function(){return this._layer},e.prototype.removeLayer=function(){switch(this.mapType){case s.MapType.TSMap:this._layer.removeLayer();break;case s.MapType.TSGlobe:this._layer.remove()}},e.prototype.updateLayer=function(t,e){this._layer.options=t,this._layer.dataSet=e,this.removeLayer(),this.createLayer(t,e)},e.prototype.getZIndex=function(){if(this._layer)return this.zIndex},e.prototype.setZIndex=function(t){if(this._layer)switch(this.zIndex=t,this.mapType){case s.MapType.TSMap:this._layer.layer_.setZIndex(t);break;case s.MapType.TSGlobe:this._layer.canvas.style.zIndex=t}},e.prototype.getOpacity=function(){if(this._layer)return this.opacity},e.prototype.setOpacity=function(t){if(this._layer)switch(this.opacity=t,this.mapType){case s.MapType.TSMap:this._layer.layer_.setOpacity(t);break;case s.MapType.TSGlobe:this._layer.canvas.style.opacity=t}},e.prototype.getVisible=function(){if(this._layer)return this.visible},e.prototype.setVisible=function(t){if(this._layer)switch(this.visible=t,this.mapType){case s.MapType.TSMap:this._layer.layer_.setVisible(t);break;case s.MapType.TSGlobe:t?this._layer.show():this._layer.hide()}},e}(o.Layer);e.MapVLayer=l},function(t,e,r){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),(i=e.MapType||(e.MapType={})).TSMap="TSMap",i.TSGlobe="TSGlobe"},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(50),a=r(17),s=r(25),l=r(15),c=function(t){function e(e){var r=t.call(this)||this;return r.onEventArr=[],r.unEventArr=[],r.map=e.map,r._layer=null,r.mapType=e.mapType,r}return n(e,t),e.prototype.createOpenLayer=function(t){this._layer=new a.default(this.map,t),this.bindChartEvent()},e.prototype.createCesiumLayer=function(t){this._layer=new s.default(this.map,t)},e.prototype.createLayer=function(t){switch(this.mapType){case l.MapType.TSMap:this.createOpenLayer(t);break;case l.MapType.TSGlobe:this.createCesiumLayer(t)}},e.prototype.getLegendViewPort=function(){return this.map.getViewport()},e.prototype.updateLayer=function(t){this._layer.updateLayer(t)},e.prototype.removeLayer=function(){this._layer.removeLayer()},e.prototype.getZIndex=function(){if(this._layer)return this._layer.getZIndex()},e.prototype.setZIndex=function(t){this._layer&&this._layer.setZIndex(t)},e.prototype.getOpacity=function(){if(this._layer)return this._layer.getOpacity()},e.prototype.setOpacity=function(t){this._layer&&this._layer.setOpacity(t)},e.prototype.getVisible=function(){if(this._layer)return this._layer.getVisible()},e.prototype.setVisible=function(t){this._layer&&this._layer.setVisible(t)},e.prototype.getLayer=function(){return this._layer},e.prototype.bindChartEvent=function(){var t=this;this.onEventArr.forEach(function(e){t._layer.on(e.eventName,e.handler,e.query)}),this.unEventArr.forEach(function(e){t._layer.un(e.eventName,e.handler)})},e.prototype.on=function(t,e,r){this.onEventArr.push({eventName:t,handler:e,query:r})},e.prototype.un=function(t,e){this.unEventArr.push({eventName:t,handler:e})},e}(o.Layer);e.EChartsLayer=c},function(t,e,r){"use strict";r.r(e);var i=r(2),n=r(34);function o(t,e){this._g2Map=t._g2Map,this._seriesType=e,this.dimensions=["lng","lat"],this._api=t,this._mapOffset=[0,0]}o.dimensions=o.prototype.dimensions=["lng","lat"],o.getDimensionsInfo=function(){return["lng","lat"]},o.prototype.setMapOffset=function(t){this._mapOffset=t},o.prototype.dataToPoint=function(t){var e=[0,0];if(this._g2Map instanceof n.TSMap)var r=this._g2Map.getMap().getPixelFromCoordinate(t);else r=this._g2Map.getPixelFromCoordinate(t);if(r){var i=this._mapOffset;e=[r[0]-i[0],r[1]-i[1]]}return e},o.prototype.pointToData=function(t){var e=this._mapOffset,r=this._g2Map.getCoordinateFromPixel({x:t[0]+e[0],y:t[1]+e[1]});return[r.x,r.y]},o.prototype.getViewRect=function(){var t=this._g2Map.getViewSize();return new i.graphic.BoundingRect(0,0,t[0],t[1])},o.prototype.getRoamTransform=function(){return i.matrix.create()},o.create=function(t,e){var r;t.eachSeries(function(t){if("G2Map"===t.get("coordinateSystem")){var i=t.subType;r=new o(e,i),t.coordinateSystem=r}}),t.eachComponent("G2Map",function(t){t.coordinateSystem=r})};var a=o,s=function(){i.extendComponentModel({type:"G2Map",getG2Map:function(){return this.coordinateSystem._g2Map},getCenter:function(){return this.option.center},setCenterAndZoom:function(t,e){this.option.center=t,this.option.zoom=e},centerOrZoomChanged:function(t,e){var r,i,n=this.option;return r=t,i=n.center,!(r&&i&&r[0]===i[0]&&r[1]===i[1]&&e===n.zoom)},defaultOption:{center:[116.343811227417,39.88078623809814],zoom:5,mapStyle:{},roam:!1}})},l=function(t,e){var r;i.extendComponentView({type:"G2Map",moveHandler:function(t){e.resize()},mousedownHandler:function(t){var r=e._layer.getZr().handler,i=r.findHover(t.pixel[0],t.pixel[1]);r.dispatchToElement(i,"click",event)},init:function(e,i){this.api=i,this.api._g2Map=t,r={move:this.moveHandler.bind(this),mousedown:this.mousedownHandler.bind(this)},t.on("postrender",r.move),t.map.on("pointerdown",r.mousedown)},render:function(t,e,r){},dispose:function(){t.un("postrender",r.move),t.map.un("pointerdown",r.mousedown)}})},c=function(t,e){new s,new l(t,e),i.registerCoordinateSystem("G2Map",a),i.registerAction({type:"G2MapRoam",event:"G2MapRoam",update:"updateLayout"},function(t,e){e.eachComponent("G2Map",function(t){})}),i.registerAction({type:"G2MapChangeCamera",event:"G2Mapcamerachange",update:"series:updateCamera"},function(t,e){e.eachComponent("G2Map",function(t){})})};function h(t,e){var r,n,o,a;return this._option=e,this._map=t,new c(t,this),this._chartContainer=(n=(r=t).getViewSize(),o=document.createElement("div"),a=r.getViewport(),o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style.width=n[0]+"px",o.style.height=n[1]+"px",o.setAttribute("class","echartMap"),a.appendChild(o),o),this._layer=i.init(this._chartContainer),this._layer.setOption(e),this._layer,this.eventArr=[],this}h.prototype.updateLayer=function(t){this._layer&&this._layer.setOption(t)},h.prototype.resize=function(){this._layer&&this._layer.setOption(this._option)},h.prototype.getMap=function(){return this._map},h.prototype.getLayer=function(){return this._chartContainer},h.prototype.getVisible=function(){var t=!0;return"visible"!==(this._chartContainer.style.visibility||"visible")&&(t=!1),t},h.prototype.setVisible=function(t){var e="visible";t||(e="hidden"),this._chartContainer.style.visibility=e},h.prototype.getZIndex=function(){return this._chartContainer.style.zIndex},h.prototype.setZIndex=function(t){this._chartContainer.style.zIndex=t},h.prototype.getOpacity=function(){return this._chartContainer.style.opacity},h.prototype.setOpacity=function(t){this._chartContainer.style.opacity=t},h.prototype.on=function(t,e,r){if(this._layer){var i=function(t){var e,r=[t.event.event.offsetX,t.event.event.offsetY],i=this.map.getCoordinateFromPixel(r),n=t.data;e=Array.isArray(n)?n[n.length-1]:n.gvProperty;var o={screenX:r[0],screenY:r[1],lng:i[0],lat:i[1],property:e};this.handler(o)}.bind({handler:e,map:this._map});this.eventArr.push({eventName:t,handler:e,query:r,newHandler:i}),this._layer.on(t,r,i)}},h.prototype.un=function(t,e){if(this._layer)for(var r=0;r<this.eventArr.length;r++){var i=this.eventArr[r];i.eventName===t&&i.handler===e&&this._layer.off(t,i.newHandler)}},h.prototype.removeLayer=function(){this._map.getViewport().removeChild(this._chartContainer)},e.default=h},function(t,e,r){"use strict";var i=this&&this.__decorate||function(t,e,r,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;0<=s;s--)(n=t[s])&&(a=(o<3?n(a):3<o?n(e,r,a):n(e,r))||a);return 3<o&&a&&Object.defineProperty(e,r,a),a},n=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=r(19),a=function(){function t(){this.items=[]}return t.prototype.addItem=function(t){this.items.push(t)},t.prototype.getCount=function(){return this.items.length},t.prototype.get=function(t){return this.items[t]},t.prototype.asArray=function(){for(var t=[],e=0;e<this.items.length;e++){for(var r=this.items[e],i={},n=0;n<r.getCount();n++){var o=r.get(n);i[o.name]=o.value}t.push(i)}return t},i([o.__Type({name:"ChartData",namespace:"http://www.dv.com"}),n("design:paramtypes",[])],t)}();e.ChartData=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(131);var i=r(37),n=r(77);e.__Type=function(t){return function(e){var r=t.name,o=t.namespace;if(!i.TypeTable.has(r)){var a=new n.TypeInfo(r,o,e);e.$type=a,i.TypeTable.getInstance().add(a)}}}},function(t,e){var r="undefined"==typeof Float32Array?Array:Float32Array;function i(){var t=new r(6);return n(t),t}function n(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}e.create=i,e.identity=n,e.copy=o,e.mul=function(t,e,r){var i=e[0]*r[0]+e[2]*r[1],n=e[1]*r[0]+e[3]*r[1],o=e[0]*r[2]+e[2]*r[3],a=e[1]*r[2]+e[3]*r[3],s=e[0]*r[4]+e[2]*r[5]+e[4],l=e[1]*r[4]+e[3]*r[5]+e[5];return t[0]=i,t[1]=n,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t},e.translate=function(t,e,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+r[0],t[5]=e[5]+r[1],t},e.rotate=function(t,e,r){var i=e[0],n=e[2],o=e[4],a=e[1],s=e[3],l=e[5],c=Math.sin(r),h=Math.cos(r);return t[0]=i*h+a*c,t[1]=-i*c+a*h,t[2]=n*h+s*c,t[3]=-n*c+h*s,t[4]=h*o+c*l,t[5]=h*l-c*o,t},e.scale=function(t,e,r){var i=r[0],n=r[1];return t[0]=e[0]*i,t[1]=e[1]*n,t[2]=e[2]*i,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*n,t},e.invert=function(t,e){var r=e[0],i=e[2],n=e[4],o=e[1],a=e[3],s=e[5],l=r*a-o*i;return l?(l=1/l,t[0]=a*l,t[1]=-o*l,t[2]=-i*l,t[3]=r*l,t[4]=(i*s-a*n)*l,t[5]=(o*n-r*s)*l,t):null},e.clone=function(t){var e=i();return o(e,t),e}},function(t,e,r){var i=r(31),n=r(10),o=r(3),a=r(66);function s(t){i.call(this,t)}s.prototype={constructor:s,type:"image",brush:function(t,e){var r=this.style,i=r.image;r.bind(t,this,e);var n=this._image=a.createOrUpdateImage(i,this._image,this,this.onload);if(n&&a.isImageReady(n)){var o=r.x||0,s=r.y||0,l=r.width,c=r.height,h=n.width/n.height;if(null==l&&null!=c?l=c*h:null==c&&null!=l?c=l/h:null==l&&null==c&&(l=n.width,c=n.height),this.setTransform(t),r.sWidth&&r.sHeight){var u=r.sx||0,p=r.sy||0;t.drawImage(n,u,p,r.sWidth,r.sHeight,o,s,l,c)}else if(r.sx&&r.sy){var f=l-(u=r.sx),y=c-(p=r.sy);t.drawImage(n,u,p,f,y,o,s,l,c)}else t.drawImage(n,o,s,l,c);null!=r.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new n(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},o.inherits(s,i);var l=s;t.exports=l},function(t,e,r){var i=r(23),n=r(9),o=r(177),a=r(10),s=r(45).devicePixelRatio,l={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},c=[],h=[],u=[],p=[],f=Math.min,y=Math.max,d=Math.cos,v=Math.sin,g=Math.sqrt,m=Math.abs,_="undefined"!=typeof Float32Array,x=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};x.prototype={constructor:x,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=m(1/s/t)||0,this._uy=m(1/s/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return(this._ctx=t)&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(l.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var r=m(t-this._xi)>this._ux||m(e-this._yi)>this._uy||this._len<5;return this.addData(l.L,t,e),this._ctx&&r&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),r&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,r,i,n,o){return this.addData(l.C,t,e,r,i,n,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,r,i,n,o):this._ctx.bezierCurveTo(t,e,r,i,n,o)),this._xi=n,this._yi=o,this},quadraticCurveTo:function(t,e,r,i){return this.addData(l.Q,t,e,r,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,r,i):this._ctx.quadraticCurveTo(t,e,r,i)),this._xi=r,this._yi=i,this},arc:function(t,e,r,i,n,o){return this.addData(l.A,t,e,r,r,i,n-i,0,o?0:1),this._ctx&&this._ctx.arc(t,e,r,i,n,o),this._xi=d(n)*r+t,this._yi=v(n)*r+e,this},arcTo:function(t,e,r,i,n){return this._ctx&&this._ctx.arcTo(t,e,r,i,n),this},rect:function(t,e,r,i){return this._ctx&&this._ctx.rect(t,e,r,i),this.addData(l.R,t,e,r,i),this},closePath:function(){this.addData(l.Z);var t=this._ctx,e=this._x0,r=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,r),t.closePath()),this._xi=e,this._yi=r,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t;for(var e=this._dashIdx=0,r=0;r<t.length;r++)e+=t[r];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length===e||!_||(this.data=new Float32Array(e));for(var r=0;r<e;r++)this.data[r]=t[r];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,r=0,i=this._len,n=0;n<e;n++)r+=t[n].len();for(_&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+r)),n=0;n<e;n++)for(var o=t[n].data,a=0;a<o.length;a++)this.data[i++]=o[a];this._len=i},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var r=0;r<arguments.length;r++)e[this._len++]=arguments[r];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var r,i,n=this._dashSum,o=this._dashOffset,a=this._lineDash,s=this._ctx,l=this._xi,c=this._yi,h=t-l,u=e-c,p=g(h*h+u*u),d=l,v=c,m=a.length;for(o<0&&(o=n+o),d-=(o%=n)*(h/=p),v-=o*(u/=p);0<h&&d<=t||h<0&&t<=d||0===h&&(0<u&&v<=e||u<0&&e<=v);)d+=h*(r=a[i=this._dashIdx]),v+=u*r,this._dashIdx=(i+1)%m,0<h&&d<l||h<0&&l<d||0<u&&v<c||u<0&&c<v||s[i%2?"moveTo":"lineTo"](0<=h?f(d,t):y(d,t),0<=u?f(v,e):y(v,e));h=d-t,u=v-e,this._dashOffset=-g(h*h+u*u)},_dashedBezierTo:function(t,e,r,n,o,a){var s,l,c,h,u,p=this._dashSum,f=this._dashOffset,y=this._lineDash,d=this._ctx,v=this._xi,m=this._yi,_=i.cubicAt,x=0,b=this._dashIdx,w=y.length,C=0;for(f<0&&(f=p+f),f%=p,s=0;s<1;s+=.1)l=_(v,t,r,o,s+.1)-_(v,t,r,o,s),c=_(m,e,n,a,s+.1)-_(m,e,n,a,s),x+=g(l*l+c*c);for(;b<w&&!(f<(C+=y[b]));b++);for(s=(C-f)/x;s<=1;)h=_(v,t,r,o,s),u=_(m,e,n,a,s),b%2?d.moveTo(h,u):d.lineTo(h,u),s+=y[b]/x,b=(b+1)%w;b%2!=0&&d.lineTo(o,a),l=o-h,c=a-u,this._dashOffset=-g(l*l+c*c)},_dashedQuadraticTo:function(t,e,r,i){var n=r,o=i;r=(r+2*t)/3,i=(i+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,r,i,n,o)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,_&&(this.data=new Float32Array(t)))},getBoundingRect:function(){c[0]=c[1]=u[0]=u[1]=Number.MAX_VALUE,h[0]=h[1]=p[0]=p[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,r=0,i=0,s=0,f=0;f<t.length;){var y=t[f++];switch(1===f&&(i=e=t[f],s=r=t[f+1]),y){case l.M:e=i=t[f++],r=s=t[f++],u[0]=i,u[1]=s,p[0]=i,p[1]=s;break;case l.L:o.fromLine(e,r,t[f],t[f+1],u,p),e=t[f++],r=t[f++];break;case l.C:o.fromCubic(e,r,t[f++],t[f++],t[f++],t[f++],t[f],t[f+1],u,p),e=t[f++],r=t[f++];break;case l.Q:o.fromQuadratic(e,r,t[f++],t[f++],t[f],t[f+1],u,p),e=t[f++],r=t[f++];break;case l.A:var g=t[f++],m=t[f++],_=t[f++],x=t[f++],b=t[f++],w=t[f++]+b;f+=1;var C=1-t[f++];1===f&&(i=d(b)*_+g,s=v(b)*x+m),o.fromArc(g,m,_,x,b,w,C,u,p),e=d(w)*_+g,r=v(w)*x+m;break;case l.R:i=e=t[f++],s=r=t[f++];var S=t[f++],O=t[f++];o.fromLine(i,s,i+S,s+O,u,p);break;case l.Z:e=i,r=s}n.min(c,c,u),n.max(h,h,p)}return 0===f&&(c[0]=c[1]=h[0]=h[1]=0),new a(c[0],c[1],h[0]-c[0],h[1]-c[1])},rebuildPath:function(t){for(var e,r,i,n,o,a,s=this.data,c=this._ux,h=this._uy,u=this._len,p=0;p<u;){var f=s[p++];switch(1===p&&(e=i=s[p],r=n=s[p+1]),f){case l.M:e=i=s[p++],r=n=s[p++],t.moveTo(i,n);break;case l.L:o=s[p++],a=s[p++],(m(o-i)>c||m(a-n)>h||p===u-1)&&(t.lineTo(o,a),i=o,n=a);break;case l.C:t.bezierCurveTo(s[p++],s[p++],s[p++],s[p++],s[p++],s[p++]),i=s[p-2],n=s[p-1];break;case l.Q:t.quadraticCurveTo(s[p++],s[p++],s[p++],s[p++]),i=s[p-2],n=s[p-1];break;case l.A:var y=s[p++],g=s[p++],_=s[p++],x=s[p++],b=s[p++],w=s[p++],C=s[p++],S=s[p++],O=x<_?_:x,P=x<_?1:_/x,T=x<_?x/_:1,L=b+w;.001<Math.abs(_-x)?(t.translate(y,g),t.rotate(C),t.scale(P,T),t.arc(0,0,O,b,L,1-S),t.scale(1/P,1/T),t.rotate(-C),t.translate(-y,-g)):t.arc(y,g,O,b,L,1-S),1===p&&(e=d(b)*_+y,r=v(b)*x+g),i=d(L)*_+y,n=v(L)*x+g;break;case l.R:e=i=s[p],r=n=s[p+1],t.rect(s[p++],s[p++],s[p++],s[p++]);break;case l.Z:t.closePath(),i=e,n=r}}}},x.CMD=l;var b=x;t.exports=b},function(t,e,r){var i=r(9),n=i.create,o=i.distSquare,a=Math.pow,s=Math.sqrt,l=1e-8,c=s(3),h=n(),u=n(),p=n();function f(t){return-l<t&&t<l}function y(t){return l<t||t<-l}function d(t,e,r,i,n){var o=1-n;return o*o*(o*t+3*n*e)+n*n*(n*i+3*o*r)}function v(t,e,r,i){var n=1-i;return n*(n*t+2*i*e)+i*i*r}e.cubicAt=d,e.cubicDerivativeAt=function(t,e,r,i,n){var o=1-n;return 3*(((e-t)*o+2*(r-e)*n)*o+(i-r)*n*n)},e.cubicRootAt=function(t,e,r,i,n,o){var l=i+3*(e-r)-t,h=3*(r-2*e+t),u=3*(e-t),p=t-n,y=h*h-3*l*u,d=h*u-9*l*p,v=u*u-3*h*p,g=0;if(f(y)&&f(d))f(h)?o[0]=0:0<=(L=-u/h)&&L<=1&&(o[g++]=L);else{var m=d*d-4*y*v;if(f(m)){var _=d/y,x=-_/2;0<=(L=-h/l+_)&&L<=1&&(o[g++]=L),0<=x&&x<=1&&(o[g++]=x)}else if(0<m){var b=s(m),w=y*h+1.5*l*(-d+b),C=y*h+1.5*l*(-d-b);0<=(L=(-h-((w=w<0?-a(-w,1/3):a(w,1/3))+(C=C<0?-a(-C,1/3):a(C,1/3))))/(3*l))&&L<=1&&(o[g++]=L)}else{var S=(2*y*h-3*l*d)/(2*s(y*y*y)),O=Math.acos(S)/3,P=s(y),T=Math.cos(O),L=(-h-2*P*T)/(3*l),A=(x=(-h+P*(T+c*Math.sin(O)))/(3*l),(-h+P*(T-c*Math.sin(O)))/(3*l));0<=L&&L<=1&&(o[g++]=L),0<=x&&x<=1&&(o[g++]=x),0<=A&&A<=1&&(o[g++]=A)}}return g},e.cubicExtrema=function(t,e,r,i,n){var o=6*r-12*e+6*t,a=9*e+3*i-3*t-9*r,l=3*e-3*t,c=0;if(f(a))y(o)&&0<=(u=-l/o)&&u<=1&&(n[c++]=u);else{var h=o*o-4*a*l;if(f(h))n[0]=-o/(2*a);else if(0<h){var u,p=s(h),d=(-o-p)/(2*a);0<=(u=(-o+p)/(2*a))&&u<=1&&(n[c++]=u),0<=d&&d<=1&&(n[c++]=d)}}return c},e.cubicSubdivide=function(t,e,r,i,n,o){var a=(e-t)*n+t,s=(r-e)*n+e,l=(i-r)*n+r,c=(s-a)*n+a,h=(l-s)*n+s,u=(h-c)*n+c;o[0]=t,o[1]=a,o[2]=c,o[3]=u,o[4]=u,o[5]=h,o[6]=l,o[7]=i},e.cubicProjectPoint=function(t,e,r,i,n,a,l,c,f,y,v){var g,m,_,x,b,w=.005,C=1/0;h[0]=f,h[1]=y;for(var S=0;S<1;S+=.05)u[0]=d(t,r,n,l,S),u[1]=d(e,i,a,c,S),(x=o(h,u))<C&&(g=S,C=x);C=1/0;for(var O=0;O<32&&!(w<1e-4);O++)m=g-w,_=g+w,u[0]=d(t,r,n,l,m),u[1]=d(e,i,a,c,m),x=o(u,h),0<=m&&x<C?(g=m,C=x):(p[0]=d(t,r,n,l,_),p[1]=d(e,i,a,c,_),b=o(p,h),_<=1&&b<C?(g=_,C=b):w*=.5);return v&&(v[0]=d(t,r,n,l,g),v[1]=d(e,i,a,c,g)),s(C)},e.quadraticAt=v,e.quadraticDerivativeAt=function(t,e,r,i){return 2*((1-i)*(e-t)+i*(r-e))},e.quadraticRootAt=function(t,e,r,i,n){var o=t-2*e+r,a=2*(e-t),l=t-i,c=0;if(f(o))y(a)&&0<=(u=-l/a)&&u<=1&&(n[c++]=u);else{var h=a*a-4*o*l;if(f(h))0<=(u=-a/(2*o))&&u<=1&&(n[c++]=u);else if(0<h){var u,p=s(h),d=(-a-p)/(2*o);0<=(u=(-a+p)/(2*o))&&u<=1&&(n[c++]=u),0<=d&&d<=1&&(n[c++]=d)}}return c},e.quadraticExtremum=function(t,e,r){var i=t+r-2*e;return 0===i?.5:(t-e)/i},e.quadraticSubdivide=function(t,e,r,i,n){var o=(e-t)*i+t,a=(r-e)*i+e,s=(a-o)*i+o;n[0]=t,n[1]=o,n[2]=s,n[3]=s,n[4]=a,n[5]=r},e.quadraticProjectPoint=function(t,e,r,i,n,a,l,c,f){var y,d=.005,g=1/0;h[0]=l,h[1]=c;for(var m=0;m<1;m+=.05)u[0]=v(t,r,n,m),u[1]=v(e,i,a,m),(w=o(h,u))<g&&(y=m,g=w);g=1/0;for(var _=0;_<32&&!(d<1e-4);_++){var x=y-d,b=y+d;u[0]=v(t,r,n,x),u[1]=v(e,i,a,x);var w=o(u,h);if(0<=x&&w<g)y=x,g=w;else{p[0]=v(t,r,n,b),p[1]=v(e,i,a,b);var C=o(p,h);b<=1&&C<g?(y=b,g=C):d*=.5}}return f&&(f[0]=v(t,r,n,y),f[1]=v(e,i,a,y)),s(g)}},function(t,e,r){var i=r(31),n=r(3),o=r(48),a=r(47),s=r(46).ContextCachedBy,l=function(t){i.call(this,t)};l.prototype={constructor:l,type:"text",brush:function(t,e){var r=this.style;this.__dirty&&a.normalizeTextStyle(r,!0),r.fill=r.stroke=r.shadowBlur=r.shadowColor=r.shadowOffsetX=r.shadowOffsetY=null;var i=r.text;null!=i&&(i+=""),a.needDrawText(i,r)?(this.setTransform(t),a.renderText(this,t,i,r,null,e),this.restoreTransform(t)):t.__attrCachedBy=s.NONE},getBoundingRect:function(){var t=this.style;if(this.__dirty&&a.normalizeTextStyle(t,!0),!this._rect){var e=t.text;null!=e?e+="":e="";var r=o.getBoundingRect(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich);if(r.x+=t.x||0,r.y+=t.y||0,a.getStroke(t.textStroke,t.textStrokeWidth)){var i=t.textStrokeWidth;r.x-=i/2,r.y-=i/2,r.width+=i,r.height+=i}this._rect=r}return this._rect}},n.inherits(l,i);var c=l;t.exports=c},function(t,e,r){"use strict";r.r(e);var i=r(2),n=(i.util,i.graphic),o=i.matrix;function a(t,e){this._cesiumMap=t._cesiumMap,this._seriesType=e,this._mapOffset=[0,0],this.dimensions=["lng","lat"],this._api=t}a.prototype.dimensions=["lng","lat"],a.prototype.dataToPoint=function(t){var e=this._cesiumMap,r=Cesium.Cartesian3.fromDegrees(t[0],t[1]),i=[];if(!r)return[0,0];if(i=Array.isArray(r)?[-r[0],-r[1],-r[2]]:[-r.x,-r.y,-r.z],"flowGL"==this._seriesType){var n=e.cartesianToCanvasCoordinates(r);return[n.x,n.y]}if("lines"==this._seriesType&&(i=!1),e.mode===Cesium.SceneMode.SCENE3D&&Cesium.Cartesian3.angleBetween(e.camera.position,r)>Cesium.Math.toRadians(80))return i;var o=e.cartesianToCanvasCoordinates(r);return[o.x,o.y]},a.dimensions=a.prototype.dimensions,a.prototype.getViewRect=function(){var t=this._api;return new n.BoundingRect(0,0,t.getWidth(),t.getHeight())},a.prototype.getRoamTransform=function(){return o.create()},a.prototype.getCesiumMap=function(){return this._cesiumMap},a.prototype.pointToData=function(t){var e=this._mapOffset;return[(t=this._cesiumMap.project({x:t[0]+e[0],y:t[1]+e[1]})).lng,t.lat]},a.prototype.setMapOffset=function(t){this._mapOffset=t},a.create=function(t,e){var r;t.eachSeries(function(t){if("CesiumMap"===t.get("coordinateSystem")){var i=t.subType;r=new a(e,i),t.coordinateSystem=r}}),t.eachComponent("CesiumMap",function(t){t.coordinateSystem=r})};var s=a,l=function(){i.extendComponentModel({type:"CesiumMap",getCesiumMap:function(){return this.coordinateSystem.cesiumMap},getCenter:function(){return this.option.center},setCenterAndZoom:function(t,e){this.option.center=t,this.option.zoom=e},centerOrZoomChanged:function(t,e){var r=this.option;return!(this.v2Equal(t,r.center)&&e===r.zoom)},defaultOption:{center:[104.114129,37.550339],zoom:5,mapStyle:{},roam:!1}})},c=function(t){i.extendComponentView({type:"CesiumMap",moveHandler:function(t){this.api.dispatchAction({type:"CesiumMapRoam"})},moveStartEvent:function(){t.postRender.addEventListener(this.moveHandler,this)},moveEndEvent:function(){t.postRender.removeEventListener(this.moveHandler,this)},init:function(e,r){this.api=r,(this.api._cesiumMap=t).camera.moveStart.addEventListener(this.moveStartEvent,this),t.camera.moveEnd.addEventListener(this.moveEndEvent,this)},render:function(t,e,r){},dispose:function(){t.camera.moveStart.removeEventListener(this.moveStartEvent,this),t.camera.moveEnd.removeEventListener(this.moveEndEvent,this)}})},h=function(t){new l,new c(t),i.registerCoordinateSystem("CesiumMap",s),i.registerAction({type:"CesiumMapRoam",event:"CesiumMapRoam",update:"updateLayout"},function(t,e){e.eachComponent("CesiumMap",function(t){})})};function u(t,e){return this._mapContainer=t._cesiumWidget,this._chartContainer=function(t){new h(t.scene);var e=document.createElement("div"),r=t.canvas;return r.setAttribute("tabIndex",0),e.style.position="absolute",e.style.top=r.offsetTop+"px",e.style.left=r.offsetLeft+"px",e.style.width=r.offsetWidth+"px",e.style.height=r.offsetHeight+"px",e.style.pointerEvents="none",e.setAttribute("class","echartMap"),t.container.appendChild(e),e}(this._mapContainer),this._layer=i.init(this._chartContainer),this._layer.setOption(e),this}r(17),u.prototype.updateOverlay=function(t){this._layer&&this._layer.setOption(t)},u.prototype.getMap=function(){return this._mapContainer},u.prototype.getOverlay=function(){return this._chartContainer},u.prototype.getVisible=function(){var t=!0;return"visible"!==(this._chartContainer.style.visibility||"visible")&&(t=!1),t},u.prototype.setVisible=function(t){var e="visible";t||(e="hidden"),this._chartContainer.style.visibility=e},u.prototype.getZIndex=function(){return this._chartContainer.style.zIndex},u.prototype.setZIndex=function(t){this._chartContainer.style.zIndex=t},u.prototype.getOpacity=function(){return this._chartContainer.style.opacity},u.prototype.setOpacity=function(t){this._chartContainer.style.opacity=t},u.prototype.removeLayer=function(){this._mapContainer.container.removeChild(this._chartContainer)},e.default=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.AnimationType=function(){}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.fields=[]}return t.prototype.addField=function(t){this.fields.push(t)},t.prototype.getCount=function(){return this.fields.length},t.prototype.get=function(t){return this.fields[t]},t}();e.Fields=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataType",{get:function(){return this._dataType},set:function(t){this._dataType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alias",{get:function(){return this._alias},set:function(t){this._alias=t},enumerable:!0,configurable:!0}),t}();e.Field=i},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.setGeometry=function(t){this._geometry=t},e.prototype.getGeometry=function(){return this._geometry},e}(r(54).Entity);e.Feature=o},function(t,e,r){var i=r(45).debugMode,n=function(){};1===i?n=function(){for(var t in arguments)throw new Error(arguments[t])}:1<i&&(n=function(){for(var t in arguments)console.log(arguments[t])});var o=n;t.exports=o},function(t,e,r){var i=r(3),n=r(64),o=r(95),a=r(101);function s(t){for(var e in t=t||{},o.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new n(t.style,this),this._rect=null,this.__clipPaths=[]}s.prototype={constructor:s,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var r=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(r[0],r[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?o.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new n(t,this),this.dirty(!1),this}},i.inherits(s,o),i.mixin(s,a);var l=s;t.exports=l},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r,i){var n=t.call(this,"Polygon",e,r,i)||this;return n.cx=e,n.cy=r,n.len=i,n}return n(e,t),e.prototype.create=function(t){var e=t[0],r=t[1],i=t[2];return{shape:{points:[[e-i*Math.sqrt(3),r+i],[e,r+2*i],[e+i*Math.sqrt(3),r+i],[e+i*Math.sqrt(3),r-i],[e,r-2*i],[e-i*Math.sqrt(3),r-i]]},style:{stroke:"none",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(r(8).GraphicZrender);e.RegularSix=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var r=t.call(this)||this;return e=e||{},r.gradient=e.gradient||{0:"rgba(0, 0, 255, 1)",.25:"rgba(0, 255, 0, 1)",.5:"rgba(255, 255, 0, 1)",.75:"rgba(255, 0, 0, 1)"},r.maxSize=e.maxSize||35,r.minSize=e.minSize||0,r.max=e.max||100,r.min=e.min||0,r.initPalette(),r}return n(e,t),e.prototype.setMax=function(t){this.max=t},e.prototype.setMin=function(t){this.min=t},e.prototype.setMaxSize=function(t){this.maxSize=t||35},e.prototype.setMinSize=function(t){this.minSize=t||35},e.prototype.initPalette=function(){var t=this.gradient,e=document.createElement("canvas");e.width=256,e.height=1;var r=this.paletteCtx=e.getContext("2d"),i=r.createLinearGradient(0,0,256,1);for(var n in t)i.addColorStop(parseFloat(n),t[n]);r.fillStyle=i,r.fillRect(0,0,256,1)},e.prototype.getColor=function(t){var e=this.getImageData(t);return"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]/256+")"},e.prototype.getImageData=function(t){var e=this.paletteCtx.getImageData(0,0,256,1).data;if(void 0===t)return e;var r=this.max,i=this.min;r<t&&(t=r),t<i&&(t=i);var n=4*Math.floor((t-i)/(r-i)*255);return[e[n],e[n+1],e[n+2],e[n+3]]},e.prototype.getSize=function(t){var e=this.max,r=this.min,i=this.maxSize,n=this.minSize;return e<t&&(t=e),t<r&&(t=r),r<e?n+(t-r)/(e-r)*(i-n):i},e.prototype.getLegend=function(t){var e=this.gradient,r=t.legend.width||20,i=t.legend.height||180,n=t.legend.text||[this.max,this.min],o=t.legend.left||10,a=t.legend.bottom||50,s=t.legend.fontColor||"rgb(0,0,0)",l=document.createElement("canvas");l.setAttribute("class","chartLegend"),l.width=3*r,l.height=i;var c=l.getContext("2d");if(t.legend.show){var h=c.createLinearGradient(0,i-40,0,0);for(var u in e)h.addColorStop(parseFloat(u),e[u]);c.fillStyle=h,c.fillRect(0,20,r,i-40),c.font="20px sans-serif",c.fillStyle=s,c.fillText(n[0],0,20),c.fillText(n[1],0,i),l.style.position="absolute",l.style.left=o+"px",l.style.bottom=a+"px"}else c.clearRect(0,0,l.width,l.height);return l},e}(r(291).ColorRange);e.Intensity=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(118),a=r(1),s=function(t){function e(e,r){var i=t.call(this)||this,n=i.initConfig(r),o={maxZoom:n.maxZoom,minZoom:n.minZoom,level:n.zoom,projection:"EPSG:"+n.projection,center:n.center};n.hasOwnProperty("extent")&&(o.extent=n.extent),i.g2map=new a.carto.Map({defaultExtent:o});var s=e.getAttribute("id");return i.g2map.init({targetId:s}),i}return n(e,t),e.prototype.initConfig=function(t){var e={maxZoom:23,minZoom:0,zoom:5,projection:4326,center:[116.343811227417,39.88078623809814]};for(var r in t)e[r]=t[r];return e},e.prototype.addLayer=function(t){this.g2map.addLayer(t)},e.prototype.getMap=function(){return this.g2map},e.prototype.getViewSize=function(){return this.g2map.getViewSize()},e.prototype.stopInteraction=function(){this.g2map.removeInteractions(),this.g2map.stopMouseWheelZoom()},e}(o.Map);e.TSMap=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ChartBase=function(){}},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return t.call(this)||this}return n(e,t),e}(r(35).ChartBase);e.MapChart=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.types=new Map}return t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},t.find=function(e){return t.getInstance().find(e)},t.has=function(e){return t.getInstance().has(e)},t.add=function(e){t.getInstance().add(e)},t.prototype.find=function(t){return this.has(t)?this.types.get(t):null},t.prototype.has=function(t){return this.types.has(t)},t.prototype.add=function(t){this.types.set(t.getName(),t)},t}();e.TypeTable=i},function(t,e,r){"use strict";var i=this&&this.__decorate||function(t,e,r,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;0<=s;s--)(n=t[s])&&(a=(o<3?n(a):3<o?n(e,r,a):n(e,r))||a);return 3<o&&a&&Object.defineProperty(e,r,a),a},n=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=r(19),a=function(){function t(){this.entrys=[]}return t.prototype.addEntry=function(t){this.entrys.push(t)},t.prototype.getCount=function(){return this.entrys.length},t.prototype.get=function(t){return this.entrys[t]},i([o.__Type({name:"ChartItem",namespace:"http://www.dv.com"}),n("design:paramtypes",[])],t)}();e.ChartItem=a},function(t,e,r){"use strict";var i=this&&this.__decorate||function(t,e,r,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;0<=s;s--)(n=t[s])&&(a=(o<3?n(a):3<o?n(e,r,a):n(e,r))||a);return 3<o&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(e,"__esModule",{value:!0});var n=r(19),o=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alias",{get:function(){return this._alias},set:function(t){this._alias=t},enumerable:!0,configurable:!0}),i([n.__Type({name:"ChartEntry",namespace:"http://www.dv.com"})],t)}();e.ChartEntry=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(r(60).MapSource);e.FeatureSource=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.StatChart=function(){}},function(t,e){var r=Array.prototype.slice,i=function(t){this._$handlers={},this._$eventProcessor=t};function n(t,e,r,i,n,o){var a,s,l=t._$handlers;if("function"==typeof r&&(n=i,i=r,r=null),!i||!e)return t;a=r,s=t._$eventProcessor,null!=a&&s&&s.normalizeQuery&&(a=s.normalizeQuery(a)),r=a,l[e]||(l[e]=[]);for(var c=0;c<l[e].length;c++)if(l[e][c].h===i)return t;var h={h:i,one:o,query:r,ctx:n||t,callAtLast:i.zrEventfulCallAtLast},u=l[e].length-1,p=l[e][u];return p&&p.callAtLast?l[e].splice(u,0,h):l[e].push(h),t}i.prototype={constructor:i,one:function(t,e,r,i){return n(this,t,e,r,i,!0)},on:function(t,e,r,i){return n(this,t,e,r,i,!1)},isSilent:function(t){var e=this._$handlers;return!e[t]||!e[t].length},off:function(t,e){var r=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(r[t]){for(var i=[],n=0,o=r[t].length;n<o;n++)r[t][n].h!==e&&i.push(r[t][n]);r[t]=i}r[t]&&0===r[t].length&&delete r[t]}else delete r[t];return this},trigger:function(t){var e=this._$handlers[t],i=this._$eventProcessor;if(e){var n=arguments,o=n.length;3<o&&(n=r.call(n,1));for(var a=e.length,s=0;s<a;){var l=e[s];if(i&&i.filter&&null!=l.query&&!i.filter(t,l.query))s++;else{switch(o){case 1:l.h.call(l.ctx);break;case 2:l.h.call(l.ctx,n[1]);break;case 3:l.h.call(l.ctx,n[1],n[2]);break;default:l.h.apply(l.ctx,n)}l.one?(e.splice(s,1),a--):s++}}}return i&&i.afterTrigger&&i.afterTrigger(t),this},triggerWithContext:function(t){var e=this._$handlers[t],i=this._$eventProcessor;if(e){var n=arguments,o=n.length;4<o&&(n=r.call(n,1,n.length-1));for(var a=n[n.length-1],s=e.length,l=0;l<s;){var c=e[l];if(i&&i.filter&&null!=c.query&&!i.filter(t,c.query))l++;else{switch(o){case 1:c.h.call(a);break;case 2:c.h.call(a,n[1]);break;case 3:c.h.call(a,n[1],n[2]);break;default:c.h.apply(a,n)}c.one?(e.splice(l,1),s--):l++}}}return i&&i.afterTrigger&&i.afterTrigger(t),this}};var o=i;t.exports=o},function(t,e,r){var i=r(42);e.Dispatcher=i;var n=r(13),o="undefined"!=typeof window&&!!window.addEventListener,a=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;function s(t,e,r,i){return r=r||{},i||!n.canvasSupported?l(t,e,r):n.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(r.zrX=e.layerX,r.zrY=e.layerY):null!=e.offsetX?(r.zrX=e.offsetX,r.zrY=e.offsetY):l(t,e,r),r}function l(t,e,r){var i,n=(i=t).getBoundingClientRect?i.getBoundingClientRect():{left:0,top:0};r.zrX=e.clientX-n.left,r.zrY=e.clientY-n.top}var c=o?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};e.clientToLocal=s,e.normalizeEvent=function(t,e,r){if(null!=(e=e||window.event).zrX)return e;var i=e.type;if(i&&0<=i.indexOf("touch")){var n="touchend"!==i?e.targetTouches[0]:e.changedTouches[0];n&&s(t,n,e,r)}else s(t,e,e,r),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var o=e.button;return null==e.which&&void 0!==o&&a.test(e.type)&&(e.which=1&o?1:2&o?3:4&o?2:0),e},e.addEventListener=function(t,e,r){o?t.addEventListener(e,r):t.attachEvent("on"+e,r)},e.removeEventListener=function(t,e,r){o?t.removeEventListener(e,r):t.detachEvent("on"+e,r)},e.stop=c,e.isMiddleOrRightButtonOnMouseUpDown=function(t){return 2===t.which||3===t.which},e.notLeftMouse=function(t){return 1<t.which}},function(t,e,r){var i=r(97),n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function o(t){return(t=Math.round(t))<0?0:255<t?255:t}function a(t){return t<0?0:1<t?1:t}function s(t){return t.length&&"%"===t.charAt(t.length-1)?o(parseFloat(t)/100*255):o(parseInt(t,10))}function l(t){return t.length&&"%"===t.charAt(t.length-1)?a(parseFloat(t)/100):a(parseFloat(t))}function c(t,e,r){return r<0?r+=1:1<r&&(r-=1),6*r<1?t+(e-t)*r*6:2*r<1?e:3*r<2?t+(e-t)*(2/3-r)*6:t}function h(t,e,r){return t+(e-t)*r}function u(t,e,r,i,n){return t[0]=e,t[1]=r,t[2]=i,t[3]=n,t}function p(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var f=new i(20),y=null;function d(t,e){y&&p(y,e),y=f.put(t,y||e.slice())}function v(t,e){if(t){e=e||[];var r=f.get(t);if(r)return p(e,r);var i,o=(t+="").replace(/ /g,"").toLowerCase();if(o in n)return p(e,n[o]),d(t,e),e;if("#"===o.charAt(0))return 4===o.length?0<=(i=parseInt(o.substr(1),16))&&i<=4095?(u(e,(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1),d(t,e),e):void u(e,0,0,0,1):7===o.length?0<=(i=parseInt(o.substr(1),16))&&i<=16777215?(u(e,(16711680&i)>>16,(65280&i)>>8,255&i,1),d(t,e),e):void u(e,0,0,0,1):void 0;var a=o.indexOf("("),c=o.indexOf(")");if(-1!==a&&c+1===o.length){var h=o.substr(0,a),y=o.substr(a+1,c-(a+1)).split(","),v=1;switch(h){case"rgba":if(4!==y.length)return void u(e,0,0,0,1);v=l(y.pop());case"rgb":return 3!==y.length?void u(e,0,0,0,1):(u(e,s(y[0]),s(y[1]),s(y[2]),v),d(t,e),e);case"hsla":return 4!==y.length?void u(e,0,0,0,1):(y[3]=l(y[3]),g(y,e),d(t,e),e);case"hsl":return 3!==y.length?void u(e,0,0,0,1):(g(y,e),d(t,e),e);default:return}}u(e,0,0,0,1)}}function g(t,e){var r=(parseFloat(t[0])%360+360)%360/360,i=l(t[1]),n=l(t[2]),a=n<=.5?n*(i+1):n+i-n*i,s=2*n-a;return u(e=e||[],o(255*c(s,a,r+1/3)),o(255*c(s,a,r)),o(255*c(s,a,r-1/3)),1),4===t.length&&(e[3]=t[3]),e}function m(t,e,r){if(e&&e.length&&0<=t&&t<=1){r=r||[];var i=t*(e.length-1),n=Math.floor(i),s=Math.ceil(i),l=e[n],c=e[s],u=i-n;return r[0]=o(h(l[0],c[0],u)),r[1]=o(h(l[1],c[1],u)),r[2]=o(h(l[2],c[2],u)),r[3]=a(h(l[3],c[3],u)),r}}var _=m;function x(t,e,r){if(e&&e.length&&0<=t&&t<=1){var i=t*(e.length-1),n=Math.floor(i),s=Math.ceil(i),l=v(e[n]),c=v(e[s]),u=i-n,p=w([o(h(l[0],c[0],u)),o(h(l[1],c[1],u)),o(h(l[2],c[2],u)),a(h(l[3],c[3],u))],"rgba");return r?{color:p,leftIndex:n,rightIndex:s,value:i}:p}}var b=x;function w(t,e){if(t&&t.length){var r=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(r+=","+t[3]),e+"("+r+")"}}e.parse=v,e.lift=function(t,e){var r=v(t);if(r){for(var i=0;i<3;i++)r[i]=e<0?r[i]*(1-e)|0:(255-r[i])*e+r[i]|0,255<r[i]?r[i]=255:t[i]<0&&(r[i]=0);return w(r,4===r.length?"rgba":"rgb")}},e.toHex=function(t){var e=v(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},e.fastLerp=m,e.fastMapToColor=_,e.lerp=x,e.mapToColor=b,e.modifyHSL=function(t,e,r,i){if(t=v(t))return t=function(t){if(t){var e,r,i=t[0]/255,n=t[1]/255,o=t[2]/255,a=Math.min(i,n,o),s=Math.max(i,n,o),l=s-a,c=(s+a)/2;if(0===l)r=e=0;else{r=c<.5?l/(s+a):l/(2-s-a);var h=((s-i)/6+l/2)/l,u=((s-n)/6+l/2)/l,p=((s-o)/6+l/2)/l;i===s?e=p-u:n===s?e=1/3+h-p:o===s&&(e=2/3+u-h),e<0&&(e+=1),1<e&&(e-=1)}var f=[360*e,r,c];return null!=t[3]&&f.push(t[3]),f}}(t),null!=e&&(t[0]=(n=e,(n=Math.round(n))<0?0:360<n?360:n)),null!=r&&(t[1]=l(r)),null!=i&&(t[2]=l(i)),w(g(t),"rgba");var n},e.modifyAlpha=function(t,e){if((t=v(t))&&null!=e)return t[3]=a(e),w(t,"rgba")},e.stringify=w},function(t,e){var r=1;"undefined"!=typeof window&&(r=Math.max(window.devicePixelRatio||1,1));var i=r;e.debugMode=0,e.devicePixelRatio=i},function(t,e){e.ContextCachedBy={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},e.WILL_BE_RESTORED=9},function(t,e,r){var i=r(3),n=i.retrieve2,o=i.retrieve3,a=i.each,s=i.normalizeCssArray,l=i.isString,c=i.isObject,h=r(48),u=r(102),p=r(66),f=r(99),y=r(46),d=y.ContextCachedBy,v=y.WILL_BE_RESTORED,g=h.DEFAULT_FONT,m={left:1,right:1,center:1},_={top:1,bottom:1,middle:1},x=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]];function b(t){if(t){t.font=h.makeFont(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||m[e]?e:"left";var r=t.textVerticalAlign||t.textBaseline;"center"===r&&(r="middle"),t.textVerticalAlign=null==r||_[r]?r:"top",t.textPadding&&(t.textPadding=s(t.textPadding))}}function w(t,e,r,i,n){if(r&&e.textRotation){var o=e.textOrigin;"center"===o?(i=r.width/2+r.x,n=r.height/2+r.y):o&&(i=o[0]+r.x,n=o[1]+r.y),t.translate(i,n),t.rotate(-e.textRotation),t.translate(-i,-n)}}function C(t,e,r,i,a,s,l,c){var h=i.rich[r.styleName]||{};h.text=r.text;var u=r.textVerticalAlign,p=s+a/2;"top"===u?p=s+r.height/2:"bottom"===u&&(p=s+a-r.height/2),!r.isLineHolder&&S(h)&&O(t,e,h,"right"===c?l-r.width:"center"===c?l-r.width/2:l,p-r.height/2,r.width,r.height);var f=r.textPadding;f&&(l=E(l,c,f),p-=r.height/2-f[2]-r.textHeight/2),L(e,"shadowBlur",o(h.textShadowBlur,i.textShadowBlur,0)),L(e,"shadowColor",h.textShadowColor||i.textShadowColor||"transparent"),L(e,"shadowOffsetX",o(h.textShadowOffsetX,i.textShadowOffsetX,0)),L(e,"shadowOffsetY",o(h.textShadowOffsetY,i.textShadowOffsetY,0)),L(e,"textAlign",c),L(e,"textBaseline","middle"),L(e,"font",r.font||g);var y=A(h.textStroke||i.textStroke,v),d=M(h.textFill||i.textFill),v=n(h.textStrokeWidth,i.textStrokeWidth);y&&(L(e,"lineWidth",v),L(e,"strokeStyle",y),e.strokeText(r.text,l,p)),d&&(L(e,"fillStyle",d),e.fillText(r.text,l,p))}function S(t){return!!(t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor)}function O(t,e,r,i,n,o,a){var s=r.textBackgroundColor,h=r.textBorderWidth,f=r.textBorderColor,y=l(s);if(L(e,"shadowBlur",r.textBoxShadowBlur||0),L(e,"shadowColor",r.textBoxShadowColor||"transparent"),L(e,"shadowOffsetX",r.textBoxShadowOffsetX||0),L(e,"shadowOffsetY",r.textBoxShadowOffsetY||0),y||h&&f){e.beginPath();var d=r.textBorderRadius;d?u.buildPath(e,{x:i,y:n,width:o,height:a,r:d}):e.rect(i,n,o,a),e.closePath()}if(y)if(L(e,"fillStyle",s),null!=r.fillOpacity){var v=e.globalAlpha;e.globalAlpha=r.fillOpacity*r.opacity,e.fill(),e.globalAlpha=v}else e.fill();else if(c(s)){var g=s.image;(g=p.createOrUpdateImage(g,null,t,P,s))&&p.isImageReady(g)&&e.drawImage(g,i,n,o,a)}h&&f&&(L(e,"lineWidth",h),L(e,"strokeStyle",f),null!=r.strokeOpacity?(v=e.globalAlpha,e.globalAlpha=r.strokeOpacity*r.opacity,e.stroke(),e.globalAlpha=v):e.stroke())}function P(t,e){e.image=t}function T(t,e,r){var i=e.x||0,n=e.y||0,o=e.textAlign,a=e.textVerticalAlign;if(r){var s=e.textPosition;if(s instanceof Array)i=r.x+k(s[0],r.width),n=r.y+k(s[1],r.height);else{var l=h.adjustTextPositionOnRect(s,r,e.textDistance);i=l.x,n=l.y,o=o||l.textAlign,a=a||l.textVerticalAlign}var c=e.textOffset;c&&(i+=c[0],n+=c[1])}return{baseX:i,baseY:n,textAlign:o,textVerticalAlign:a}}function L(t,e,r){return t[e]=f(t,e,r),t[e]}function A(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function M(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function k(t,e){return"string"==typeof t?0<=t.lastIndexOf("%")?parseFloat(t)/100*e:parseFloat(t):t}function E(t,e,r){return"right"===e?t-r[1]:"center"===e?t+r[3]/2-r[1]/2:t+r[3]}e.normalizeTextStyle=function(t){return b(t),a(t.rich,b),t},e.renderText=function(t,e,r,i,n,o){i.rich?function(t,e,r,i,n,o){o!==v&&(e.__attrCachedBy=d.NONE);var a=t.__textCotentBlock;a&&!t.__dirtyText||(a=t.__textCotentBlock=h.parseRichText(r,i)),function(t,e,r,i,n){var o=r.width,a=r.outerWidth,s=r.outerHeight,l=i.textPadding,c=T(0,i,n),u=c.baseX,p=c.baseY,f=c.textAlign,y=c.textVerticalAlign;w(e,i,n,u,p);var d=h.adjustTextX(u,a,f),v=h.adjustTextY(p,s,y),g=d,m=v;l&&(g+=l[3],m+=l[0]);var _=g+o;S(i)&&O(t,e,i,d,v,a,s);for(var x=0;x<r.lines.length;x++){for(var b,P=r.lines[x],L=P.tokens,A=L.length,M=P.lineHeight,k=P.width,E=0,D=g,z=_,j=A-1;E<A&&(!(b=L[E]).textAlign||"left"===b.textAlign);)C(t,e,b,i,M,m,D,"left"),k-=b.width,D+=b.width,E++;for(;0<=j&&"right"===(b=L[j]).textAlign;)C(t,e,b,i,M,m,z,"right"),k-=b.width,z-=b.width,j--;for(D+=(o-(D-g)-(_-z)-k)/2;E<=j;)C(t,e,b=L[E],i,M,m,D+b.width/2,"center"),D+=b.width,E++;m+=M}}(t,e,a,i,n)}(t,e,r,i,n,o):function(t,e,r,i,n,o){"use strict";var a,s=S(i),l=!1,c=e.__attrCachedBy===d.PLAIN_TEXT;o!==v?(o&&(a=o.style,l=!s&&c&&a),e.__attrCachedBy=s?d.NONE:d.PLAIN_TEXT):c&&(e.__attrCachedBy=d.NONE);var u=i.font||g;l&&u===(a.font||g)||(e.font=u);var p=t.__computedFont;t.__styleFont!==u&&(t.__styleFont=u,p=t.__computedFont=e.font);var y=i.textPadding,m=i.textLineHeight,_=t.__textCotentBlock;_&&!t.__dirtyText||(_=t.__textCotentBlock=h.parsePlainText(r,p,y,m,i.truncate));var b=_.outerHeight,C=_.lines,P=_.lineHeight,L=T(0,i,n),k=L.baseX,D=L.baseY,z=L.textAlign||"left",j=L.textVerticalAlign;w(e,i,n,k,D);var B=h.adjustTextY(D,b,j),F=k,R=B;if(s||y){var I=h.getWidth(r,p);y&&(I+=y[1]+y[3]);var N=h.adjustTextX(k,I,z);s&&O(t,e,i,N,B,I,b),y&&(F=E(k,z,y),R+=y[0])}e.textAlign=z,e.textBaseline="middle",e.globalAlpha=i.opacity||1;for(var W=0;W<x.length;W++){var G=x[W],V=G[0],H=G[1],q=i[V];l&&q===a[V]||(e[H]=f(e,H,q||G[2]))}R+=P/2;var U=i.textStrokeWidth,Z=l?a.textStrokeWidth:null,X=!l||U!==Z,Y=!l||X||i.textStroke!==a.textStroke,J=A(i.textStroke,U),$=M(i.textFill);if(J&&(X&&(e.lineWidth=U),Y&&(e.strokeStyle=J)),$&&(l&&i.textFill===a.textFill||(e.fillStyle=$)),1===C.length)J&&e.strokeText(C[0],F,R),$&&e.fillText(C[0],F,R);else for(W=0;W<C.length;W++)J&&e.strokeText(C[W],F,R),$&&e.fillText(C[W],F,R),R+=P}(t,e,r,i,n,o)},e.getStroke=A,e.getFill=M,e.needDrawText=function(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}},function(t,e,r){var i=r(10),n=r(66),o=r(3),a=o.getContext,s=o.extend,l=o.retrieve2,c=o.retrieve3,h=o.trim,u={},p=0,f=5e3,y=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,d="12px sans-serif",v={};function g(t,e){var r=t+":"+(e=e||d);if(u[r])return u[r];for(var i=(t+"").split("\n"),n=0,o=0,a=i.length;o<a;o++)n=Math.max(O(i[o],e).width,n);return f<p&&(p=0,u={}),p++,u[r]=n}function m(t,e,r){return"right"===r?t-=e:"center"===r&&(t-=e/2),t}function _(t,e,r){return"middle"===r?t-=e/2:"bottom"===r&&(t-=e),t}function x(t,e,r,i,n){if(!e)return"";var o=(t+"").split("\n");n=b(e,r,i,n);for(var a=0,s=o.length;a<s;a++)o[a]=w(o[a],n);return o.join("\n")}function b(t,e,r,i){(i=s({},i)).font=e,r=l(r,"..."),i.maxIterations=l(i.maxIterations,2);var n=i.minChar=l(i.minChar,0);i.cnCharWidth=g("国",e);var o=i.ascCharWidth=g("a",e);i.placeholder=l(i.placeholder,"");for(var a=t=Math.max(0,t-1),c=0;c<n&&o<=a;c++)a-=o;var h=g(r,e);return a<h&&(r="",h=0),a=t-h,i.ellipsis=r,i.ellipsisWidth=h,i.contentWidth=a,i.containerWidth=t,i}function w(t,e){var r=e.containerWidth,i=e.font,n=e.contentWidth;if(!r)return"";var o=g(t,i);if(o<=r)return t;for(var a=0;;a++){if(o<=n||a>=e.maxIterations){t+=e.ellipsis;break}var s=0===a?C(t,n,e.ascCharWidth,e.cnCharWidth):0<o?Math.floor(t.length*n/o):0;o=g(t=t.substr(0,s),i)}return""===t&&(t=e.placeholder),t}function C(t,e,r,i){for(var n=0,o=0,a=t.length;o<a&&n<e;o++){var s=t.charCodeAt(o);n+=0<=s&&s<=127?r:i}return o}function S(t){return g("国",t)}function O(t,e){return v.measureText(t,e)}function P(t,e,r,i,n){null!=t&&(t+="");var o=l(i,S(e)),a=t?t.split("\n"):[],s=a.length*o,c=s;if(r&&(c+=r[0]+r[2]),t&&n){var h=n.outerHeight,u=n.outerWidth;if(null!=h&&h<c)t="",a=[];else if(null!=u)for(var p=b(u-(r?r[1]+r[3]:0),e,n.ellipsis,{minChar:n.minChar,placeholder:n.placeholder}),f=0,y=a.length;f<y;f++)a[f]=w(a[f],p)}return{lines:a,height:s,outerHeight:c,lineHeight:o}}function T(t,e){var r={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return r;for(var i,o=y.lastIndex=0;null!=(i=y.exec(t));){var a=i.index;o<a&&L(r,t.substring(o,a)),L(r,i[2],i[1]),o=y.lastIndex}o<t.length&&L(r,t.substring(o,t.length));var s=r.lines,h=0,u=0,p=[],f=e.textPadding,d=e.truncate,v=d&&d.outerWidth,m=d&&d.outerHeight;f&&(null!=v&&(v-=f[1]+f[3]),null!=m&&(m-=f[0]+f[2]));for(var _=0;_<s.length;_++){for(var b=s[_],w=0,C=0,O=0;O<b.tokens.length;O++){var P=(F=b.tokens[O]).styleName&&e.rich[F.styleName]||{},T=F.textPadding=P.textPadding,A=F.font=P.font||e.font,M=F.textHeight=l(P.textHeight,S(A));if(T&&(M+=T[0]+T[2]),F.height=M,F.lineHeight=c(P.textLineHeight,e.textLineHeight,M),F.textAlign=P&&P.textAlign||e.textAlign,F.textVerticalAlign=P&&P.textVerticalAlign||"middle",null!=m&&h+F.lineHeight>m)return{lines:[],width:0,height:0};F.textWidth=g(F.text,A);var k=P.textWidth,E=null==k||"auto"===k;if("string"==typeof k&&"%"===k.charAt(k.length-1))F.percentWidth=k,p.push(F),k=0;else{if(E){k=F.textWidth;var D=P.textBackgroundColor,z=D&&D.image;z&&(z=n.findExistImage(z),n.isImageReady(z)&&(k=Math.max(k,z.width*M/z.height)))}var j=T?T[1]+T[3]:0;k+=j;var B=null!=v?v-C:null;null!=B&&B<k&&(!E||B<j?(F.text="",F.textWidth=k=0):(F.text=x(F.text,B-j,A,d.ellipsis,{minChar:d.minChar}),F.textWidth=g(F.text,A),k=F.textWidth+j))}C+=F.width=k,P&&(w=Math.max(w,F.lineHeight))}b.width=C,h+=b.lineHeight=w,u=Math.max(u,C)}for(r.outerWidth=r.width=l(e.textWidth,u),r.outerHeight=r.height=l(e.textHeight,h),f&&(r.outerWidth+=f[1]+f[3],r.outerHeight+=f[0]+f[2]),_=0;_<p.length;_++){var F,R=(F=p[_]).percentWidth;F.width=parseInt(R,10)/100*u}return r}function L(t,e,r){for(var i=""===e,n=e.split("\n"),o=t.lines,a=0;a<n.length;a++){var s=n[a],l={styleName:r,text:s,isLineHolder:!s&&!i};if(a)o.push({tokens:[l]});else{var c=(o[o.length-1]||(o[0]={tokens:[]})).tokens,h=c.length;1===h&&c[0].isLineHolder?c[0]=l:(s||!h||i)&&c.push(l)}}}v.measureText=function(t,e){var r=a();return r.font=e||d,r.measureText(t)},e.DEFAULT_FONT=d,e.$override=function(t,e){v[t]=e},e.getWidth=g,e.getBoundingRect=function(t,e,r,n,o,a,s,l){return s?(h=n,p=(u=T(t,{rich:s,truncate:l,font:e,textAlign:c=r,textPadding:o,textLineHeight:a})).outerWidth,f=u.outerHeight,y=m(0,p,c),d=_(0,f,h),new i(y,d,p,f)):function(t,e,r,n,o,a,s){var l=P(t,e,o,a,s),c=g(t,e);o&&(c+=o[1]+o[3]);var h=l.outerHeight,u=m(0,c,r),p=_(0,h,n),f=new i(u,p,c,h);return f.lineHeight=l.lineHeight,f}(t,e,r,n,o,a,l);var c,h,u,p,f,y,d},e.adjustTextX=m,e.adjustTextY=_,e.adjustTextPositionOnRect=function(t,e,r){var i=e.x,n=e.y,o=e.height,a=e.width,s=o/2,l="left",c="top";switch(t){case"left":i-=r,n+=s,l="right",c="middle";break;case"right":i+=r+a,n+=s,c="middle";break;case"top":i+=a/2,n-=r,l="center",c="bottom";break;case"bottom":i+=a/2,n+=o+r,l="center";break;case"inside":i+=a/2,n+=s,l="center",c="middle";break;case"insideLeft":i+=r,n+=s,c="middle";break;case"insideRight":i+=a-r,n+=s,l="right",c="middle";break;case"insideTop":i+=a/2,n+=r,l="center";break;case"insideBottom":i+=a/2,n+=o-r,l="center",c="bottom";break;case"insideTopLeft":i+=r,n+=r;break;case"insideTopRight":i+=a-r,n+=r,l="right";break;case"insideBottomLeft":i+=r,n+=o-r,c="bottom";break;case"insideBottomRight":i+=a-r,n+=o-r,l="right",c="bottom"}return{x:i,y:n,textAlign:l,textVerticalAlign:c}},e.truncateText=x,e.getLineHeight=S,e.measureText=O,e.parsePlainText=P,e.parseRichText=T,e.makeFont=function(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&h(e)||t.textFont||t.font}},function(t,e){t.exports=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.updateLayer=function(t,e){},t.prototype.on=function(t,e,r){},t.prototype.un=function(t,e){},t.prototype.getLegendViewPort=function(){},t}();e.Layer=i},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var e=t.call(this)||this;return e.layers=new Map,e}return n(e,t),e.prototype.add=function(t,e){this.layers.set(t,e)},e.prototype.get=function(t){return this.layers.get(t)},e.prototype.size=function(){return this.layers.size},e.prototype.getZIndex=function(){return this.get("line").getZIndex()},e.prototype.setZIndex=function(t){this.layers.forEach(function(e){e.setZIndex(t)})},e.prototype.getOpacity=function(){return this.layers.get("line").getOpacity()},e.prototype.setOpacity=function(t){this.layers.forEach(function(e){e.setOpacity(t)})},e.prototype.getVisible=function(){return this.get("line").getVisible()},e.prototype.setVisible=function(t){this.layers.forEach(function(e){e.setVisible(t)})},e.prototype.getLayer=function(){return this.layers},e.prototype.removeLayer=function(){this.layers.forEach(function(t){t.removeLayer()})},e.prototype.getLegendViewPort=function(){return this.get("line").getLegendViewPort()},e}(r(50).Layer);e.CompositeLayer=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),n=r(75),o=r(53),a=function(){function t(t,e){void 0===t&&(t=n.GeometryType.Wkt),void 0===e&&(e=4326),this.spatialReference=e,this.features=[],this.type=t}return t.prototype.getType=function(){return this.type},t.prototype.addFeature=function(t){this.features.push(t)},t.prototype.getCount=function(){return this.features.length},t.prototype.get=function(t){return this.features[t]},t.prototype.getSpatialReference=function(){return this.spatialReference},t.prototype.asArray=function(){for(var t=[],e=this.getSpatialReference(),r=0;r<this.getCount();r++){var o=this.get(r),a={},s="shape";if(this.type==n.GeometryType.Wkt){var l=i.sfs.GeometryFactory.createGeometryFromWkt(o.getGeometry(),e);28===l.getGeometryType()?a[s]=l.getPointsArray(l.points):a[s]=[l.x,l.y,l.z]}else a[s]=o.getGeometry();for(var c=0;c<o.getFields().getCount();c++)"shape"!==(s=o.getFields().get(c).name)&&(a[s]=o.getValue(s));t.push(a)}return t},t.prototype.toGFeatureCollection=function(){for(var t=this.get(0),e=this.getSpatialReference(),r=new i.sfs.Fields,a=t.getFields(),s=0;s<a.getCount();s++){var l=a.get(s),c=new i.sfs.Field({name:l.name,dataType:l.dataType});r.add(c)}for(var h=new i.sfs.GFeatureCollection({fields:r}),u=0;u<this.getCount();u++){var p=this.get(u),f=p.getFields(),y=new i.sfs.GFeature({fields:r}),d=o.DataType.None;for(s=0;s<f.getCount();s++)"shape"===(l=f.get(s)).name&&(d=l.dataType),y.setValue(l.name,p.getValue(l.name));var v;v=this.type==n.GeometryType.Wkt?i.sfs.GeometryFactory.createGeometryFromWkt(p.getGeometry(),e):i.sfs.GeometryFactory.createGeometryFromGeoJson({type:this.getgeometryType(d),coordinates:p.getGeometry()},e),y.setGeometry(v),h.add(y)}return h},t.prototype.getgeometryType=function(t){var e="";switch(t){case o.DataType.LineString:e="LineString";break;case o.DataType.MultiPoint:e="MultiPoint";break;case o.DataType.MultiLineString:e="MultiLineString";break;case o.DataType.MultiPolygon:e="MultiPolygon";break;case o.DataType.Point:e="Point";break;case o.DataType.Path:e="Path";break;case o.DataType.Circle:e="Circle";break;case o.DataType.LinearRing:e="LinearRing";break;case o.DataType.Lseg:e="Lseg";break;case o.DataType.Box:e="Box";break;case o.DataType.Polygon:e="Polygon";break;case o.DataType.GeometryCollection:e="GeometryCollection";break;default:e="GeometryBegin"}return e},t}();e.FeatureCollection=a},function(t,e,r){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),(i=e.DataType||(e.DataType={}))[i.None=-1]="None",i[i.OID=0]="OID",i[i.Int=1]="Int",i[i.Long=2]="Long",i[i.Float=5]="Float",i[i.Double=6]="Double",i[i.Char=11]="Char",i[i.String=12]="String",i[i.Text=13]="Text",i[i.Date=21]="Date",i[i.Time=22]="Time",i[i.Blob=31]="Blob",i[i.Clob=32]="Clob",i[i.Boolean=41]="Boolean",i[i.GeometryBegin=100]="GeometryBegin",i[i.Geometry=101]="Geometry",i[i.Point=102]="Point",i[i.LineString=103]="LineString",i[i.Polygon=104]="Polygon",i[i.MultiPoint=105]="MultiPoint",i[i.MultiLineString=106]="MultiLineString",i[i.MultiPolygon=107]="MultiPolygon",i[i.GeometryCollection=108]="GeometryCollection",i[i.Lseg=109]="Lseg",i[i.Box=110]="Box",i[i.Path=111]="Path",i[i.Circle=112]="Circle",i[i.LinearRing=113]="LinearRing",i[i.Shape=181]="Shape",i[i.Geocoder=182]="Geocoder",i[i.GeometryEnd=200]="GeometryEnd",i[i.RasterBegin=200]="RasterBegin",i[i.DEM=201]="DEM",i[i.DOM=202]="DOM",i[i.RasterEnd=300]="RasterEnd",i[i.ModelBegin=300]="ModelBegin",i[i.DAE=310]="DAE",i[i.FileDAE=311]="FileDAE",i[i.BinaryDAE=312]="BinaryDAE",i[i.OBJ=320]="OBJ",i[i.FileOBJ=321]="FileOBJ",i[i.BinaryOBJ=322]="BinaryOBJ",i[i.GLTF=330]="GLTF",i[i.ModelEnd=400]="ModelEnd",i[i.ElementBegin=400]="ElementBegin",i[i.SimpleElement=401]="SimpleElement",i[i.ElementEnd=500]="ElementEnd",i[i.TileBegin=500]="TileBegin",i[i.MapTile=501]="MapTile",i[i.VectorTile=502]="VectorTile",i[i.TerrainTile=503]="TerrainTile",i[i.ModelTile=504]="ModelTile",i[i.ObliqueTile=505]="ObliqueTile",i[i.TileEnd=600]="TileEnd"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.properties={},this.fields=t}return t.prototype.setValue=function(t,e){this.properties[t]=e},t.prototype.getValue=function(t){return this.properties[t]},t.prototype.getFields=function(){return this.fields},t}();e.Entity=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.StatSource=function(){}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(12),n=r(83),o=function(){function t(){}return t.load=function(){var t=this;t.template||(t.template={}),Object.keys(n.ResourceConfig).forEach(function(e){t.template[n.ResourceConfig[e].ChartName]=n.ResourceConfig[e].ChartConfig})},t.get=function(t){var e=JSON.parse(JSON.stringify(this.template[t]));return new i.ChartConfig(e)},t}();e.ChartTemplate=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Renderer=function(t){}},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(89),a=r(1),s=function(t){function e(e,r){void 0===r&&(r="Bearer d277145");var i=t.call(this)||this,n=new a.core.Deserializer,o=new a.core.RestHttp({token:r});return i.styleService=new a.cat.RestStyleDescriptorService({url:e,http:o,deserializer:n}),i}return n(e,t),e.prototype.getStyle=function(){var t=this,e=this;return new Promise(function(r){e.styleTable?r(e.styleTable):t.styleService.findEntityStyle()})},e.prototype.getStyleTable=function(){var t=this;this.styleService.findEntityStyle().then(function(e){t.styleTable=e})},e}(o.Style);e.TSStyle=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(92),n=function(){function t(){}return t.prototype.create=function(t){var e=JSON.parse(t);if(Array.isArray(e)){var r=[];return this.createObject(e,r),r}var n=e.$type;if(n){var o=n.split(",")[0],a=new i.SimpleObjectCreator;if(a.exist(o)){var s=a.create(t);return this.createObject(e,s),s}}return e},t.prototype.createObject=function(t,e){for(var r in t)if(t[r]&&"object"==typeof t[r])if(t[r].hasOwnProperty("$type")){var n=t[r].$type.split(",")[0],o=new i.SimpleObjectCreator;o.exist(n)&&(e[r]=o.create(JSON.stringify(t[r])),this.createObject(e[r],e[r]))}else Array.isArray(t[r])?this.createObject(t[r],e[r]):e[r]=t[r]},t}();e.CurrencyObjectCreator=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.MapSource=function(){}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(7),n=function(){function t(t){this.zreder_obj=i.init(t)}return t.prototype.getWidth=function(){return this.zreder_obj.getWidth()},t.prototype.getHeight=function(){return this.zreder_obj.getHeight()},t.prototype.getData=function(){return this.zreder_obj},t}();e.Zrender=n},function(t,e,r){var i=r(94),n=r(13),o=r(3),a=r(164),s=r(167),l=r(172),c=r(174),h=r(175),u=!n.canvasSupported,p={canvas:l},f={},y=function(t,e,r){r=r||{},this.dom=e,this.id=t;var i=this,l=new s,f=r.renderer;if(u){if(!p.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");f="vml"}else f&&p[f]||(f="canvas");var y=new p[f](e,l,r,t);this.storage=l,this.painter=y;var d=n.node||n.worker?null:new h(y.getViewportRoot());this.handler=new a(l,y,d,y.root),this.animation=new c({stage:{update:o.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var v=l.delFromStorage,g=l.addToStorage;l.delFromStorage=function(t){v.call(l,t),t&&t.removeSelfFromZr(i)},l.addToStorage=function(t){g.call(l,t),t.addSelfToZr(i)}};y.prototype={constructor:y,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){if(this.painter.addHover){var r=this.painter.addHover(t,e);return this.refreshHover(),r}},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,r){this.handler.on(t,e,r)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete f[t]}},e.version="4.0.7",e.init=function(t,e){var r=new y(i(),t,e);return f[r.id]=r},e.dispose=function(t){if(t)t.dispose();else{for(var e in f)f.hasOwnProperty(e)&&f[e].dispose();f={}}return this},e.getInstance=function(t){return f[t]},e.registerPainter=function(t,e){p[t]=e}},function(t,e,r){var i=r(3),n=r(95),o=r(10),a=function(t){for(var e in t=t||{},n.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};a.prototype={constructor:a,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,r=0;r<e.length;r++)if(e[r].name===t)return e[r]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var r=this._children,i=r.indexOf(e);0<=i&&(r.splice(i,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t);var e=(t.parent=this).__storage,r=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof a&&t.addChildrenToStorage(e)),r&&r.refresh()},remove:function(t){var e=this.__zr,r=this.__storage,n=this._children,o=i.indexOf(n,t);return o<0||(n.splice(o,1),t.parent=null,r&&(r.delFromStorage(t),t instanceof a&&t.delChildrenFromStorage(r)),e&&e.refresh()),this},removeAll:function(){var t,e,r=this._children,i=this.__storage;for(e=0;e<r.length;e++)t=r[e],i&&(i.delFromStorage(t),t instanceof a&&t.delChildrenFromStorage(i)),t.parent=null;return r.length=0,this},eachChild:function(t,e){for(var r=this._children,i=0;i<r.length;i++){var n=r[i];t.call(e,n,i)}return this},traverse:function(t,e){for(var r=0;r<this._children.length;r++){var i=this._children[r];t.call(e,i),"group"===i.type&&i.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var r=this._children[e];t.addToStorage(r),r instanceof a&&r.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var r=this._children[e];t.delFromStorage(r),r instanceof a&&r.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,r=new o(0,0,0,0),i=t||this._children,n=[],a=0;a<i.length;a++){var s=i[a];if(!s.ignore&&!s.invisible){var l=s.getBoundingRect(),c=s.getLocalTransform(n);c?(r.copy(l),r.applyTransform(c),(e=e||r.clone()).union(r)):(e=e||l.clone()).union(l)}}return e||r}},i.inherits(a,n);var s=a;t.exports=s},function(t,e,r){var i=r(99),n=r(46).ContextCachedBy,o=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],a=function(t){this.extendFrom(t,!1)};for(var s=a.prototype={constructor:a,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,r){var a=this,s=r&&r.style,l=!s||t.__attrCachedBy!==n.STYLE_BIND;t.__attrCachedBy=n.STYLE_BIND;for(var c=0;c<o.length;c++){var h=o[c],u=h[0];(l||a[u]!==s[u])&&(t[u]=i(t,u,a[u]||h[1]))}if((l||a.fill!==s.fill)&&(t.fillStyle=a.fill),(l||a.stroke!==s.stroke)&&(t.strokeStyle=a.stroke),(l||a.opacity!==s.opacity)&&(t.globalAlpha=null==a.opacity?1:a.opacity),(l||a.blend!==s.blend)&&(t.globalCompositeOperation=a.blend||"source-over"),this.hasStroke()){var p=a.lineWidth;t.lineWidth=p/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&0<this.lineWidth},extendFrom:function(t,e){if(t)for(var r in t)!t.hasOwnProperty(r)||!0!==e&&(!1===e?this.hasOwnProperty(r):null==t[r])||(this[r]=t[r])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,r){for(var i=("radial"===e.type?function(t,e,r){var i=r.width,n=r.height,o=Math.min(i,n),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(a=a*i+r.x,s=s*n+r.y,l*=o),t.createRadialGradient(a,s,0,a,s,l)}:function(t,e,r){var i=null==e.x?0:e.x,n=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(i=i*r.width+r.x,n=n*r.width+r.x,o=o*r.height+r.y,a=a*r.height+r.y),i=isNaN(i)?0:i,n=isNaN(n)?1:n,o=isNaN(o)?0:o,a=isNaN(a)?0:a,t.createLinearGradient(i,o,n,a)})(t,e,r),n=e.colorStops,o=0;o<n.length;o++)i.addColorStop(n[o].offset,n[o].color);return i}},l=0;l<o.length;l++){var c=o[l];c[0]in s||(s[c[0]]=c[1])}a.getGradient=s.getGradient;var h=a;t.exports=h},function(t,e){var r=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};r.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var i=r;t.exports=i},function(t,e,r){var i=new(r(97))(50);function n(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var r=t.pending[e],i=r.cb;i&&i(this,r.cbPayload),r.hostEl.dirty()}t.pending.length=0}function o(t){return t&&t.width&&t.height}e.findExistImage=function(t){if("string"!=typeof t)return t;var e=i.get(t);return e&&e.image},e.createOrUpdateImage=function(t,e,r,a,s){if(t){if("string"!=typeof t)return t;if(e&&e.__zrImageSrc===t||!r)return e;var l=i.get(t),c={hostEl:r,cb:a,cbPayload:s};return l?!o(e=l.image)&&l.pending.push(c):((e=new Image).onload=e.onerror=n,i.put(t,e.__cachedImgObj={image:e,pending:[c]}),e.src=e.__zrImageSrc=t),e}return e},e.isImageReady=o},function(t,e){var r=function(t){this.colorStops=t||[]};r.prototype={constructor:r,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var i=r;t.exports=i},function(t,e,r){var i=r(69).createElement,n=r(22),o=r(10),a=r(20),s=r(48),l=r(47),c=r(24),h=n.CMD,u=Array.prototype.join,p="none",f=Math.round,y=Math.sin,d=Math.cos,v=Math.PI,g=2*Math.PI,m=180/v,_=1e-4;function x(t){return f(1e4*t)/1e4}function b(t){return t<_&&-_<t}function w(t,e){e&&C(t,"transform","matrix("+u.call(e,",")+")")}function C(t,e,r){(!r||"linear"!==r.type&&"radial"!==r.type)&&t.setAttribute(e,r)}function S(t,e,r,i){if(o=e,null!=(a=r?o.textFill:o.fill)&&a!==p){var n=r?e.textFill:e.fill;n="transparent"===n?p:n,"none"!==t.getAttribute("clip-path")&&n===p&&(n="rgba(0, 0, 0, 0.002)"),C(t,"fill",n),C(t,"fill-opacity",null!=e.fillOpacity?e.fillOpacity*e.opacity:e.opacity)}else C(t,"fill",p);var o,a,s,l;if(s=e,null!=(l=r?s.textStroke:s.stroke)&&l!==p){var c=r?e.textStroke:e.stroke;C(t,"stroke",c="transparent"===c?p:c),C(t,"stroke-width",(r?e.textStrokeWidth:e.lineWidth)/(!r&&e.strokeNoScale?i.getLineScale():1)),C(t,"paint-order",r?"stroke":"fill"),C(t,"stroke-opacity",null!=e.strokeOpacity?e.strokeOpacity:e.opacity),e.lineDash?(C(t,"stroke-dasharray",e.lineDash.join(",")),C(t,"stroke-dashoffset",f(e.lineDashOffset||0))):C(t,"stroke-dasharray",""),e.lineCap&&C(t,"stroke-linecap",e.lineCap),e.lineJoin&&C(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&C(t,"stroke-miterlimit",e.miterLimit)}else C(t,"stroke",p)}var O={brush:function(t){var e=t.style,r=t.__svgEl;r||(r=i("path"),t.__svgEl=r),t.path||t.createPathProxy();var n=t.path;if(t.__dirtyPath){n.beginPath(),n.subPixelOptimize=!1,t.buildPath(n,t.shape),t.__dirtyPath=!1;var o=function(t){for(var e=[],r=t.data,i=t.len(),n=0;n<i;){var o="",a=0;switch(r[n++]){case h.M:o="M",a=2;break;case h.L:o="L",a=2;break;case h.Q:o="Q",a=4;break;case h.C:o="C",a=6;break;case h.A:var s=r[n++],l=r[n++],c=r[n++],u=r[n++],p=r[n++],_=r[n++],w=r[n++],C=r[n++],S=Math.abs(_),O=b(S-g)&&!b(S),P=!1;P=g<=S||!b(S)&&(-v<_&&_<0||v<_)==!!C;var T=x(s+c*d(p)),L=x(l+u*y(p));O&&(_=C?g-1e-4:1e-4-g,P=!0,9===n&&e.push("M",T,L));var A=x(s+c*d(p+_)),M=x(l+u*y(p+_));e.push("A",x(c),x(u),f(w*m),+P,+C,A,M);break;case h.Z:o="Z";break;case h.R:A=x(r[n++]),M=x(r[n++]);var k=x(r[n++]),E=x(r[n++]);e.push("M",A,M,"L",A+k,M,"L",A+k,M+E,"L",A,M+E,"L",A,M)}o&&e.push(o);for(var D=0;D<a;D++)e.push(x(r[n++]))}return e.join(" ")}(n);o.indexOf("NaN")<0&&C(r,"d",o)}S(r,e,!1,t),w(r,t.transform),null!=e.text&&A(t,t.getBoundingRect())}},P={brush:function(t){var e=t.style,r=e.image;if(r instanceof HTMLImageElement&&(r=r.src),r){var n,o=e.x||0,a=e.y||0,s=e.width,l=e.height,c=t.__svgEl;c||(c=i("image"),t.__svgEl=c),r!==t.__imageSrc&&("href",n=r,c.setAttributeNS("http://www.w3.org/1999/xlink","href",n),t.__imageSrc=r),C(c,"width",s),C(c,"height",l),C(c,"x",o),C(c,"y",a),w(c,t.transform),null!=e.text&&A(t,t.getBoundingRect())}}},T={},L=new o,A=function(t,e,r){var n=t.style;t.__dirty&&l.normalizeTextStyle(n,!0);var o=n.text;if(null!=o){o+="";var h,u,p=t.__textSvgEl;p||(p=i("text"),t.__textSvgEl=p);var f=n.textPosition,y=n.textDistance,d=n.textAlign||"left";"number"==typeof n.fontSize&&(n.fontSize+="px");var v=n.font||[n.fontStyle||"",n.fontWeight||"",n.fontSize||"",n.fontFamily||""].join(" ")||s.DEFAULT_FONT,g=M(n.textVerticalAlign),m=(r=s.getBoundingRect(o,v,d,g,n.textPadding,n.textLineHeight)).lineHeight;if(f instanceof Array)h=e.x+f[0],u=e.y+f[1];else{var _=s.adjustTextPositionOnRect(f,e,y);h=_.x,u=_.y,g=M(_.textVerticalAlign),d=_.textAlign}C(p,"alignment-baseline",g),v&&(p.style.font=v);var x=n.textPadding;if(C(p,"x",h),C(p,"y",u),S(p,n,!0,t),t instanceof c||t.style.transformText)w(p,t.transform);else{if(t.transform)L.copy(e),L.applyTransform(t.transform),e=L;else{var b=t.transformCoordToGlobal(e.x,e.y);e.x=b[0],e.y=b[1],t.transform=a.identity(a.create())}var O=n.textOrigin;"center"===O?(h=r.width/2+h,u=r.height/2+u):O&&(h=O[0]+h,u=O[1]+u);var P=-n.textRotation||0,T=a.create();a.rotate(T,T,P),b=[t.transform[4],t.transform[5]],a.translate(T,T,b),w(p,T)}var A=o.split("\n"),k=A.length,E=d;"left"===E?(E="start",x&&(h+=x[3])):"right"===E?(E="end",x&&(h-=x[1])):"center"===E&&(E="middle",x&&(h+=(x[3]-x[1])/2));var D=0;if("after-edge"===g?(D=-r.height+m,x&&(D-=x[2])):"middle"===g?(D=(-r.height+m)/2,x&&(u+=(x[0]-x[2])/2)):x&&(D+=x[0]),t.__text!==o||t.__textFont!==v){var z=t.__tspanList||[];t.__tspanList=z;for(var j=0;j<k;j++)(F=z[j])?F.innerHTML="":(F=z[j]=i("tspan"),p.appendChild(F),C(F,"alignment-baseline",g),C(F,"text-anchor",E)),C(F,"x",h),C(F,"y",u+j*m+D),F.appendChild(document.createTextNode(A[j]));for(;j<z.length;j++)p.removeChild(z[j]);z.length=k,t.__text=o,t.__textFont=v}else if(t.__tspanList.length){var B=t.__tspanList.length;for(j=0;j<B;++j){var F;(F=t.__tspanList[j])&&(C(F,"x",h),C(F,"y",u+j*m+D))}}}};function M(t){return"middle"===t?"middle":"bottom"===t?"after-edge":"hanging"}T.drawRectText=A,T.brush=function(t){var e=t.style;null!=e.text&&(e.textPosition=[0,0],A(t,{x:e.x||0,y:e.y||0,width:0,height:0},t.getBoundingRect()))},e.path=O,e.image=P,e.text=T},function(t,e){e.createElement=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}},function(t,e,r){var i=r(69).createElement,n=r(3),o=r(4),a=r(21),s=r(24),l=r(68),c=l.path,h=l.image,u=l.text;function p(t,e,r,i,n){this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof r?[r]:r,this._markLabel=i,this._domName=n||"_dom",this.nextId=0}p.prototype.createElement=i,p.prototype.getDefs=function(t){var e=this._svgRoot,r=this._svgRoot.getElementsByTagName("defs");return 0===r.length?t?((r=e.insertBefore(this.createElement("defs"),e.firstChild)).contains||(r.contains=function(t){var e=r.children;if(!e)return!1;for(var i=e.length-1;0<=i;--i)if(e[i]===t)return!0;return!1}),r):null:r[0]},p.prototype.update=function(t,e){if(t){var r=this.getDefs(!1);if(t[this._domName]&&r.contains(t[this._domName]))"function"==typeof e&&e(t);else{var i=this.add(t);i&&(t[this._domName]=i)}}},p.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},p.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},p.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return n.each(this._tagNames,function(r){var i=t.getElementsByTagName(r);e=e.concat([].slice.call(i))}),e},p.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;n.each(t,function(t){t[e._markLabel]="0"})},p.prototype.markUsed=function(t){t&&(t[this._markLabel]="1")},p.prototype.removeUnused=function(){var t=this.getDefs(!1);if(t){var e=this.getDoms(),r=this;n.each(e,function(e){"1"!==e[r._markLabel]&&t.removeChild(e)})}},p.prototype.getSvgProxy=function(t){return t instanceof o?c:t instanceof a?h:t instanceof s?u:c},p.prototype.getTextSvgElement=function(t){return t.__textSvgEl},p.prototype.getSvgElement=function(t){return t.__svgEl};var f=p;t.exports=f},function(t,e){t.exports=i},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(7),a=function(t){function e(e,r,i){var n=t.call(this,e,r)||this;return n.zr_obj=o.init(i),n.chartName=r,n}return n(e,t),e.prototype.getZr=function(){return this.zr_obj},e.prototype.getWidth=function(){return this.zr_obj.getWidth()},e.prototype.getHeight=function(){return this.zr_obj.getHeight()},e.prototype.addHover=function(t,e){this.zr_obj.addHover(t,e)},e.prototype.removeHover=function(t){this.zr_obj.removeHover(t)},e.prototype.getZrStorage=function(){return this.zr_obj.storage},e.prototype.add=function(t){this.zr_obj.add(t)},e.prototype.createGroup=function(t){return new o.Group(t)},e.prototype.setData=function(t){},e}(r(82).StatChart);e.Zrender=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r,i){var n=t.call(this,"Circle",e,r,i)||this;return n.cx=e,n.cy=r,n.r=i,n}return n(e,t),e.prototype.create=function(t){return{shape:{cx:t[0],cy:t[1],r:t[2]},style:{stroke:"none",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(r(8).GraphicZrender);e.Circle=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(50),a=r(1),s=r(15),l=function(t){function e(e){var r=t.call(this)||this;return r._overlayWare=null,r.imageLayerEve=null,r.extent=null,r._options=e,r.mapType=e.mapType,r}return n(e,t),e.prototype.createImageLayer=function(){var t,e=this._options,r=e.map,i=(this.map=r).getExtent(),n=[i.minx,i.miny,i.maxx,i.maxy];return"TSMap"==this.mapType?(t=new a.carto.ImageLayer({id:"UniqueImageLayer",imageType:703,name:"图片图层",canvasFunction:e.canvasFunction,extent:n}),this.imageLayerEve=this.imageLayerEvent.bind(this),r.on("precompose",this.imageLayerEve)):(i=this.map._fullExtent,this.extent=[i.minx,i.miny,i.maxx,i.maxy],t=new a.carto.ImageLayer3D({id:"UniqueImageLayer3D",name:"图片图层",image:e.canvas,extent:this.extent,canCache:!1}),this.imageLayerEve=this.imageLayer3DEvent.bind(this),r.on("extentchanged",this.imageLayerEve)),r.addLayer(t),this._layer=t,this},e.prototype.createFeatureLayer=function(){var t=this._options;this.map=t.map;var e=this.map,r=new a.carto.FeatureLayer({id:"FeatureLayer",opacity:1,levelShift:1,zIndex:0,visible:!0});return e.addLayer(r),this._layer=r,this},e.prototype.createHeatMapLayer=function(){var t=this._options,e=t.map;this.map=t.map;var r=new a.carto.HeatMapLayer;return e.addLayer(r),this._layer=r,this},e.prototype.createOverlayWare=function(){return this._overlayWare?this._overlayWare.clear():this._overlayWare=new a.widget.OverlayWare({map:this.map}),this._overlayWare},e.prototype.imageLayerEvent=function(){var t=this.map.getExtent(),e=[t.minx,t.miny,t.maxx,t.maxy];this._layer.getLayer().setExtent(e)},e.prototype.imageLayer3DEvent=function(){var t=this.map.getResolution(),e=window.devicePixelRatio,r=[(this.extent[2]-this.extent[0])/t,(this.extent[3]-this.extent[1])/t];this._options.canvasFunction(this.extent,t,e,r)},e.prototype.getLayer=function(){return this._layer},e.prototype.removeLayer=function(){this.map.removeLayer(this._layer),this.imageLayerEve&&("TSMap"==this.mapType?this.map.un("precompose",this.imageLayerEve):this.map.un("extentchanged",this.imageLayerEve),this.imageLayerEve=null),this._overlayWare&&this._overlayWare.clear()},e.prototype.updateLayer=function(){this._layer&&this._layer.getLayer().getSource().refresh()},e.prototype.getLegendViewPort=function(){switch(this.mapType){case s.MapType.TSMap:return this.map.getViewport();case s.MapType.TSGlobe:return this.map._container}},e.prototype.getZIndex=function(){if(this._layer)return this._layer.zIndex},e.prototype.setZIndex=function(t){this._layer&&this._layer.setZIndex(t)},e.prototype.getOpacity=function(){if(this._layer)return this._layer.opacity},e.prototype.setOpacity=function(t){if(this._layer&&this._layer.setOpacity(t),this._overlayWare)for(var e=0;e<this._overlayWare.getCount();e++)this._overlayWare.get(e).element.style.opacity=t},e.prototype.getVisible=function(){if(this._layer)return this._layer.visible},e.prototype.setVisible=function(t){if(this._layer&&this._layer.setVisible(t),this._overlayWare)for(var e="visible",r=0;r<this._overlayWare.getCount();r++)t||(e="hidden"),this._overlayWare.get(r).element.style.visibility=e},e}(o.Layer);e.TSMapLayer=l},function(t,e,r){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),(i=e.GeometryType||(e.GeometryType={})).GeoJson="GeoJson",i.Wkt="Wkt"},function(t,e){var r,i,n=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,c=[],h=!1,u=-1;function p(){h&&l&&(h=!1,l.length?c=l.concat(c):u=-1,c.length&&f())}function f(){if(!h){var t=s(p);h=!0;for(var e=c.length;e;){for(l=c,c=[];++u<e;)l&&l[u].run();u=-1,e=c.length}l=null,h=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function d(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new y(t,e)),1!==c.length||h||s(f)},y.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=d,n.addListener=d,n.once=d,n.off=d,n.removeListener=d,n.removeAllListeners=d,n.emit=d,n.prependListener=d,n.prependOnceListener=d,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,r){this.name=t,this.namespace=e,this._constructor=r}return t.prototype.getName=function(){return this.name},t.prototype.getSimpleName=function(){return this.name},t.prototype.getFullName=function(){return this.name+","+this.namespace},t.prototype.newInstance=function(){return new this._constructor},t}();e.TypeInfo=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),n=function(){function t(t){this.overlayWare=new i.widget.OverlayWare({map:t.getMap()})}return t.prototype.add=function(t){this.overlayWare.add(t.getLay())},t}();e.OverlayWare=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),n=function(){function t(t,e,r,n){void 0===r&&(r="center-center"),void 0===n&&(n=!1),this.overlay=new i.widget.OverLay({element:t,offset:[0,0],position:e,positioning:r,stopEvent:n})}return t.prototype.getLay=function(){return this.overlay},t}();e.OverLay=n},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var r=t.call(this)||this;return r.data=e,r}return n(e,t),e.prototype.getData=function(){var t=this;return new Promise(function(e){e(t.data)})},e}(r(55).StatSource);e.SimpleSource=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){return t.call(this,e,"PieChart",r)||this}return n(e,t),e}(r(0).EChart);e.BasicPieChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(56),a=function(t){function e(e,r){var i=t.call(this)||this;return i.source=e,i._config=o.ChartTemplate.get(r),i}return n(e,t),e.prototype.config=function(t,e){return this._config.config(t,e),this},e.prototype.findAll=function(){return this._config.findAll()},e.prototype.render=function(){var t=this;this.source.getData().then(function(e){t.setData(e)})},e}(r(35).ChartBase);e.StatChart=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(133),n=r(134),o=r(135),a=r(136),s=r(137),l=r(138),c=r(139);e.ResourceConfig={barchart:i,piechart:n,linechart:o,scatterchart:l,comchart:a,uniquechart:s,textchart:c}},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.foShanStyle(),i}return n(e,t),e.prototype.foShanStyle=function(){this.config("tooltip",{trigger:"axis",textStyle:{color:"#fff",fontSize:10}}),this.config("xAxis",{nameTextStyle:{color:"#fff",fontSize:14},splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:"#eee"}},axisLabel:{color:"#ccc",fontSize:10},axisTick:{show:!1}}),this.config("yAxis",{nameTextStyle:{color:"#fff",fontSize:14},splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:"#eee"}},axisLabel:{color:"#ccc",fontSize:10},axisTick:{show:!0,lineStyle:{color:"#eee"}}}),this.config("series[0]",{itemStyle:{borderColor:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(17,197,203,0.3)"},{offset:.5,color:"rgb(17,197,203)"},{offset:1,color:"rgba(17,197,203,0.3)"}]},color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgb(1,241,241)"},{offset:1,color:"rgba(1,241,241,0)"}]}}})},e}(r(0).EChart);e.BasicBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),a=r(18),s=r(38),l=r(39),c=function(t){function e(e,r){var i=t.call(this,e,"PieChart",r)||this;return i.nameArray=[],i.changeIndex=-1,i.init(),i.foShanStyle(),i.openLegendEvent(),i}return n(e,t),e.prototype.init=function(){this.config("legend",{top:"90%",orient:!0}),this.config("series[0]",{radius:["56%","60%"],avoidLabelOverlap:!1,label:{color:"white",fontSize:80,fontWeight:900,position:"center",rich:{title:{color:"white",fontSize:18}}},itemStyle:{borderWidth:10,shadowBlur:20}})},e.prototype.foShanStyle=function(){this.config("legend.textStyle.color","white")},e.prototype.setData=function(e){this.data=e;var r=this.getValueIndex(e);void 0===this.sum&&(this.sum=this.sumPieData(e,r));var i=this.setNewData(e,this.sum),n=e.get(0).get(r).alias;this.setUniqueConfig(this.sum,n),t.prototype.setData.call(this,i)},e.prototype.openLegendEvent=function(){var t=this;this.on("legendselectchanged",function(e){var r=t.sum,i=e.selected[e.name],n=Object.keys(e.selected).indexOf(e.name);i?r+=t.nameArray[n]:r-=t.nameArray[n],t.sum=r;for(var o=new a.ChartData,s=0;s<t.data.getCount();s++)0<t.data.get(s).get(0).value.length&&o.addItem(t.data.get(s));t.changeState=i,t.changeIndex=n,t.legendsObject=e.selected,t.setData(o)})},e.prototype.getSumCount=function(t){var e=-1;return null!=t&&(e=0,Object.keys(t).forEach(function(r){t[r]&&e++})),e},e.prototype.sumPieData=function(t,e){for(var r=0,i=0;i<t.getCount();i++)r+=t.get(i).get(e).value,this.nameArray.push(t.get(i).get(e).value);return r},e.prototype.setNewData=function(t,e){var r,i=this.getValueIndex(t),n=new a.ChartData,o=this.getSumCount(this.legendsObject);r=-1==o?Math.floor(e/(2*t.getCount())+.5):Math.floor(e/(2*o)+.5);for(var c=0;c<t.getCount();c++){var h=new s.ChartItem;n.addItem(t.get(c));for(var u=0;u<t.get(c).getCount();u++){var p=t.get(c).get(u),f=new l.ChartEntry;f.name=p.name,u==i&&(-1==o||this.legendsObject[t.get(c).get(0).value]?f.value=r:this.legendsObject[p.name]||(f.value=0)),"string"==typeof p.value&&(f.value=""),h.addEntry(f)}n.addItem(h)}return n},e.prototype.getValueIndex=function(t){for(var e=-1,r=0;r<t.get(0).getCount();r++)if("number"==typeof t.get(0).get(r).value){e=r;break}return e},e.prototype.setUniqueConfig=function(t,e){var r=this.config("sum",t).findAll().series[0].label.formatter;r="string"!=typeof r?t+"\n{title|"+e+"}":r.replace(/{sum}/g,t+""),this.config("series[0].label.formatter",function(t){var e=t.dataIndex;return e%2==0?t.color&&(t.data.itemStyle={borderColor:t.color,shadowColor:t.color}):(t.data.itemStyle={color:"rgba(0,0,0,0)"},t.data.cursor="default",t.data.tooltip={show:!1}),1==e?r:""})},e}(o.EChart);e.SumPieChart=c},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"PieChart",r)||this;return i.init(),i.foShanStyle(),i}return n(e,t),e.prototype.init=function(){this.config("series[0].myType",!0)},e.prototype.foShanStyle=function(){this.config("color",["rgb(11,213,144)","rgb(0,196,255)","rgb(255,127,0)","rgb(46,123,255)","rgb(0,255,255)"]),this.config("label",{formatter:"{one|{d}%} {two|{b}}",fontSize:20,fontFamily:"微软雅黑",rich:{one:{backgroundColor:"black",fontSize:16,padding:5,fontWeight:900,borderRadius:8},two:{color:"white",fontSize:19,padding:5,fontWeight:900,borderRadius:8}}})},e.prototype.setData=function(e){var r=e.get(0).getCount();-1<this.getCategoryIndex(e)&&(r-=1),this.setUniqueConfig(r),t.prototype.setData.call(this,e)},e.prototype.getCategoryIndex=function(t){for(var e=0;e<t.get(0).getCount();e++)if("string"==typeof t.get(0).get(e).value)return e;return-1},e.prototype.setUniqueConfig=function(t){for(var e=Math.floor(100/(t+3)+.5),r=0,i=[],n=this.findAll().series;r<t;)this.config("series["+r+"]",{encode:{value:r+1,itemName:0}}),i=n[r].hasOwnProperty("radius")?n[r].radius:[(r+1.5)*e+"%",(r+2)*e+"%"],this.config("series["+r+"].radius",i),r++},e}(r(0).EChart);e.RingPieChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"PieChart",r)||this;return i.init(),i.foShanStyle(),i}return n(e,t),e.prototype.init=function(){this.config("series[0]",{radius:["10%","60%"],roseType:!0})},e.prototype.foShanStyle=function(){this.config("color",["rgb(46,123,255)","rgb(0,255,255)","rgb(11,213,144)"]),this.config("series[0].label",{formatter:"{d}%\n{ppp|{b}}",fontSize:20,fontFamily:"微软雅黑",rich:{ppp:{color:"white",fontSize:20,align:"center"}}})},e}(r(0).EChart);e.RoseRingPieChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"PieChart",r)||this;return i.init(),i.foShanStyle(),i}return n(e,t),e.prototype.init=function(){this.config("legend.show",!1),this.config("color",["#c23531","rgba(0,0,0,0)"]),this.config("series[0]",{radius:["68%","87%"],silent:!0,labelLine:{show:!1},hoverAnimation:!1,label:{show:!1,position:"center"},itemStyle:{color:"rgb(14,37,62)"},data:[12]}),this.config("series[1]",{type:"pie",myType:!0,radius:["74%","81%"],labelLine:{show:!1},avoidLabelOverlap:!1})},e.prototype.foShanStyle=function(){this.config("color[0]","rgb(0,255,255)"),this.config("series[0]",{label:{formatter:"{sum}",fontSize:28,color:"white"}}),this.config("series[1]",{itemStyle:{normal:{borderWidth:10}},label:{formatter:"{d}%",fontSize:50,fontWeight:900,fontFamily:"微软雅黑",position:"center"}})},e.prototype.setData=function(e){var r=this.sumPieData(e),i=this.setSeriesData(e);this.setUniqueConfig(r,i),t.prototype.setData.call(this,e)},e.prototype.sumPieData=function(t){for(var e=0,r=0;r<t.getCount();r++)for(var i=t.get(r),n=0;n<i.getCount();n++){var o=i.get(n);"number"==typeof o.value&&(e+=o.value)}return e},e.prototype.setSeriesData=function(t){for(var e=[],r=0;r<t.getCount();r++)for(var i=0;i<t.get(r).getCount();i++){var n=t.get(r).get(i);"string"==typeof n.value?e.push({name:n.value}):e[r].value=n.value}return e},e.prototype.setUniqueConfig=function(t,e){var r=this.config("sum",t).findAll().series[0].label.formatter;"string"==typeof r&&(r=r.replace(/{sum}/g,t),this.config("series[0].label.formatter",r)),this.config("series[1].data",e)},e}(r(0).EChart);e.SinglePieChart=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Style=function(){}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.send=function(t,e,r,i,n){var o=this;return new Promise(function(a,s){var l=new XMLHttpRequest;l.open(t,e,!0),o.setContentType(l,n),o.setResponseType(l,i),l.onreadystatechange=function(){4===l.readyState&&(200===l.status?a(l.responseText):s(new Error(l.responseText)))},l.onerror=function(t){s(new Error(l.responseText))},r?l.send(r):l.send(null)})},t.prototype.setResponseType=function(t,e){(e=e||"text")&&(t.responseType=e)},t.prototype.setContentType=function(t,e){e=e||"application/json",t.setRequestHeader("Content-Type",e)},t}();e.AjaxHttp=i},function(t,e,r){"use strict";var i=this&&this.__decorate||function(t,e,r,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;0<=s;s--)(n=t[s])&&(a=(o<3?n(a):3<o?n(e,r,a):n(e,r))||a);return 3<o&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(e,"__esModule",{value:!0});var n=r(19),o=function(){function t(){this.body="heartbeat"}return i([n.__Type({name:"THB",namespace:"http://www.dv.com"})],t)}();e.THB=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(37),n=function(){function t(){}return t.prototype.create=function(t){var e=JSON.parse(t),r=e.$type;if(r){var n=r.split(",")[0];if(this.exist(n)){var o=i.TypeTable.find(n).newInstance();return Object.assign(o,e),o}}return null},t.prototype.exist=function(t){return i.TypeTable.has(t)},t}();e.SimpleObjectCreator=n},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(r(60).MapSource);e.ElementSource=o},function(t,e){var r=2311;t.exports=function(){return r++}},function(t,e,r){var i=r(94),n=r(42),o=r(168),a=r(169),s=r(3),l=function(t){o.call(this,t),n.call(this,t),a.call(this,t),this.id=t.id||i()};l.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var r=this[t];r||(r=this[t]=[]),r[0]=e[0],r[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(s.isObject(t))for(var r in t)t.hasOwnProperty(r)&&this.attrKV(r,t[r]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),(this.clipPath=t).__zr=e,(t.__clipTarget=this).dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var r=0;r<e.length;r++)t.animation.addAnimator(e[r]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var r=0;r<e.length;r++)t.animation.removeAnimator(e[r]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},s.mixin(l,a),s.mixin(l,o),s.mixin(l,n);var c=l;t.exports=c},function(t,e,r){var i=r(170),n=r(44),o=r(3).isArrayLike,a=Array.prototype.slice;function s(t,e){return t[e]}function l(t,e,r){t[e]=r}function c(t,e,r){return(e-t)*r+t}function h(t,e,r){return.5<r?e:t}function u(t,e,r,i,n){var o=t.length;if(1===n)for(var a=0;a<o;a++)i[a]=c(t[a],e[a],r);else{var s=o&&t[0].length;for(a=0;a<o;a++)for(var l=0;l<s;l++)i[a][l]=c(t[a][l],e[a][l],r)}}function p(t,e,r){var i=t.length,n=e.length;if(i!==n)if(n<i)t.length=n;else for(var o=i;o<n;o++)t.push(1===r?e[o]:a.call(e[o]));var s=t[0]&&t[0].length;for(o=0;o<t.length;o++)if(1===r)isNaN(t[o])&&(t[o]=e[o]);else for(var l=0;l<s;l++)isNaN(t[o][l])&&(t[o][l]=e[o][l])}function f(t,e,r){if(t===e)return!0;var i=t.length;if(i!==e.length)return!1;if(1===r){for(var n=0;n<i;n++)if(t[n]!==e[n])return!1}else{var o=t[0].length;for(n=0;n<i;n++)for(var a=0;a<o;a++)if(t[n][a]!==e[n][a])return!1}return!0}function y(t,e,r,i,n,o,a,s,l){var c=t.length;if(1===l)for(var h=0;h<c;h++)s[h]=d(t[h],e[h],r[h],i[h],n,o,a);else{var u=t[0].length;for(h=0;h<c;h++)for(var p=0;p<u;p++)s[h][p]=d(t[h][p],e[h][p],r[h][p],i[h][p],n,o,a)}}function d(t,e,r,i,n,o,a){var s=.5*(r-t),l=.5*(i-e);return(2*(e-r)+s+l)*a+(-3*(e-r)-2*s-l)*o+s*n+e}function v(t){if(o(t)){var e=t.length;if(o(t[0])){for(var r=[],i=0;i<e;i++)r.push(a.call(t[i]));return r}return a.call(t)}return t}function g(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function m(t,e,r,a,s,l){var v=t._getter,m=t._setter,_="spline"===e,x=a.length;if(x){var b,w,C,S=a[0].value,O=o(S),P=!1,T=!1,L=O?(w=(b=a)[b.length-1].value,o(w&&w[0])?2:1):0;a.sort(function(t,e){return t.time-e.time}),C=a[x-1].time;for(var A=[],M=[],k=a[0].value,E=!0,D=0;D<x;D++){A.push(a[D].time/C);var z=a[D].value;if(O&&f(z,k,L)||!O&&z===k||(E=!1),"string"==typeof(k=z)){var j=n.parse(z);j?(z=j,P=!0):T=!0}M.push(z)}if(l||!E){var B=M[x-1];for(D=0;D<x-1;D++)O?p(M[D],B,L):!isNaN(M[D])||isNaN(B)||T||P||(M[D]=B);O&&p(v(t._target,s),B,L);var F,R,I,N,W,G=0,V=0;if(P)var H=[0,0,0,0];var q=new i({target:t._target,life:C,loop:t._loop,delay:t._delay,onframe:function(t,e){var r;if(e<0)r=0;else if(e<V){for(r=Math.min(G+1,x-1);0<=r&&!(A[r]<=e);r--);r=Math.min(r,x-2)}else{for(r=G;r<x&&!(A[r]>e);r++);r=Math.min(r-1,x-2)}V=e;var i=A[(G=r)+1]-A[r];if(0!==i)if(F=(e-A[r])/i,_)if(I=M[r],R=M[0===r?r:r-1],N=M[x-2<r?x-1:r+1],W=M[x-3<r?x-1:r+2],O)y(R,I,N,W,F,F*F,F*F*F,v(t,s),L);else{if(P)n=y(R,I,N,W,F,F*F,F*F*F,H,1),n=g(H);else{if(T)return h(I,N,F);n=d(R,I,N,W,F,F*F,F*F*F)}m(t,s,n)}else if(O)u(M[r],M[r+1],F,v(t,s),L);else{var n;if(P)u(M[r],M[r+1],F,H,1),n=g(H);else{if(T)return h(M[r],M[r+1],F);n=c(M[r],M[r+1],F)}m(t,s,n)}},ondestroy:r});return e&&"spline"!==e&&(q.easing=e),q}}}var _=function(t,e,r,i){this._tracks={},this._target=t,this._loop=e||!1,this._getter=r||s,this._setter=i||l,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};_.prototype={when:function(t,e){var r=this._tracks;for(var i in e)if(e.hasOwnProperty(i)){if(!r[i]){r[i]=[];var n=this._getter(this._target,i);if(null==n)continue;0!==t&&r[i].push({time:0,value:v(n)})}r[i].push({time:t,value:e[i]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,r=0;r<e;r++)t[r].call(this)},start:function(t,e){var r,i=this,n=0,o=function(){--n||i._doneCallback()};for(var a in this._tracks)if(this._tracks.hasOwnProperty(a)){var s=m(this,t,o,this._tracks[a],a,e);s&&(this._clipList.push(s),n++,this.animation&&this.animation.addClip(s),r=s)}if(r){var l=r.onframe;r.onframe=function(t,e){l(t,e);for(var r=0;r<i._onframeList.length;r++)i._onframeList[r](t,e)}}return n||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,r=this.animation,i=0;i<e.length;i++){var n=e[i];t&&n.onframe(this._target,1),r&&r.removeClip(n)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var x=_;t.exports=x},function(t,e){var r=function(){this.head=null,this.tail=null,this._len=0},i=r.prototype;i.insert=function(t){var e=new n(t);return this.insertEntry(e),e},i.insertEntry=function(t){this.head?((this.tail.next=t).prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},i.remove=function(t){var e=t.prev,r=t.next;e?e.next=r:this.head=r,r?r.prev=e:this.tail=e,t.next=t.prev=null,this._len--},i.len=function(){return this._len},i.clear=function(){this.head=this.tail=null,this._len=0};var n=function(t){this.value=t,this.next,this.prev},o=function(t){this._list=new r,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},a=o.prototype;a.put=function(t,e){var r=this._list,i=this._map,o=null;if(null==i[t]){var a=r.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&0<a){var l=r.head;r.remove(l),delete i[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=e:s=new n(e),s.key=t,r.insertEntry(s),i[t]=s}return o},a.get=function(t){var e=this._map[t],r=this._list;if(null!=e)return e!==r.tail&&(r.remove(e),r.insertEntry(e)),e.value},a.clear=function(){this._list.clear(),this._map={}};var s=o;t.exports=s},function(t,e){var r=7;function i(t,e,r,i){var n=e+1;if(n===r)return 1;if(i(t[n++],t[e])<0){for(;n<r&&i(t[n],t[n-1])<0;)n++;!function(t,e,r){for(r--;e<r;){var i=t[e];t[e++]=t[r],t[r--]=i}}(t,e,n)}else for(;n<r&&0<=i(t[n],t[n-1]);)n++;return n-e}function n(t,e,r,i,n){for(i===e&&i++;i<r;i++){for(var o,a=t[i],s=e,l=i;s<l;)n(a,t[o=s+l>>>1])<0?l=o:s=o+1;var c=i-s;switch(c){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;0<c;)t[s+c]=t[s+c-1],c--}t[s]=a}}function o(t,e,r,i,n,o){var a=0,s=0,l=1;if(0<o(t,e[r+n])){for(s=i-n;l<s&&0<o(t,e[r+n+l]);)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s),a+=n,l+=n}else{for(s=n+1;l<s&&o(t,e[r+n-l])<=0;)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s);var c=a;a=n-l,l=n-c}for(a++;a<l;){var h=a+(l-a>>>1);0<o(t,e[r+h])?a=h+1:l=h}return l}function a(t,e,r,i,n,o){var a=0,s=0,l=1;if(o(t,e[r+n])<0){for(s=n+1;l<s&&o(t,e[r+n-l])<0;)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s);var c=a;a=n-l,l=n-c}else{for(s=i-n;l<s&&0<=o(t,e[r+n+l]);)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s),a+=n,l+=n}for(a++;a<l;){var h=a+(l-a>>>1);o(t,e[r+h])<0?l=h:a=h+1}return l}function s(t,e){var i,n,s=r,l=0;t.length;var c=[];function h(h){var u=i[h],p=n[h],f=i[h+1],y=n[h+1];n[h]=p+y,h===l-3&&(i[h+1]=i[h+2],n[h+1]=n[h+2]),l--;var d=a(t[f],t,u,p,0,e);u+=d,0!=(p-=d)&&0!==(y=o(t[u+p-1],t,f,y,y-1,e))&&(p<=y?function(i,n,l,h){var u=0;for(u=0;u<n;u++)c[u]=t[i+u];var p=0,f=l,y=i;if(t[y++]=t[f++],0!=--h){if(1===n){for(u=0;u<h;u++)t[y+u]=t[f+u];return t[y+h]=c[p]}for(var d,v,g,m=s;;){v=d=0,g=!1;do{if(e(t[f],c[p])<0){if(t[y++]=t[f++],v++,(d=0)==--h){g=!0;break}}else if(t[y++]=c[p++],d++,v=0,1==--n){g=!0;break}}while((d|v)<m);if(g)break;do{if(0!==(d=a(t[f],c,p,n,0,e))){for(u=0;u<d;u++)t[y+u]=c[p+u];if(y+=d,p+=d,(n-=d)<=1){g=!0;break}}if(t[y++]=t[f++],0==--h){g=!0;break}if(0!==(v=o(c[p],t,f,h,0,e))){for(u=0;u<v;u++)t[y+u]=t[f+u];if(y+=v,f+=v,0==(h-=v)){g=!0;break}}if(t[y++]=c[p++],1==--n){g=!0;break}m--}while(r<=d||r<=v);if(g)break;m<0&&(m=0),m+=2}if((s=m)<1&&(s=1),1===n){for(u=0;u<h;u++)t[y+u]=t[f+u];t[y+h]=c[p]}else{if(0===n)throw new Error;for(u=0;u<n;u++)t[y+u]=c[p+u]}}else for(u=0;u<n;u++)t[y+u]=c[p+u]}(u,p,f,y):function(i,n,l,h){var u=0;for(u=0;u<h;u++)c[u]=t[l+u];var p=i+n-1,f=h-1,y=l+h-1,d=0,v=0;if(t[y--]=t[p--],0!=--n){if(1===h){for(v=1+(y-=n),d=1+(p-=n),u=n-1;0<=u;u--)t[v+u]=t[d+u];return t[y]=c[f]}for(var g=s;;){var m=0,_=0,x=!1;do{if(e(c[f],t[p])<0){if(t[y--]=t[p--],m++,(_=0)==--n){x=!0;break}}else if(t[y--]=c[f--],_++,m=0,1==--h){x=!0;break}}while((m|_)<g);if(x)break;do{if(0!=(m=n-a(c[f],t,i,n,n-1,e))){for(n-=m,v=1+(y-=m),d=1+(p-=m),u=m-1;0<=u;u--)t[v+u]=t[d+u];if(0===n){x=!0;break}}if(t[y--]=c[f--],1==--h){x=!0;break}if(0!=(_=h-o(t[p],c,0,h,h-1,e))){for(h-=_,v=1+(y-=_),d=1+(f-=_),u=0;u<_;u++)t[v+u]=c[d+u];if(h<=1){x=!0;break}}if(t[y--]=t[p--],0==--n){x=!0;break}g--}while(r<=m||r<=_);if(x)break;g<0&&(g=0),g+=2}if((s=g)<1&&(s=1),1===h){for(v=1+(y-=n),d=1+(p-=n),u=n-1;0<=u;u--)t[v+u]=t[d+u];t[y]=c[f]}else{if(0===h)throw new Error;for(d=y-(h-1),u=0;u<h;u++)t[d+u]=c[u]}}else for(d=y-(h-1),u=0;u<h;u++)t[d+u]=c[u]}(u,p,f,y))}i=[],n=[],this.mergeRuns=function(){for(;1<l;){var t=l-2;if(1<=t&&n[t-1]<=n[t]+n[t+1]||2<=t&&n[t-2]<=n[t]+n[t-1])n[t-1]<n[t+1]&&t--;else if(n[t]>n[t+1])break;h(t)}},this.forceMergeRuns=function(){for(;1<l;){var t=l-2;0<t&&n[t-1]<n[t+1]&&t--,h(t)}},this.pushRun=function(t,e){i[l]=t,n[l]=e,l+=1}}t.exports=function(t,e,r,o){r||(r=0),o||(o=t.length);var a=o-r;if(!(a<2)){var l=0;if(a<32)n(t,r,o,r+(l=i(t,r,o,e)),e);else{var c=new s(t,e),h=function(t){for(var e=0;32<=t;)e|=1&t,t>>=1;return t+e}(a);do{if((l=i(t,r,o,e))<h){var u=a;h<u&&(u=h),n(t,r,r+u,r+l,e),l=u}c.pushRun(r,l),c.mergeRuns(),a-=l,r+=l}while(0!==a);c.forceMergeRuns()}}}},function(t,e){var r={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};t.exports=function(t,e,i){return r.hasOwnProperty(e)?i*t.dpr:i}},function(t,e){var r="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)};t.exports=r},function(t,e,r){var i=r(47),n=r(10),o=r(46).WILL_BE_RESTORED,a=new n,s=function(){};s.prototype={constructor:s,drawRectText:function(t,e){var r=this.style;e=r.textRect||e,this.__dirty&&i.normalizeTextStyle(r,!0);var n=r.text;if(null!=n&&(n+=""),i.needDrawText(n,r)){t.save();var s=this.transform;r.transformText?this.setTransform(t):s&&(a.copy(e),a.applyTransform(s),e=a),i.renderText(this,t,n,r,e,o),t.restore()}}};var l=s;t.exports=l},function(t,e){e.buildPath=function(t,e){var r,i,n,o,a,s=e.x,l=e.y,c=e.width,h=e.height,u=e.r;c<0&&(s+=c,c=-c),h<0&&(l+=h,h=-h),"number"==typeof u?r=i=n=o=u:u instanceof Array?1===u.length?r=i=n=o=u[0]:2===u.length?(r=n=u[0],i=o=u[1]):3===u.length?(r=u[0],i=o=u[1],n=u[2]):(r=u[0],i=u[1],n=u[2],o=u[3]):r=i=n=o=0,c<r+i&&(r*=c/(a=r+i),i*=c/a),c<n+o&&(n*=c/(a=n+o),o*=c/a),h<i+n&&(i*=h/(a=i+n),n*=h/a),h<r+o&&(r*=h/(a=r+o),o*=h/a),t.moveTo(s+r,l),t.lineTo(s+c-i,l),0!==i&&t.arc(s+c-i,l+i,i,-Math.PI/2,0),t.lineTo(s+c,l+h-n),0!==n&&t.arc(s+c-n,l+h-n,n,0,Math.PI/2),t.lineTo(s+o,l+h),0!==o&&t.arc(s+o,l+h-o,o,Math.PI/2,Math.PI),t.lineTo(s,l+r),0!==r&&t.arc(s+r,l+r,r,Math.PI,1.5*Math.PI)}},function(t,e,r){var i=r(4),n=r(22),o=r(184),a=Math.sqrt,s=Math.sin,l=Math.cos,c=Math.PI,h=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},u=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(h(t)*h(e))},p=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(u(t,e))};function f(t,e,r,i,n,o,h,f,y,d,v){var g=y*(c/180),m=l(g)*(t-r)/2+s(g)*(e-i)/2,_=-1*s(g)*(t-r)/2+l(g)*(e-i)/2,x=m*m/(h*h)+_*_/(f*f);1<x&&(h*=a(x),f*=a(x));var b=(n===o?-1:1)*a((h*h*(f*f)-h*h*(_*_)-f*f*(m*m))/(h*h*(_*_)+f*f*(m*m)))||0,w=b*h*_/f,C=b*-f*m/h,S=(t+r)/2+l(g)*w-s(g)*C,O=(e+i)/2+s(g)*w+l(g)*C,P=p([1,0],[(m-w)/h,(_-C)/f]),T=[(m-w)/h,(_-C)/f],L=[(-1*m-w)/h,(-1*_-C)/f],A=p(T,L);u(T,L)<=-1&&(A=c),1<=u(T,L)&&(A=0),0===o&&0<A&&(A-=2*c),1===o&&A<0&&(A+=2*c),v.addData(d,S,O,h,f,P,A,g,o)}var y=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,d=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function v(t,e){var r=function(t){if(!t)return new n;for(var e,r=0,i=0,o=r,a=i,s=new n,l=n.CMD,c=t.match(y),h=0;h<c.length;h++){for(var u,p=c[h],v=p.charAt(0),g=p.match(d)||[],m=g.length,_=0;_<m;_++)g[_]=parseFloat(g[_]);for(var x=0;x<m;){var b,w,C,S,O,P,T,L=r,A=i;switch(v){case"l":r+=g[x++],i+=g[x++],u=l.L,s.addData(u,r,i);break;case"L":r=g[x++],i=g[x++],u=l.L,s.addData(u,r,i);break;case"m":r+=g[x++],i+=g[x++],u=l.M,s.addData(u,r,i),o=r,a=i,v="l";break;case"M":r=g[x++],i=g[x++],u=l.M,s.addData(u,r,i),o=r,a=i,v="L";break;case"h":r+=g[x++],u=l.L,s.addData(u,r,i);break;case"H":r=g[x++],u=l.L,s.addData(u,r,i);break;case"v":i+=g[x++],u=l.L,s.addData(u,r,i);break;case"V":i=g[x++],u=l.L,s.addData(u,r,i);break;case"C":u=l.C,s.addData(u,g[x++],g[x++],g[x++],g[x++],g[x++],g[x++]),r=g[x-2],i=g[x-1];break;case"c":u=l.C,s.addData(u,g[x++]+r,g[x++]+i,g[x++]+r,g[x++]+i,g[x++]+r,g[x++]+i),r+=g[x-2],i+=g[x-1];break;case"S":b=r,w=i;var M=s.len(),k=s.data;e===l.C&&(b+=r-k[M-4],w+=i-k[M-3]),u=l.C,L=g[x++],A=g[x++],r=g[x++],i=g[x++],s.addData(u,b,w,L,A,r,i);break;case"s":b=r,w=i,M=s.len(),k=s.data,e===l.C&&(b+=r-k[M-4],w+=i-k[M-3]),u=l.C,L=r+g[x++],A=i+g[x++],r+=g[x++],i+=g[x++],s.addData(u,b,w,L,A,r,i);break;case"Q":L=g[x++],A=g[x++],r=g[x++],i=g[x++],u=l.Q,s.addData(u,L,A,r,i);break;case"q":L=g[x++]+r,A=g[x++]+i,r+=g[x++],i+=g[x++],u=l.Q,s.addData(u,L,A,r,i);break;case"T":b=r,w=i,M=s.len(),k=s.data,e===l.Q&&(b+=r-k[M-4],w+=i-k[M-3]),r=g[x++],i=g[x++],u=l.Q,s.addData(u,b,w,r,i);break;case"t":b=r,w=i,M=s.len(),k=s.data,e===l.Q&&(b+=r-k[M-4],w+=i-k[M-3]),r+=g[x++],i+=g[x++],u=l.Q,s.addData(u,b,w,r,i);break;case"A":C=g[x++],S=g[x++],O=g[x++],P=g[x++],T=g[x++],f(L=r,A=i,r=g[x++],i=g[x++],P,T,C,S,O,u=l.A,s);break;case"a":C=g[x++],S=g[x++],O=g[x++],P=g[x++],T=g[x++],f(L=r,A=i,r+=g[x++],i+=g[x++],P,T,C,S,O,u=l.A,s)}}"z"!==v&&"Z"!==v||(u=l.Z,s.addData(u),r=o,i=a),e=u}return s.toStatic(),s}(t);return(e=e||{}).buildPath=function(t){if(t.setData)t.setData(r.data),(e=t.getContext())&&t.rebuildPath(e);else{var e=t;r.rebuildPath(e)}},e.applyTransform=function(t){o(r,t),this.dirty(!0)},e}e.createFromString=function(t,e){return new i(v(t,e))},e.extendFromString=function(t,e){return i.extend(v(t,e))},e.mergePath=function(t,e){for(var r=[],n=t.length,o=0;o<n;o++){var a=t[o];a.path||a.createPathProxy(),a.__dirtyPath&&a.buildPath(a.path,a.shape,!0),r.push(a.path)}var s=new i(e);return s.createPathProxy(),s.buildPath=function(t){t.appendPath(r);var e=t.getContext();e&&t.rebuildPath(e)},s}},function(t,e){var r=2*Math.PI;e.normalizeRadian=function(t){return(t%=r)<0&&(t+=r),t}},function(t,e,r){var i=r(4).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,r){r&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}});t.exports=i},function(t,e,r){var i=r(4),n=r(102),o=r(107).subPixelOptimizeRect,a={},s=i.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var r,i,s,l;this.subPixelOptimize?(o(a,e,this.style),r=a.x,i=a.y,s=a.width,l=a.height,a.r=e.r,e=a):(r=e.x,i=e.y,s=e.width,l=e.height),e.r?n.buildPath(t,e):t.rect(r,i,s,l),t.closePath()}});t.exports=s},function(t,e){var r=Math.round;function i(t,e,i){var n=r(2*t);return(n+r(e))%2==0?n/2:(n+(i?1:-1))/2}e.subPixelOptimizeLine=function(t,e,n){var o=n&&n.lineWidth;if(e&&o){var a=e.x1,s=e.x2,l=e.y1,c=e.y2;r(2*a)===r(2*s)?t.x1=t.x2=i(a,o,!0):(t.x1=a,t.x2=s),r(2*l)===r(2*c)?t.y1=t.y2=i(l,o,!0):(t.y1=l,t.y2=c)}},e.subPixelOptimizeRect=function(t,e,r){var n=r&&r.lineWidth;if(e&&n){var o=e.x,a=e.y,s=e.width,l=e.height;t.x=i(o,n,!0),t.y=i(a,n,!0),t.width=Math.max(i(o+s,n,!1)-t.x,0===s?0:1),t.height=Math.max(i(a+l,n,!1)-t.y,0===l?0:1)}},e.subPixelOptimize=i},function(t,e,r){var i=r(4).extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){var r=e.cx,i=e.cy,n=e.rx,o=e.ry,a=.5522848*n,s=.5522848*o;t.moveTo(r-n,i),t.bezierCurveTo(r-n,i-s,r-a,i-o,r,i-o),t.bezierCurveTo(r+a,i-o,r+n,i-s,r+n,i),t.bezierCurveTo(r+n,i+s,r+a,i+o,r,i+o),t.bezierCurveTo(r-a,i+o,r-n,i+s,r-n,i),t.closePath()}});t.exports=i},function(t,e,r){var i=r(4),n=r(107).subPixelOptimizeLine,o={},a=i.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var r,i,a,s;s=this.subPixelOptimize?(n(o,e,this.style),r=o.x1,i=o.y1,a=o.x2,o.y2):(r=e.x1,i=e.y1,a=e.x2,e.y2);var l=e.percent;0!==l&&(t.moveTo(r,i),l<1&&(a=r*(1-l)+a*l,s=i*(1-l)+s*l),t.lineTo(a,s))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}});t.exports=a},function(t,e,r){var i=r(4),n=r(111),o=i.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){n.buildPath(t,e,!0)}});t.exports=o},function(t,e,r){var i=r(186),n=r(187);e.buildPath=function(t,e,r){var o=e.points,a=e.smooth;if(o&&2<=o.length){if(a&&"spline"!==a){var s=n(o,a,r,e.smoothConstraint);t.moveTo(o[0][0],o[0][1]);for(var l=o.length,c=0;c<(r?l:l-1);c++){var h=s[2*c],u=s[2*c+1],p=o[(c+1)%l];t.bezierCurveTo(h[0],h[1],u[0],u[1],p[0],p[1])}}else{"spline"===a&&(o=i(o,r)),t.moveTo(o[0][0],o[0][1]),c=1;for(var f=o.length;c<f;c++)t.lineTo(o[c][0],o[c][1])}r&&t.closePath()}}},function(t,e,r){var i=r(4),n=r(111),o=i.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){n.buildPath(t,e,!1)}});t.exports=o},function(t,e,r){var i=r(3),n=r(67),o=function(t,e,r,i,o,a){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==r?1:r,this.y2=null==i?0:i,this.type="linear",this.global=a||!1,n.call(this,o)};o.prototype={constructor:o},i.inherits(o,n);var a=o;t.exports=a},function(t,e,r){var i,n=r(13),o="urn:schemas-microsoft-com:vml",a="undefined"==typeof window?null:window,s=!1,l=a&&a.document;if(l&&!n.canvasSupported)try{!l.namespaces.zrvml&&l.namespaces.add("zrvml",o),i=function(t){return l.createElement("<zrvml:"+t+' class="zrvml">')}}catch(t){i=function(t){return l.createElement("<"+t+' xmlns="'+o+'" class="zrvml">')}}e.doc=l,e.createNode=function(t){return i(t)},e.initVML=function(){if(!s&&l){s=!0;var t=l.styleSheets;t.length<31?l.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(32),n=r(7),o=function(){function t(){}return t.prototype.draw=function(t,e,r,i,o,a){this.zr||(this.zr=n.init(t)),this.zr.clear();var s=this.getNewData(r,2*o.size,i,o.fieldName);this.setRange(s,o,a),this.drawHoneyComb(e,s,i,o,a)},t.prototype.getNewData=function(t,e,r,i){for(var n={},o=e*r,a=o*Math.sqrt(3),s=1.5*o,l=this.checkFiledName(i,Object.keys(t[0])),c=function(e){var r=t[e].shape,o=r[1]/s,c=Math.round(o),h=r[0]/a-(1&c?.5:0),u=Math.round(h),p=o-c;if(1<3*Math.abs(p)){var f=h-u,y=u+(h<u?-1:1)/2,d=c+(o<c?-1:1),v=h-y,g=o-d;v*v+g*g<f*f+p*p&&(u=y+(1&c?1:-1)/2,c=d)}var m=u+"-"+c,_=n[m];_?l?_.gvCount+=t[e][i]:_.gvCount++:(_=n[m]={},Object.keys(t[e]).forEach(function(r){"shape"!==r&&(_[r]=t[e][r])}),_.gvCount=l?t[e][i]:1,_.i=u,_.j=c,_.x=(u+(1&c?.5:0))*a,_.y=c*s)},h=0;h<t.length;h++)c(h);return n},t.prototype.drawHoneyComb=function(t,e,r,o,a){var s=t[0],l=t[3],c=2*o.size,h=o.offset,u=this.getZrStyle(o),p=new n.Group;for(var f in e){var y=(e[f].x-s)/r+h[0],d=(l-e[f].y)/r+h[1],v=c/2,g=new i.RegularSix(y,d,v),m=e[f].gvCount;o.label.show&&(u.text=m),u.fill=a.getColor(m),g.setAttr("style",u),g.setAttr("data",this.getProperty(e[f])),p.add(g.getElement())}this.zr.add(p),this.zrGroup=p},t.prototype.getProperty=function(t){var e={};for(var r in t)"i"!=r&&"j"!=r&&"x"!=r&&"y"!=r&&(e[r]=t[r]);return e},t.prototype.checkFiledName=function(t,e){for(var r=0;r<e.length;r++)if(t===e[r])return!0;return!1},t.prototype.getZrStyle=function(t){return{stroke:t.strokeStyle,lineWidth:t.lineWidth,shadowColor:t.shadowColor,shadowBlur:t.shadowBlur,textFill:t.label.fillStyle,fontStyle:t.label.fontStyle,fontWeight:t.label.fontWeight,fontSize:t.label.fontSize.replace("px",""),fontFamily:t.label.fontFamily,textShadowColor:t.label.shadowColor,textShadowBlur:t.label.shadowBlur,opacity:t.globalAlpha}},t.prototype.setRange=function(t,e,r){var i=null,n=null;for(var o in t){var a=t[o].gvCount;i=i?Math.min(a,i):a,n=n?Math.max(a,n):a}e.hasOwnProperty("min")||r.setMin(i),e.hasOwnProperty("max")||r.setMax(n)},t}();e.HoneyComb=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(7),n=r(117),o=function(){function t(){}return t.prototype.draw=function(t,e,r,n,o,a){this.zr||(this.zr=i.init(t)),this.zr.clear();var s=this.getNewData(r,2*o.size,n,o.fieldName);this.setRange(s,o,a),this.drawGrid(e,s,n,o,a)},t.prototype.getNewData=function(t,e,r,i){for(var n={},o=e*r*2,a=this.checkFiledName(i,Object.keys(t[0])),s=function(e){var r=t[e].shape,s=Math.floor(r[0]/o),l=Math.floor(r[1]/o),c=s+"-"+l,h=n[c];h?a?h.gvCount+=t[e][i]:h.gvCount++:(h=n[c]={},Object.keys(t[e]).forEach(function(r){"shape"!==r&&(h[r]=t[e][r])}),h.gvCount=a?t[e][i]:1,h.i=s,h.j=l,h.x=(s+.5)*o,h.y=(l+.5)*o)},l=0;l<t.length;l++)s(l);return n},t.prototype.drawGrid=function(t,e,r,o,a){var s=t[0],l=t[3],c=2*o.size,h=o.offset,u=this.getZrStyle(o),p=new i.Group;for(var f in e){var y=(e[f].x-s)/r+h[0],d=(l-e[f].y)/r+h[1],v=2*c,g=new n.Square(y,d,v),m=e[f].gvCount;o.label.show&&(u.text=m),u.fill=a.getColor(m),g.setAttr("style",u),g.setAttr("data",this.getProperty(e[f])),p.add(g.getElement())}this.zr.add(p),this.zrGroup=p},t.prototype.getProperty=function(t){var e={};for(var r in t)"i"!=r&&"j"!=r&&"x"!=r&&"y"!=r&&(e[r]=t[r]);return e},t.prototype.checkFiledName=function(t,e){for(var r=0;r<e.length;r++)if(t===e[r])return!0;return!1},t.prototype.getZrStyle=function(t){return{stroke:t.strokeStyle,lineWidth:t.lineWidth,shadowColor:t.shadowColor,shadowBlur:t.shadowBlur,textFill:t.label.fillStyle,fontStyle:t.label.fontStyle,fontWeight:t.label.fontWeight,fontSize:t.label.fontSize.replace("px",""),fontFamily:t.label.fontFamily,textShadowColor:t.label.shadowColor,textShadowBlur:t.label.shadowBlur,opacity:t.globalAlpha}},t.prototype.setRange=function(t,e,r){var i=null,n=null;for(var o in t){var a=t[o].gvCount;i=i?Math.min(a,i):a,n=n?Math.max(a,n):a}e.hasOwnProperty("min")||r.setMin(i),e.hasOwnProperty("max")||r.setMax(n)},t}();e.Grid=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r,i){var n=t.call(this,"Rect",e,r,i)||this;return n.x=e,n.y=r,n.len=i,n}return n(e,t),e.prototype.create=function(t){return{shape:{x:t[0],y:t[1],width:t[2],height:t[2]},style:{stroke:"none",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(r(8).GraphicZrender);e.Square=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Map=function(){}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(7),n=r(73),o=function(){function t(){}return t.prototype.draw=function(t,e,r,n,o){this.zr||(this.zr=i.init(t)),this.zr.clear();var a=this.getNewData(n,r,o);this.drawBubble(e,a,r,o)},t.prototype.getNewData=function(t,e,r){for(var i,n={},o=this.checkFiledName(r.fieldName,Object.keys(t[0])),a=function(e){var a=t[e].shape,s=Math.floor(a[0]),l=Math.floor(a[1]),c=s+"-"+l,h=n[c];h=n[c]={},i=o?t[e][r.fieldName]:20,Object.keys(t[0]).forEach(function(i){"shape"!==i&&i!==r.fieldName&&(h[i]=t[e][i])}),h.i=s,h.j=l,h.x=a[0],h.y=a[1],h.gvCount=i},s=0;s<t.length;s++)a(s);return n},t.prototype.drawBubble=function(t,e,r,o){var a=t[0],s=t[3],l=this.getZrStyle(o),c=o.offset,h=new i.Group;o.maxSize=o.maxSize||25,o.minSize=o.minSize||10;var u=this.getTimes(e,o);for(var p in e){var f=(e[p].x-a)/r+c[0],y=(s-e[p].y)/r+c[1],d=e[p].gvCount/u;d<o.minSize&&(d=o.minSize);var v=new n.Circle(f,y,d);o.label.show&&(l.text=e[p].gvCount),v.setAttr("style",l),v.setAttr("data",this.getProperty(e[p])),h.add(v.getElement())}this.zr.add(h),this.zrGroup=h},t.prototype.getProperty=function(t){var e={};for(var r in t)"i"!=r&&"j"!=r&&"x"!=r&&"y"!=r&&(e[r]=t[r]);return e},t.prototype.checkFiledName=function(t,e){for(var r=0;r<e.length;r++)if(t===e[r])return!0;return!1},t.prototype.getZrStyle=function(t){return{fill:t.fillStyle,stroke:t.strokeStyle,lineWidth:t.lineWidth,shadowColor:t.shadowColor,shadowBlur:t.shadowBlur,textFill:t.label.fillStyle,fontStyle:t.label.fontStyle,fontWeight:t.label.fontWeight,fontSize:t.label.fontSize.replace("px",""),fontFamily:t.label.fontFamily,textShadowColor:t.label.shadowColor,textShadowBlur:t.label.shadowBlur,opacity:t.globalAlpha}},t.prototype.getTimes=function(t,e){var r=[];for(var i in t)r.push(t[i].gvCount);var n=Math.max.apply(null,r),o=Math.ceil(Number(n)/e.maxSize);return o<1&&(o=1),o},t}();e.Bubble=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(118),a=r(1),s=function(t){function e(e,r){var i=t.call(this)||this,n=i.initConfig(r);return i.globe=new a.carto.Globe({defaultExtent:n.defaultExtent,fullExtent:n.fullExtent,srid:n.srid}),i.globe.init({targetId:e}),i}return n(e,t),e.prototype.initConfig=function(t){var e={defaultExtent:[115.25,39.26,117.3,41.03],fullExtent:[115.25,39.26,117.3,41.03],srid:4326};for(var r in t)"dom"==r&&(e[r]=t[r]);return e},e.prototype.addLayer=function(t){this.globe.addLayer(t)},e.prototype.getMap=function(){return this.globe},e}(o.Map);e.TSGlobe=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.splitList=t||{other:1}}return t.prototype.get=function(t){var e=this.splitList,r=e.other;for(var i in e)if(t==i){r=e[i];break}return r},t.prototype.generateByDataSet=function(t,e){var r=e||["rgba(255, 255, 0, 0.8)","rgba(253, 98, 104, 0.8)","rgba(255, 146, 149, 0.8)","rgba(255, 241, 193, 0.8)","rgba(110, 176, 253, 0.8)","rgba(52, 139, 251, 0.8)","rgba(17, 102, 252, 0.8)"],i=t.get();this.splitList={};for(var n=0,o=0;o<i.length&&(void 0===this.splitList[i[o].count]&&(this.splitList[i[o].count]=r[n],n++),!(n>=r.length-1));o++);this.splitList.other=r[r.length-1]},t.prototype.getLegend=function(t){var e=t.legend.left||10,r=t.legend.bottom||50,i=t.legend.padding||5,n=t.legend.fontSize||14;n.toString().replace("px","");var o=t.legend.fontColor||"#333",a=this.splitList,s=document.createElement("div");s.setAttribute("class","chartLegend"),s.style.position="absolute",s.style.zIndex="0",s.style.left=e+"px",s.style.bottom=r+"px";var l="";for(var c in a)l+='<div legendClick="true" style="line-height: 19px;padding: '+i+'px;" value="'+c+'"><span style="vertical-align: -2px; display: inline-block; width: 30px;height: 19px;background:'+a[c]+';"></span><span style="margin-left: 3px; font-size: '+n+";color: "+o+';">'+c+"<span></div>";return s.innerHTML=l,s},t}();e.Category=i},function(t,e,r){r(123),t.exports=r(124)},function(t,e){t.exports=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(35),n=r(26),o=r(125),a=r(126),s=r(127),l=r(128),c=r(129),h=r(130),u=r(140),p=r(11),f=r(36),y=r(141),d=r(57),v=r(142),g=r(89),m=r(58),_=r(143),x=r(12),b=r(56),w=r(18),C=r(39),S=r(38),O=r(53),P=r(144),T=r(145),L=r(54),A=r(29),M=r(52),k=r(28),E=r(27),D=r(90),z=r(146),j=r(91),B=r(147),F=r(148),R=r(149),I=r(150),N=r(93),W=r(40),G=r(151),V=r(60),H=r(152),q=r(153),U=r(154),Z=r(80),X=r(55),Y=r(155),J=r(59),$=r(92),Q=r(156),K=r(19),tt=r(77),et=r(37),rt=r(157),it=r(158),nt=r(159),ot=r(160),at=r(161),st=r(79),lt=r(78),ct=r(162),ht=r(163),ut=r(61),pt=r(211),ft=r(212),yt=r(213),dt=r(84),vt=r(214),gt=r(215),mt=r(216),_t=r(217),xt=r(218),bt=r(219),wt=r(220),Ct=r(221),St=r(222),Ot=r(223),Pt=r(224),Tt=r(225),Lt=r(226),At=r(227),Mt=r(228),kt=r(229),Et=r(230),Dt=r(231),zt=r(232),jt=r(233),Bt=r(234),Ft=r(235),Rt=r(236),It=r(81),Nt=r(86),Wt=r(87),Gt=r(88),Vt=r(237),Ht=r(85),qt=r(238),Ut=r(239),Zt=r(240),Xt=r(241),Yt=r(242),Jt=r(243),$t=r(244),Qt=r(245),Kt=r(246),te=r(247),ee=r(248),re=r(249),ie=r(250),ne=r(251),oe=r(252),ae=r(253),se=r(254),le=r(255),ce=r(256),he=r(257),ue=r(258),pe=r(259),fe=r(260),ye=r(261),de=r(262),ve=r(263),ge=r(264),me=r(265),_e=r(266),xe=r(267),be=r(0),we=r(41),Ce=r(269),Se=r(270),Oe=r(115),Pe=r(116),Te=r(271),Le=r(73),Ae=r(32),Me=r(117),ke=r(272),Ee=r(273),De=r(274),ze=r(275),je=r(276),Be=r(277),Fe=r(278),Re=r(279),Ie=r(280),Ne=r(25),We=r(281),Ge=r(282),Ve=r(283),He=r(17),qe=r(284),Ue=r(285),Ze=r(286),Xe=r(287),Ye=r(288),Je=r(289),$e=r(290),Qe=r(119),Ke=r(5),tr=r(295),er=r(296),rr=r(297),ir=r(298),nr=r(299),or=r(301),ar=r(302),sr=r(303),lr=r(304),cr=r(305),hr=r(306),ur=r(307),pr=r(308),fr=r(15),yr=r(34),dr=r(309),vr=r(310),gr=r(311),mr=r(312),_r=r(313),xr=r(83),br=r(314),wr=r(315),Cr=r(316),Sr=r(120),Or=r(317),Pr=r(318);e.chart={ChartBase:i.ChartBase,AnimationType:n.AnimationType,PointFlash:o.PointFlash,PointSlide:rt.PointSlide,PointSpreadEarthquake:a.PointSpreadEarthquake,PointSpreadWaterRipple:s.PointSpreadWaterRipple,Zrender:ut.Zrender,PointEffectScatter:pt.PointEffectScatter,LinesTrailEffect:ft.LinesTrailEffect,PieChartMap:ot.PieChartMap,SumPieChartMap:at.SumPieChartMap,HeatmapChartMap:qe.HeatmapChartMap,ScatterChartMap:Xe.ScatterChartMap,LinesScatterChartMap:Ye.LinesScatterChartMap,EffectScatterChartMap:Je.EffectScatterChartMap,HoneyCombChartMap:$e.HoneyCombChartMap,EChartMap:l.EChartMap,ElementLayer:c.ElementLayer,FeatureLayer:h.FeatureLayer,HeatMapLayer:u.HeatMapLayer,Tianditu:Ge.Tianditu,TiandituLabel:Ve.TiandituLabel,G2Tianditu:Ue.G2Tianditu,G2TiandituLabel:Ze.G2TiandituLabel,Layer:p.Layer,MapChart:f.MapChart,ChartRenderer:it.ChartRenderer,ClassBreaksRenderer:y.ClassBreaksRenderer,Renderer:d.Renderer,TSRenderer:v.TSRenderer,Style:g.Style,TSStyle:m.TSStyle,TSMapChart:_.TSMapChart,TSGlobeMapChart:We.TSGlobeMapChart,OverLay:st.OverLay,OverlayWare:lt.OverlayWare,BarChartMap:nt.BarChartMap,BasicBarChart:dt.BasicBarChart,MultiBarChart:vt.MultiBarChart,OppositeBarChart:gt.OppositeBarChart,PointBarChart:mt.PointBarChart,VBorderBarChart:_t.VBorderBarChart,VStackBarChart:xt.VStackBarChart,VStackBorderBarChart:bt.VStackBorderBarChart,VBarChart:wt.VBarChart,StackBarChart:Ct.StackBarChart,PicBarChart:St.PicBarChart,VOppositeBarChart:Ot.VOppositeBarChart,VPointBarChart:Pt.VPointBarChart,ThreeDBarChart:Tt.ThreeDBarChart,VUnstackPicBarChart:Lt.VUnstackPicBarChart,ColumnBorderBarChart:ht.ColumnBorderBarChart,DoubleBarChart:yt.DoubleBarChart,BasicThreeDBarChart:At.BasicThreeDBarChart,StackThreeDBarChart:Mt.StackThreeDBarChart,VCarouselBarChart:kt.VCarouselBarChart,VTwoWayBarChart:Et.VTwoWayBarChart,VShadowBarChart:Ce.VShadowBarChart,LineAreaBlurChart:Dt.LineAreaBlurChart,LineAreaChart:zt.LineAreaChart,BasicLineChart:jt.BasicLineChart,AreaLineChart:Bt.AreaLineChart,StackAreaLineChart:Ft.StackAreaLineChart,StepLineChart:Rt.StepLineChart,BasicPieChart:It.BasicPieChart,RingPieChart:Nt.RingPieChart,RoseRingPieChart:Wt.RoseRingPieChart,SinglePieChart:Gt.SinglePieChart,StackPicBarChart:Vt.StackPicBarChart,SumPieChart:Ht.SumPieChart,RingCakePieChart:qt.RingCakePieChart,BasicScatterChart:Ut.BasicScatterChart,AreaScatterChart:Zt.AreaScatterChart,ComplexScatterChart:Xt.ComplexScatterChart,ThreeDScatterChart:Yt.ThreeDScatterChart,LineBarChart:Jt.LineBarChart,AreaBarChart:$t.AreaBarChart,LinePicBarChart:Qt.LinePicBarChart,BasicHeatmapChart:Kt.BasicHeatmapChart,BasicFunnelChart:te.BasicFunnelChart,BasicPolarChart:ee.BasicPolarChart,StackPolarChart:re.StackPolarChart,VPolarChart:ie.VPolarChart,VStackPolarChart:ne.VStackPolarChart,BasicGaugeChart:oe.BasicGaugeChart,BasicRadarChart:ae.BasicRadarChart,BasicLiquidFillChart:se.BasicLiquidFillChart,BasicGraphChart:le.BasicGraphChart,ThreeDLiquidFillChart:ce.ThreeDLiquidFillChart,ThreeDWaterDropChart:he.ThreeDWaterDropChart,LiquidFillWaveChart:ue.LiquidFillWaveChart,BubbleCloudChart:pe.BubbleCloudChart,ForceGraphChart:fe.ForceGraphChart,BasicTreeChart:ye.BasicTreeChart,VTreeChart:de.VTreeChart,CTreeChart:ve.CTreeChart,BasicSunburstChart:ge.BasicSunburstChart,BeeHiveChart:me.BeeHiveChart,ThreeDFunnelChart:_e.ThreeDFunnelChart,WordCloudChart:xe.WordCloudChart,BeeHiveMapChart:Se.BeeHiveMapChart,EChart:be.EChart,StatChart:we.StatChart,ColumnBarChart:ct.ColumnBarChart,MapVChart:Ke.MapVChart,GridChart:tr.GridChart,HoneyCombChart:er.HoneyCombChart,BubbleChart:rr.BubbleChart,BoundaryChart:ir.BoundaryChart,DensityChart:nr.DensityChart,HeatChart:or.HeatChart,LineAnimationChart:ar.LineAnimationChart,DynamicPointChart:sr.DynamicPointChart,QianXiChart:lr.QianXiChart,ForceEdgeBundlingChart:cr.ForceEdgeBundlingChart,SituationChart:hr.SituationChart,WindChart:ur.WindChart,PointClusterChart:pr.PointClusterChart,PieStatisticsChart:_r.PieStatisticsChart,WeiboChart:gr.WeiboChart,PointCategoryChart:mr.PointCategoryChart,FeatureSourceChart:vr.FeatureSourceChart,QianXiRippleChart:br.QianXiRippleChart,QianXiIconChart:Cr.QianXiIconChart,BarStatisticsChart:wr.BarStatisticsChart,PointAnimationCategory:Or.PointAnimationCategoryChart,IconCategoryChart:Pr.IconCategoryChart,MapType:fr.MapType,TSMap:yr.TSMap,TSGlobe:Sr.TSGlobe,MapCreator:dr.MapCreator},e.config={ChartConfig:x.ChartConfig,ChartTemplate:b.ChartTemplate,ResourceConfig:xr.ResourceConfig},e.data={ChartData:w.ChartData,ChartEntry:C.ChartEntry,ChartItem:S.ChartItem,DataType:O.DataType,Element:P.Element,ElementCollection:T.ElementCollection,Entity:L.Entity,Feature:A.Feature,FeatureCollection:M.FeatureCollection,Field:k.Field,Fields:E.Fields},e.net={AjaxHttp:D.AjaxHttp,RestService:z.RestService,THB:j.THB,Topic:B.Topic,VataService:F.VataService,WSDuplexClient:R.WSDuplexClient},e.source={SimpleFilter:I.SimpleFilter,ElementSource:N.ElementSource,FeatureSource:W.FeatureSource,GeoJsonSource:G.GeoJsonSource,MapSource:V.MapSource,SimpleElementSource:H.SimpleElementSource,SimpleFeatureSource:q.SimpleFeatureSource,TSWFSSource:U.TSWFSSource,SimpleSource:Z.SimpleSource,StatSource:X.StatSource,VataSource:Y.VataSource},e.util={CurrencyObjectCreator:J.CurrencyObjectCreator,SimpleObjectCreator:$.SimpleObjectCreator,TObjectCreator:Q.TObjectCreator,TypeDecorator:K.__Type,TypeInfo:tt.TypeInfo,TypeTable:et.TypeTable},e.graphic={Arc:Te.Arc,Circle:Le.Circle,RegularSix:Ae.RegularSix,Square:Me.Square,Ellipse:ke.Ellipse,Isogon:Ee.Isogon,Line:De.Line,Polygon:ze.Polygon,Polyline:je.Polyline,Rect:Be.Rect,Text:Fe.Text,Sector:Re.Sector,Droplet:Ie.Droplet},e.draw={HoneyComb:Oe.HoneyComb,Grid:Pe.Grid,Bubble:Qe.Bubble},e.coord={CesiumMapLayer:Ne.default,G2MapLayer:He.default},e.gv={chart:e.chart,config:e.config,data:e.data,net:e.net,source:e.source,util:e.util}},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),a=function(t){function e(e,r,i,n,a){void 0===n&&(n="normal");var s=t.call(this)||this;return s.pointFlashParameter=new o.ani.SimpleFlashParameter({geometry:"",gap:100,count:50,color:"",size:20,effect:"normal",loop:!0}),s}return n(e,t),e.prototype.getData=function(){return this.pointFlashParameter},e.prototype.setPeriod=function(t){this.pointFlashParameter.gap=1e3*t},e.prototype.setCount=function(t){this.pointFlashParameter.count=t},e.prototype.setSymbolSize=function(t){void 0===t&&(t=20),this.pointFlashParameter.size=t},e.prototype.setEffectType=function(t){void 0===t&&(t="normal"),this.pointFlashParameter.effect=t},e}(r(26).AnimationType);e.PointFlash=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),a=function(t){function e(){var e=t.call(this)||this;return e.spreadEarthquakeParameter=new o.ani.SpreadEarthquakeParameter({geometry:"",life:300,gap:5,radius:4,color:"",fillColor:"",size:0,effect:"normal",loop:!0}),e}return n(e,t),e.prototype.getData=function(){return this.spreadEarthquakeParameter},e.prototype.setPeriod=function(t){this.spreadEarthquakeParameter.life=1e3*t},e.prototype.setScale=function(t){this.spreadEarthquakeParameter.radius=t},e.prototype.setEffectType=function(t){void 0===t&&(t="normal"),this.spreadEarthquakeParameter.effect=t},e}(r(26).AnimationType);e.PointSpreadEarthquake=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),a=function(t){function e(){var e=t.call(this)||this;return e.spreadWaterRippleParameter=new o.ani.SpreadWaterRippleParameter({geometry:"",life:300,gap:5,radius:4,color:"",fillColor:"",size:10,effect:"normal",loop:!0}),e}return n(e,t),e.prototype.getData=function(){return this.spreadWaterRippleParameter},e.prototype.setPeriod=function(t){this.spreadWaterRippleParameter.life=1e3*t},e.prototype.setScale=function(t){this.spreadWaterRippleParameter.radius=t},e.prototype.setEffectype=function(t){void 0===t&&(t="normal"),this.spreadWaterRippleParameter.effect=t},e}(r(26).AnimationType);e.PointSpreadWaterRipple=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(36),a=r(2),s=function(t){function e(e){var r=t.call(this)||this;return r.echart_obj=a.init(e),r}return n(e,t),e.prototype.addLayer=function(t){},e}(o.MapChart);e.EChartMap=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(11),a=r(1),s=function(t){function e(){var e=t.call(this)||this;return e.elementLayer=new a.carto.ElementLayer,e}return n(e,t),e.prototype.animator=function(t){this.animationType=t,this.state=!0},e.prototype.setSource=function(t){var e=this;t.getData().then(function(t){e.source=t})},e.prototype.render=function(t){var e,r=this,i=this;t.getStyles().then(function(t){for(var n=new a.sfs.SymbolTable({baseUrl:""}),o=0,s=t.length;o<s;++o){var l=t[o],c=l.symbol,h=l.name;n.append(h,c)}for(o=0,s=i.source.getCount();o<s;++o){var u=i.source.get(0).getStyle();e=n.find(u)}if(i.elementLayer.addElementCollection(i.toGElementCollection(i.source,e)),r.state){var p=new a.ani.Animator({layer:r.elementLayer}),f=r.animationType.getData().radius;for(o=0,s=r.source.getCount();o<s;++o){var y=r.source.get(o).getGeometry(),d=r.animationType.getData();d.fillColor=e.fillColor,e.borderColor?d.color=e.borderColor:d.color=e.color,d.geometry=y,e.size&&(d.radius=Number(e.size)*f),p.enable(),p.play(d)}}})},e.prototype.getLayer=function(){return this.elementLayer},e.prototype.toGElementCollection=function(t,e){for(var r=t.getSpatialReference(),i=t.get(0),n=new a.sfs.Fields,o=i.getFields(),s=0;s<o.getCount();s++){var l=o.get(s),c=new a.sfs.Field({name:l.name,dataType:l.dataType});n.add(c)}for(var h=new a.sfs.GEntityCollection({fields:n}),u=0;u<t.getCount();u++){var p=t.get(u),f=p.getFields(),y=a.sfs.GeometryFormatter.fromWKT(p.getGeometry(),r);p.setGeometry(y),p.setStyle(e);var d=new a.sfs.Element;d.geometry=y,d.symbol=e;var v=new a.sfs.GElement({fields:n});for(s=0;s<f.getCount();s++)l=f.get(s),v.setValue(l.name,d);v.setElement(d),h.add(v)}return h},e}(o.Layer);e.ElementLayer=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(11),a=r(52),s=r(1),l=r(27),c=r(28),h=r(29),u=r(18),p=r(38),f=r(39),y=r(78),d=r(79),v=r(80),g=r(81),m=r(84),_=r(85),x=r(86),b=r(87),w=r(88),C=r(56),S=function(t){function e(){var e=t.call(this)||this;return e.featureLayer=new s.carto.FeatureLayer,e.name=[],e.value=[],e}return n(e,t),e.prototype.setSelectStyle=function(t){this.selectStyleName=t;var e=this;this.featureLayer.on("click",function(t,r,i,n,o){e.selectFeature&&e.featureLayer.unSelect(new s.carto.Graphic({feature:e.selectFeature}));var a=new s.carto.Graphic({feature:o});e.featureLayer.select(a),e.selectFeature=o})},e.prototype.setChartType=function(t){this.chartType=t},e.prototype.setSource=function(t){this.source=t;var e=this;return new Promise(function(r){t.getData().then(function(t){t instanceof a.FeatureCollection?e.featureLayer.addFeatureCollection(e.toGFeatureCollection(t)):e.featureLayer.addFeatureCollection(t);for(var i=[],n=0;n<e.featureLayer.getCount()-1;n++){var o={},s=e.featureLayer.get(n).getProperty("name").value;o.name=s,o.coordinate=e.featureLayer.get(n).getGeometry().getBaryCenter(),i.push(o)}r(i)})})},e.prototype.render=function(t,e,r){var i=this,n=new s.sfs.SymbolTable({baseUrl:""}),o=this;t[0].getStyles().then(function(a){for(var s=0,l=a.length;s<l;++s){var c=a[s],h=c.symbol,u=c.name;n.append(u,h)}if(o.selectStyleName){var p=n.find(o.selectStyleName);o.featureLayer.selectSymbol=p}var f=e.getLayers();for(s=0,l=f.length;s<l;++s)"object"==typeof r&&r.constructor==Array?i.setRender(f[s],t[s],r[s],n):i.setRender(f[s],t[s],r,n)})},e.prototype.setRender=function(t,e,r,i){var n=new s.render.RenderCreator({symbolTable:i});e.getRender().then(function(e){var i=n.createRender(e,r);i.showLabel=e.showLabel,i.labelField=e.labelField,t.render(i)})},e.prototype.add=function(t){return this.featureLayer.add(this.toSFSFeature(t))},e.prototype.getLayer=function(){return this.featureLayer},e.prototype.toGFeatureCollection=function(t){for(var e=t.get(0),r=t.getSpatialReference(),i=new s.sfs.Fields,n=e.getFields(),o=0;o<n.getCount();o++){var a=n.get(o),l=new s.sfs.Field({name:a.name,dataType:a.dataType});i.add(l)}for(var c=new s.sfs.GFeatureCollection({fields:i}),h=0;h<t.getCount();h++){var u=t.get(h),p=u.getFields(),f=new s.sfs.GFeature({fields:i});for(o=0;o<p.getCount();o++)a=p.get(o),f.setValue(a.name,u.getValue(a.name));var y=s.sfs.GeometryFactory.createGeometryFromWkt(u.getGeometry(),r);f.setGeometry(y),c.add(f)}return c},e.prototype.on=function(t,e){var r=this;this.featureLayer.on(t,function(t,i,n,o,a){var s=r.toFeature(a);e({lan:n,lng:o,Feature:s})})},e.prototype.un=function(t,e){this.featureLayer.un(t,e)},e.prototype.toFeature=function(t){var e=new l.Fields,r=new h.Feature(e);r.setGeometry(t.getGeometry().asWkt(4));for(var i=0,n=t.fields.fields,o=t.properties;i<n.length;i++){var a=new c.Field;a.name=n[i].name,a.dataType=n[i].dataType,e.addField(a),r.setValue(a.name,o[i].value)}return r},e.prototype.toSFSFeature=function(t){for(var e=s.sfs.GeometryFactory.createGeometryFromWkt(t.getGeometry(),4326),r=t.getFields(),i=[],n=new s.sfs.Fields,o=0;o<r.getCount();o++){var a=r.get(o),l=new s.sfs.Field({name:a.name,alias:a.alias,dataType:a.dataType});n.add(l);var c=new s.sfs.Property;c.setValue(t.getValue(a.name)),i.push(c)}return new s.sfs.Feature({fields:n,values:i,geometry:e})},e.prototype.toFeatureSet=function(t){for(var e=t.get(0),r=t.getSpatialReference(),i=new s.sfs.Fields,n=e.getFields(),o=0;o<n.getCount();o++){var a=n.get(o),l=new s.sfs.Field({name:a.name,dataType:a.dataType});i.add(l)}for(var c=new s.sfs.FeatureSet({fields:i}),h=0;h<t.getCount();h++){var u=[],p=t.get(h),f=p.getFields();for(o=0;o<f.getCount();o++){a=f.get(o);var y=new s.sfs.Property;y.setValue(p.getValue(a.name)),u.push(y)}var d=s.sfs.GeometryFactory.createGeometryFromWkt(p.getGeometry(),r),v=new s.sfs.Feature({fields:i,values:u,geometry:d});c.add(v)}return c},e.prototype.statisticRender=function(t,e){C.ChartTemplate.load();var r=new y.OverlayWare(e),i=[];this.featureLayer.addFeatures(this.toFeatureSet(t));for(var n=0;n<this.featureLayer.features.length;n++){for(var o=this.featureLayer.features[n].geometry,a=this.featureLayer.features[n],s=this.getStaticData(a),l=Object.keys(s[0]),c=new u.ChartData,h=0;h<s.length;h++){for(var S=new p.ChartItem,O=0;O<l.length;O++){var P=new f.ChartEntry;P.name=l[O],P.value=s[h][l[O]],0<O&&(P.alias="No."+O),S.addEntry(P)}c.addItem(S)}var T=this.parseDom();i.push(T);var L=new d.OverLay(T,o);r.add(L);var A=new v.SimpleSource(c),M=void 0;switch(this.chartType){case"pieChart":M=new g.BasicPieChart(A,T);break;case"barChart":M=new m.BasicBarChart(A,T);break;case"sumPieChart":M=new _.SumPieChart(A,T);break;case"ringPieChart":M=new x.RingPieChart(A,T);break;case"roseRingPieChart":M=new b.RoseRingPieChart(A,T);break;case"singlePieChart":M=new w.SinglePieChart(A,T)}for(var k=0;k<this.name.length;k++)M.config(this.name[k],this.value[k]);M.render()}e.on("resolutionchanged",function(t,e,r){var n=r/5;r<10&&(n=5/r);for(var o=0;o<i.length;o++)i[o].style.transform="scale("+n+","+n+")"})},e.prototype.config=function(t,e){this.name.push(t),this.value.push(e)},e.prototype.getStaticData=function(t){for(var e=[],r=t.getFields(),i=0;i<r.getCount();i++){var n={},o=r.getField(i);n.name=o.name,n.value=t.getValue(o.name),e.push(n)}return e},e.prototype.parseDom=function(){var t=document.createElement("div");return t.innerHTML='<div   style="width:100px;height:80px;z-index: 999 "></div>',t.childNodes[0]},e}(o.Layer);e.FeatureLayer=S},function(t,e,r){(function(t,e){var r,i;i=r||(r={}),function(r){var n="object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=a(i);function a(t,e){return function(r,i){"function"!=typeof t[r]&&Object.defineProperty(t,r,{configurable:!0,writable:!0,value:i}),e&&e(r,i)}}void 0===n.Reflect?n.Reflect=i:o=a(n.Reflect,o),function(e){var r=Object.prototype.hasOwnProperty,i="function"==typeof Symbol,n=i&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=i&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,s={__proto__:[]}instanceof Array,l=!a&&!s,c={create:a?function(){return k(Object.create(null))}:s?function(){return k({__proto__:null})}:function(){return k({})},has:l?function(t,e){return r.call(t,e)}:function(t,e){return e in t},get:l?function(t,e){return r.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},h=Object.getPrototypeOf(Function),u="object"==typeof t&&t.env&&"true"===t.env.REFLECT_METADATA_USE_MAP_POLYFILL,p=u||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],r=function(){function t(t,e,r){this._index=0,this._keys=t,this._values=e,this._selector=r}return t.prototype["@@iterator"]=function(){return this},t.prototype[o]=function(){return this},t.prototype.next=function(){var t=this._index;if(0<=t&&t<this._keys.length){var r=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw 0<=this._index&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return 0<=this._index&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return 0<=this._find(t,!1)},e.prototype.get=function(t){var e=this._find(t,!1);return 0<=e?this._values[e]:void 0},e.prototype.set=function(t,e){var r=this._find(t,!0);return this._values[r]=e,this},e.prototype.delete=function(e){var r=this._find(e,!1);if(0<=r){for(var i=this._keys.length,n=r+1;n<i;n++)this._keys[n-1]=this._keys[n],this._values[n-1]=this._values[n];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new r(this._keys,this._values,i)},e.prototype.values=function(){return new r(this._keys,this._values,n)},e.prototype.entries=function(){return new r(this._keys,this._values,a)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[o]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function i(t,e){return t}function n(t,e){return e}function a(t,e){return[t,e]}}():Map,f=u||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new p}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[o]=function(){return this.keys()},t}():Set,y=new(u||"function"!=typeof WeakMap?function(){var t=16,e=c.create(),i=n();return function(){function t(){this._key=n()}return t.prototype.has=function(t){var e=o(t,!1);return void 0!==e&&c.has(e,this._key)},t.prototype.get=function(t){var e=o(t,!1);return void 0!==e?c.get(e,this._key):void 0},t.prototype.set=function(t,e){return o(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=o(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=n()},t}();function n(){for(var t;t="@@WeakMap@@"+s(),c.has(e,t););return e[t]=!0,t}function o(t,e){if(!r.call(t,i)){if(!e)return;Object.defineProperty(t,i,{value:c.create()})}return t[i]}function a(t,e){for(var r=0;r<e;++r)t[r]=255*Math.random()|0;return t}function s(){var e,r=(e=t,"function"!=typeof Uint8Array?a(new Array(e),e):"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e));r[6]=79&r[6]|64,r[8]=191&r[8]|128;for(var i="",n=0;n<t;++n){var o=r[n];4!==n&&6!==n&&8!==n||(i+="-"),o<16&&(i+="0"),i+=o.toString(16).toLowerCase()}return i}}():WeakMap);function d(t,e,r){var i=y.get(t);if(b(i)){if(!r)return;i=new p,y.set(t,i)}var n=i.get(e);if(b(n)){if(!r)return;n=new p,i.set(e,n)}return n}function v(t,e,r){var i=d(e,r,!1);return!b(i)&&!!i.has(t)}function g(t,e,r){var i=d(e,r,!1);if(!b(i))return i.get(t)}function m(t,e,r,i){d(r,i,!0).set(t,e)}function _(t,e){var r=[],i=d(t,e,!1);if(b(i))return r;for(var n,a=function(t){var e=L(t,o);if(!P(e))throw new TypeError;var r=e.call(t);if(!C(r))throw new TypeError;return r}(i.keys()),s=0;;){var l=!(n=a.next()).done&&n;if(!l)return r.length=s,r;var c=l.value;try{r[s]=c}catch(t){try{A(a)}finally{throw t}}s++}}function x(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function b(t){return void 0===t}function w(t){return null===t}function C(t){return"object"==typeof t?null!==t:"function"==typeof t}function S(t){var e=function(t,e){switch(x(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var r=3===e?"string":5===e?"number":"default",i=L(t,n);if(void 0===i)return function(t,e){if("string"===e){var r=t.toString;if(P(r)&&!C(n=r.call(t)))return n;if(P(i=t.valueOf)&&!C(n=i.call(t)))return n}else{var i;if(P(i=t.valueOf)&&!C(n=i.call(t)))return n;var n,o=t.toString;if(P(o)&&!C(n=o.call(t)))return n}throw new TypeError}(t,"default"===r?"number":r);var o=i.call(t,r);if(C(o))throw new TypeError;return o}(t,3);return"symbol"==typeof e?e:""+e}function O(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function P(t){return"function"==typeof t}function T(t){return"function"==typeof t}function L(t,e){var r=t[e];if(null!=r){if(!P(r))throw new TypeError;return r}}function A(t){var e=t.return;e&&e.call(t)}function M(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===h)return e;if(e!==h)return e;var r=t.prototype,i=r&&Object.getPrototypeOf(r);if(null==i||i===Object.prototype)return e;var n=i.constructor;return"function"!=typeof n?e:n===t?e:n}function k(t){return t.__=void 0,delete t.__,t}e("decorate",function(t,e,r,i){if(b(r)){if(!O(t))throw new TypeError;if(!T(e))throw new TypeError;return function(t,e){for(var r=t.length-1;0<=r;--r){var i=(0,t[r])(e);if(!b(i)&&!w(i)){if(!T(i))throw new TypeError;e=i}}return e}(t,e)}if(!O(t))throw new TypeError;if(!C(e))throw new TypeError;if(!C(i)&&!b(i)&&!w(i))throw new TypeError;return w(i)&&(i=void 0),function(t,e,r,i){for(var n=t.length-1;0<=n;--n){var o=(0,t[n])(e,r,i);if(!b(o)&&!w(o)){if(!C(o))throw new TypeError;i=o}}return i}(t,e,r=S(r),i)}),e("metadata",function(t,e){return function(r,i){if(!C(r))throw new TypeError;if(!b(i)&&!function(t){switch(x(t)){case 3:case 4:return!0;default:return!1}}(i))throw new TypeError;m(t,e,r,i)}}),e("defineMetadata",function(t,e,r,i){if(!C(r))throw new TypeError;return b(i)||(i=S(i)),m(t,e,r,i)}),e("hasMetadata",function(t,e,r){if(!C(e))throw new TypeError;return b(r)||(r=S(r)),function t(e,r,i){if(v(e,r,i))return!0;var n=M(r);return!w(n)&&t(e,n,i)}(t,e,r)}),e("hasOwnMetadata",function(t,e,r){if(!C(e))throw new TypeError;return b(r)||(r=S(r)),v(t,e,r)}),e("getMetadata",function(t,e,r){if(!C(e))throw new TypeError;return b(r)||(r=S(r)),function t(e,r,i){if(v(e,r,i))return g(e,r,i);var n=M(r);return w(n)?void 0:t(e,n,i)}(t,e,r)}),e("getOwnMetadata",function(t,e,r){if(!C(e))throw new TypeError;return b(r)||(r=S(r)),g(t,e,r)}),e("getMetadataKeys",function(t,e){if(!C(t))throw new TypeError;return b(e)||(e=S(e)),function t(e,r){var i=_(e,r),n=M(e);if(null===n)return i;var o=t(n,r);if(o.length<=0)return i;if(i.length<=0)return o;for(var a=new f,s=[],l=0,c=i;l<c.length;l++){var h=c[l];a.has(h)||(a.add(h),s.push(h))}for(var u=0,p=o;u<p.length;u++)h=p[u],a.has(h)||(a.add(h),s.push(h));return s}(t,e)}),e("getOwnMetadataKeys",function(t,e){if(!C(t))throw new TypeError;return b(e)||(e=S(e)),_(t,e)}),e("deleteMetadata",function(t,e,r){if(!C(e))throw new TypeError;b(r)||(r=S(r));var i=d(e,r,!1);if(b(i))return!1;if(!i.delete(t))return!1;if(0<i.size)return!0;var n=y.get(e);return n.delete(r),0<n.size||y.delete(e),!0})}(o)}()}).call(this,r(76),r(132))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t){t.exports={ChartName:"BarChart","ZH-Name":"柱图",ChartConfig:{legend:{},tooltip:{},xAxis:{type:"category"},yAxis:{},series:[{type:"bar",myType:!0}],animationDurationUpdate:1e3,animationEasingUpdate:"linear"}}},function(t){t.exports={ChartName:"PieChart","ZH-Name":"饼图",ChartConfig:{legend:{},tooltip:{},series:[{type:"pie"}],animationDurationUpdate:1e3,animationEasingUpdate:"linear"}}},function(t){t.exports={ChartName:"LineChart","ZH-Name":"折线图",ChartConfig:{legend:{},tooltip:{},xAxis:{type:"category"},yAxis:{},series:[{type:"line",myType:!0}],animationDurationUpdate:1e3,animationEasingUpdate:"linear"}}},function(t){t.exports={ChartName:"ComChart","ZH-Name":"混合图",ChartConfig:{legend:{},tooltip:{},xAxis:{type:"category"},yAxis:[{},{}],series:[{type:"bar",myType:!0},{type:"line",myType:!0,yAxisIndex:1}],animationDurationUpdate:1e3,animationEasingUpdate:"linear"}}},function(t){t.exports={ChartName:"UniqueChart","ZH-Name":"特异图",ChartConfig:{tooltip:{},series:[{type:"gauge"}],animationDurationUpdate:1e3,animationEasingUpdate:"linear"}}},function(t){t.exports={ChartName:"ScatterChart","ZH-Name":"散点图",ChartConfig:{legend:{},tooltip:{},xAxis:{type:"category"},yAxis:{},series:[{type:"scatter"}],animationDurationUpdate:1e3,animationEasingUpdate:"linear"}}},function(t){t.exports={ChartName:"TextChart","ZH-Name":"文字图",ChartConfig:{series:[{type:"wordCloud"}],animationDurationUpdate:1e3,animationEasingUpdate:"linear"}}},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(11),a=r(1),s=function(t){function e(e,r,i){void 0===e&&(e=10),void 0===r&&(r=10);var n=t.call(this)||this;return n.heatMapLayer=new a.carto.HeatMapLayer({blur:e,radius:r,gradient:i}),n}return n(e,t),e.prototype.setSource=function(t){var e=this,r=this;t.getData().then(function(t){var i=e.toHeats(t);r.heatMapLayer.addHeats(i)})},e.prototype.render=function(t){},e.prototype.getLayer=function(){return this.heatMapLayer},e.prototype.toHeats=function(t){for(var e=[],r=t.getSpatialReference(),i=0;i<t.getCount();i++){var n=t.get(i),o=a.sfs.GeometryFactory.createGeometryFromWkt(n.getGeometry(),r),s=new a.carto.Heat({geometry:o,weight:n.getValue("weight")});e.push(s)}return e},e}(o.Layer);e.HeatMapLayer=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(57),a=r(1),s=r(58),l=function(t){function e(e,r,i,n,o){void 0===i&&(i=!1),void 0===n&&(n=""),void 0===o&&(o=new s.TSStyle(e));var a=t.call(this,o)||this;return a.classifyStyles=[],a.defaultStyleName=r,a.showLabel=i,a.labelField=n,a.style=o,a}return n(e,t),e.prototype.addClassification=function(t,e,r){this.classifyStyles.push({startValue:t,endValue:e,styleName:r})},e.prototype.getRender=function(){var t=this,e=[];return this.classifyStyles.forEach(function(t){var r=new a.cat.Classification({startValue:t.startValue,endValue:t.endValue,styleName:t.styleName});e.push(r)}),new Promise(function(r){r(new a.cat.ClassifyRenderDescriptor({defaultStyleName:t.defaultStyleName,classifyStyles:e,showLabel:t.showLabel,labelField:t.labelField}))})},e.prototype.getStyles=function(){return this.style.getStyle()},e}(o.Renderer);e.ClassBreaksRenderer=l},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(57),a=r(1),s=r(58),l=function(t){function e(e,r,i,n){void 0===i&&(i=new s.TSStyle(e)),void 0===n&&(n="Bearer d277145");var o=t.call(this,i)||this;o.name=r,o.styles=i;var l=new a.core.Deserializer,c=new a.core.RestHttp({token:n});return o.renderService=new a.cat.RestRenderDescriptorService({url:e,http:c,deserializer:l}),o.styleService=new a.cat.RestStyleDescriptorService({url:e,http:c,deserializer:l}),o}return n(e,t),e.prototype.getRender=function(){return this.renderService.findByName(this.name)},e.prototype.getStyles=function(){return this.styleService.findEntityStyle()},e}(o.Renderer);e.TSRenderer=l},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(36),a=r(1),s=function(t){function e(e,r,i,n,o,s){void 0===n&&(n=23),void 0===o&&(o=0),void 0===s&&(s="4326");var l=t.call(this)||this;return l.g2map=new a.carto.Map({defaultExtent:{maxZoom:n,minZoom:o,level:r,projection:"EPSG:"+s,center:e,extent:[-180,-90,180,90]}}),l.g2map.init({targetId:i}),l}return n(e,t),e.prototype.addLayer=function(t){this.g2map.addLayer(t.getLayer())},e.prototype.stopInteraction=function(){this.g2map.removeInteractions(),this.g2map.stopMouseWheelZoom()},e.prototype.openInteraction=function(){this.g2map.resumeInteractions()},e.prototype.pan=function(t){var e={x:t[0],y:t[1]};this.g2map.setCenter(e)},e.prototype.getMap=function(){return this.g2map},e.prototype.getLayers=function(){return this.g2map.getLayers()},e.prototype.getZoomLevel=function(){return this.g2map.getZoomLevel()},e.prototype.getPixelFromCoordinate=function(t){return this.g2map.getPixelFromCoordinate(t)},e.prototype.getCoordinateFromPixel=function(t){return this.g2map.getCoordinateFromPixel(t)},e.prototype.on=function(t,e){this.g2map.on(t,e)},e.prototype.un=function(t,e){this.g2map.un(t,e)},e.prototype.getViewSize=function(){return this.g2map.getViewSize()},e.prototype.getResolution=function(){return this.g2map.getResolution()},e.prototype.getCenter=function(){return this.g2map.getCenter()},e.prototype.getExtent=function(){return this.g2map.getExtent()},e}(o.MapChart);e.TSMapChart=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getStyle=function(){return this._style},e.prototype.setStyle=function(t){this._style=t},e.prototype.setGeometry=function(t){this._geometry=t},e.prototype.getGeometry=function(){return this._geometry},e}(r(54).Entity);e.Element=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){void 0===t&&(t=4326),this.spatialReference=t,this.elements=[]}return t.prototype.addElement=function(t){this.elements.push(t)},t.prototype.getCount=function(){return this.elements.length},t.prototype.get=function(t){return this.elements[t]},t.prototype.getSpatialReference=function(){return this.spatialReference},t}();e.ElementCollection=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(90),n=function(){function t(t,e){void 0===e&&(e=new i.AjaxHttp),this.baseUrl=t,this.http=e}return t.prototype.doGet=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.baseUrl;return r.endsWith("/")?r+=t.join("/"):r+="/"+t.join("/"),this.http.send("get",r)},t}();e.RestService=n},function(t,e,r){"use strict";var i=this&&this.__decorate||function(t,e,r,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;0<=s;s--)(n=t[s])&&(a=(o<3?n(a):3<o?n(e,r,a):n(e,r))||a);return 3<o&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(e,"__esModule",{value:!0});var n=r(19),o=function(){function t(){}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),i([n.__Type({name:"Topic",namespace:"http://www.dv.com"})],t)}();e.Topic=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(59),n=function(){function t(t,e){this.service=t,this.name=e}return t.prototype.find=function(){var t=this.service.doGet("find",this.name);return new Promise(function(e,r){t.then(function(t){var r=(new i.CurrencyObjectCreator).create(t);e(r)}).catch(function(t){r(t)})})},t}();e.VataService=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(59),n=r(91),o=function(){function t(t,e){void 0===e&&(e=1e3),this.url=t,this.timeout=e,this.state=0,this.thb=new n.THB,this.lockReconnect=!1,this.timer=setInterval(this.doIt,e)}return t.prototype.connect=function(){if(!this.lockReconnect){this.lockReconnect=!0;var t=this;setTimeout(function(){t.ws=new WebSocket(t.url),t.lockReconnect=!1,t.bindEvent()},2e3)}},t.prototype.disconnect=function(){clearInterval(this.timer)},t.prototype.send=function(t){this.ws.send(JSON.stringify(t))},t.prototype.on=function(t,e){this.hasOwnProperty(t)||(this[t]=[]),this[t].push(e)},t.prototype.un=function(t,e){if(console.log("Connection closed..."),this.hasOwnProperty(t)){var r=this[t].indexOf(e);this[t].splice(r,1)}},t.prototype.doIt=function(){switch(this.state){case 0:break;case 1:this.detect();break;case 2:this.retry()}},t.prototype.onMessage=function(t){var e=(new i.CurrencyObjectCreator).create(t.data),r=e.name,n=e.data;if(this.hasOwnProperty(r))for(var o=this[r],a=0;a<o.length;++a)o[a](n)},t.prototype.detect=function(){this.ws.send(this.thb)},t.prototype.retry=function(){this.connect()},t.prototype.bindEvent=function(){var t=this;this.ws.onopen=function(){t.state=1,t.heartReset(),t.start(),t.ws.onmessage=function(e){t.onMessage(e),t.heartReset(),t.start()}},this.ws.onclose=function(){t.state=2,t.connect()},this.ws.onerror=function(){t.state=2,t.connect()}},t.prototype.start=function(){var t=this;this.timeoutObj=setTimeout(function(){t.ws.send("HeatBeat"),t.serverTimeoutObj=setTimeout(function(){t.ws.close()},1e5)},1e5)},t.prototype.heartReset=function(){return clearTimeout(this.timeoutObj),clearTimeout(this.serverTimeoutObj),this},t}();e.WSDuplexClient=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.SimpleFilter=function(){}},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(40),a=r(52),s=r(29),l=r(28),c=r(27),h=r(53),u=r(75),p=function(t){function e(e){var r,i=t.call(this)||this;return e&&e.crs&&(r=i.getProj(e.crs.properties.name)),i.featureCollection=new a.FeatureCollection(u.GeometryType.GeoJson,r),i.toFeatureCollection(e),i}return n(e,t),e.prototype.toFeatureCollection=function(t){var e=this;if("Feature"==t.type){var r=t,i=this.tofeature(r);this.featureCollection.addFeature(i)}else{if("FeatureCollection"!=t.type)return new a.FeatureCollection;t.features.forEach(function(t){var r=e.tofeature(t);e.featureCollection.addFeature(r)})}},e.prototype.tofeature=function(t){var e=new c.Fields,r=t.properties,i=new l.Field;for(var n in i.name="shape",i.dataType=this.getgeometryType(t.geometry.type),e.addField(i),r){var o=new l.Field;o.name=n,o.dataType=this.getDataType(r[n]),e.addField(o)}var a=new s.Feature(e);for(var n in r)"shape"!==n&&a.setValue(n,r[n]);return a.setGeometry(t.geometry.coordinates),a},e.prototype.getData=function(){var t=this;return new Promise(function(e){e(t.featureCollection)})},e.prototype.asArray=function(){for(var t=[],e=this.featureCollection,r=0;r<e.getCount();r++){for(var i=e.get(r),n=i.getGeometry(),o=i.getFields().get(1).name,a=i.getValue(o),s=[n.x,n.y],l=2;l<i.getFields().getCount();l++)o=i.getFields().get(l).name,s.push(i.getValue(o));t.push({name:a,value:s})}return t},e.prototype.getProj=function(t){return"urn:ogc:def:crs:EPSG::3857"===t||"urn:ogc:def:crs:EPSG:3857"===t||"EPSG:3857"===t||"EPSG:102100"===t||"EPSG:102113"===t||"EPSG:900913"===t||"urn:ogc:def:crs:EPSG:6.18:3:3857"===t||"http://www.opengis.net/gml/srs/epsg.xml#3857"===t?3857:"CRS:84"===t||"EPSG:4326"===t||"urn:ogc:def:crs:EPSG:6.6:4326"===t||"urn:ogc:def:crs:OGC:1.3:CRS84"===t||"urn:ogc:def:crs:OGC:2:84"===t||"http://www.opengis.net/gml/srs/epsg.xml#4326"===t||"urn:x-ogc:def:crs:EPSG:4326"===t||"urn:x-ogc:def:crs:EPSG::4326"===t?4326:"EPSG:4490"===t||"urn:ogc:def:crs:EPSG::4490"===t?4490:"EPSG:2436"===t?2436:"EPSG:4509"===t?4509:void 0},e.prototype.getDataType=function(t){return t.constructor===String?h.DataType.String:t.constructor===Number?h.DataType.Int:t.constructor===Boolean?h.DataType.Boolean:void 0},e.prototype.getgeometryType=function(t){var e=h.DataType.None;switch(t){case"LineString":e=h.DataType.LineString;break;case"MultiPoint":e=h.DataType.MultiPoint;break;case"MultiLineString":e=h.DataType.MultiLineString;break;case"MultiPolygon":e=h.DataType.MultiPolygon;break;case"Point":e=h.DataType.Point;break;case"Path":e=h.DataType.Path;break;case"Circle":e=h.DataType.Circle;break;case"LinearRing":e=h.DataType.LinearRing;break;case"Lseg":e=h.DataType.Lseg;break;case"Box":e=h.DataType.Box;break;case"Polygon":e=h.DataType.Polygon}return e},e}(o.FeatureSource);e.GeoJsonSource=p},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var r=t.call(this)||this;return r.elementCollection=e,r}return n(e,t),e.prototype.getData=function(){var t=this;return new Promise(function(e){e(t.elementCollection)})},e}(r(93).ElementSource);e.SimpleElementSource=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(40),a=r(1),s=function(t){function e(e){var r=t.call(this)||this;return r.featureCollection=e,r}return n(e,t),e.prototype.getData=function(){var t=this;return new Promise(function(e){e(t.featureCollection)})},e.prototype.asArray=function(){for(var t=[],e=this.featureCollection,r=e.getSpatialReference(),i=0;i<e.getCount();i++){for(var n=e.get(i),o=a.sfs.GeometryFactory.createGeometryFromWkt(n.getGeometry(),r),s=n.getFields().get(1).name,l=n.getValue(s),c=[o.x,o.y],h=2;h<n.getFields().getCount();h++)s=n.getFields().get(h).name,c.push(n.getValue(s));t.push({name:l,value:c})}return t},e}(o.FeatureSource);e.SimpleFeatureSource=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(40),a=r(1),s=function(t){function e(e,r,i){void 0===i&&(i="Bearer d277145");var n=t.call(this)||this,o=new a.core.Deserializer,s=new a.core.RestHttp({token:i});return n.restWFSService=new a.ows.RestWFSService({url:e,http:s,deserializer:o}),n.name=r,n}return n(e,t),e.prototype.asArray=function(){},e.prototype.getData=function(){return this.restWFSService.find(this.name)},e}(o.FeatureSource);e.TSWFSSource=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var r=t.call(this)||this;return r.vadaService=e,r}return n(e,t),e.prototype.getData=function(){return this.vadaService.find()},e}(r(55).StatSource);e.VataSource=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(37),n=function(){function t(){}return t.prototype.create=function(t){var e=JSON.parse(t),r=e.$type;if(r){var n=r.split(",")[0];if(this.exist(n)){var o=i.TypeTable.find(n).newInstance();return Object.assign(o,e),o}}return null},t.prototype.exist=function(t){return i.TypeTable.has(t)},t}();e.TObjectCreator=n},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(26),a=r(1),s=function(t){function e(){var e=t.call(this)||this;return e.sliderParamter=new a.ani.SimpleSlideParameter({geometry:"",skip:200,color:"",size:8,speed:6e3,loop:!0}),e}return n(e,t),e.prototype.getData=function(){return this.sliderParamter},e.prototype.setSkip=function(t){this.sliderParamter.skip=1e3*t},e.prototype.setSymbolSize=function(t){this.sliderParamter.size=t},e.prototype.setSpeed=function(t){this.sliderParamter.speed=1e3*t},e.prototype.isLoop=function(t){this.sliderParamter.loop=t},e}(o.AnimationType);e.PointSlide=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),n=function(){function t(t,e){this.chartRenderer=new i.render.ChartRenderer({map:t.getMap(),chartTemplate:e.getData()})}return t.prototype.getData=function(){return this.chartRenderer},t}();e.ChartRenderer=n},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),a=function(t){function e(e,r){for(var i=t.call(this)||this,n=new o.sfs.Fields,a=0;a<e.getCount();a++){var s=e.get(a),l=new o.sfs.Field({name:s.name,alias:s.alias,dataType:s.dataType});n.add(l)}return i.barChart=new o.render.BarChart({fields:n.fields,options:r}),i}return n(e,t),e.prototype.getData=function(){return this.barChart},e}(r(41).StatChart);e.BarChartMap=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),a=function(t){function e(e,r){for(var i=t.call(this)||this,n=new o.sfs.Fields,a=0;a<e.getCount();a++){var s=e.get(a),l=new o.sfs.Field({name:s.name,alias:s.alias,dataType:s.dataType});n.add(l)}return i.pieChart=new o.render.PieChart({fields:n.fields,options:r}),i}return n(e,t),e.prototype.getData=function(){return this.pieChart},e}(r(41).StatChart);e.PieChartMap=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),a=function(t){function e(e,r){for(var i=t.call(this)||this,n=new o.sfs.Fields,a=0;a<e.getCount();a++){var s=e.get(a),l=new o.sfs.Field({name:s.name,alias:s.alias,dataType:s.dataType});n.add(l)}return i.sumPieChart=new o.render.PieChart({fields:n.fields,options:r}),i}return n(e,t),e.prototype.getData=function(){return this.sumPieChart},e}(r(41).StatChart);e.SumPieChartMap=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.init(),i}return n(e,t),e.prototype.setColumnWidth=function(t){this.config("series[0].barWidth",t),this.config("series[1].barWidth",t),this.config("series[2].barWidth",t)},e.prototype.setColumnBottomWidth=function(t){this.config("series[1].symbolSize[1]",t),this.config("series[1].symbolOffset[1]",-t/2),this.config("series[2].symbolSize[1]",t),this.config("series[2].symbolOffset[1]",t/2)},e.prototype.init=function(){this.config("yAxis.show",!1),this.config("xAxis",{axisLine:{show:!1},axisLabel:{margin:15},axisTick:{show:!1},splitLine:{show:!1},splitArea:{show:!1}}),this.config("series[0].myType",void 0),this.config("series[0]",{type:"bar",z:0,barWidth:"auto"}),this.config("series[1]",{type:"pictorialBar",z:2,barWidth:"auto",symbol:"circle",symbolSize:["100%",20],symbolOffset:[0,-10],symbolPosition:"end"}),this.config("series[2]",{type:"pictorialBar",z:1,barWidth:"auto",symbol:"circle",symbolSize:["100%",20],symbolOffset:[0,10]})},e}(r(0).EChart);e.ColumnBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.init(),i}return n(e,t),e.prototype.setColumnWidth=function(t){this.config("series[0].barWidth",t),this.config("series[1].barWidth",t),this.config("series[2].symbolSize[0]",t),this.config("series[3].symbolSize[0]",t),this.config("series[4].symbolSize[0]",t)},e.prototype.setColumnBottomWidth=function(t){this.config("series[2].symbolSize[1]",t),this.config("series[2].symbolOffset[1]",t/2),this.config("series[3].symbolSize[1]",t),this.config("series[3].symbolOffset[1]",-t/2),this.config("series[4].symbolSize[1]",t),this.config("series[4].symbolOffset[1]",t/2)},e.prototype.init=function(){this.config("yAxis.show",!1),this.config("xAxis",{axisLine:{show:!1},axisLabel:{margin:15},axisTick:{show:!1},splitLine:{show:!1},splitArea:{show:!1}}),this.config("series[0].myType",void 0),this.config("series[0]",{z:0,barWidth:80,itemStyle:{opacity:.3},encode:{itemName:0,x:0,y:2}}),this.config("series[1]",{type:"bar",z:0,barWidth:80,barGap:"-100%",itemStyle:{opacity:.4},encode:{itemName:0,x:0,y:1}}),this.config("series[2]",{type:"pictorialBar",z:0,symbolRepeat:!0,symbolSize:[80,20],symbolClip:!0,symbolOffset:[0,10],symbolMargin:5,encode:{itemName:0,x:0,y:1}}),this.config("series[3]",{type:"pictorialBar",z:1,symbol:"circle",symbolSize:[80,20],symbolOffset:[0,-10],symbolPosition:"end",encode:{itemName:0,x:0,y:1}}),this.config("series[4]",{type:"pictorialBar",z:2,symbol:"circle",symbolSize:[80,20],symbolOffset:[0,10],encode:{itemName:0,x:0,y:1}})},e}(r(0).EChart);e.ColumnBorderBarChart=o},function(t,e,r){var i=r(3),n=r(9),o=r(165),a=r(42),s=r(43),l=r(166),c="silent";function h(t){s.stop(this.event)}function u(){}u.prototype.dispose=function(){};var p=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],f=function(t,e,r,i){a.call(this),this.storage=t,this.painter=e,this.painterRoot=i,r=r||new u,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,o.call(this),this.setHandlerProxy(r)};function y(t,e,r){if(t[t.rectHover?"rectContain":"contain"](e,r)){for(var i,n=t;n;){if(n.clipPath&&!n.clipPath.contain(e,r))return!1;n.silent&&(i=!0),n=n.parent}return!i||c}return!1}f.prototype={constructor:f,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(i.each(p,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,r=t.zrY,i=this._hovered,n=i.target;n&&!n.__zr&&(n=(i=this.findHover(i.x,i.y)).target);var o=this._hovered=this.findHover(e,r),a=o.target,s=this.proxy;s.setCursor&&s.setCursor(a?a.cursor:"default"),n&&a!==n&&this.dispatchToElement(i,"mouseout",t),this.dispatchToElement(o,"mousemove",t),a&&a!==n&&this.dispatchToElement(o,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);for(var e,r=t.toElement||t.relatedTarget;(r=r&&r.parentNode)&&9!==r.nodeType&&!(e=r===this.painterRoot););!e&&this.trigger("globalout",{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var r=this[t];r&&r.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,r){var i=(t=t||{}).target;if(!i||!i.silent){for(var n,o,a="on"+e,s={type:e,event:o=r,target:(n=t).target,topTarget:n.topTarget,cancelBubble:!1,offsetX:o.zrX,offsetY:o.zrY,gestureEvent:o.gestureEvent,pinchX:o.pinchX,pinchY:o.pinchY,pinchScale:o.pinchScale,wheelDelta:o.zrDelta,zrByTouch:o.zrByTouch,which:o.which,stop:h};i&&(i[a]&&(s.cancelBubble=i[a].call(i,s)),i.trigger(e,s),i=i.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(e,s),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[a]&&t[a].call(t,s),t.trigger&&t.trigger(e,s)}))}},findHover:function(t,e,r){for(var i=this.storage.getDisplayList(),n={x:t,y:e},o=i.length-1;0<=o;o--){var a;if(i[o]!==r&&!i[o].ignore&&(a=y(i[o],t,e))&&(!n.topTarget&&(n.topTarget=i[o]),a!==c)){n.target=i[o];break}}return n},processGesture:function(t,e){this._gestureMgr||(this._gestureMgr=new l);var r=this._gestureMgr;"start"===e&&r.clear();var i=r.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&r.clear(),i){var n=i.type;t.gestureEvent=n,this.dispatchToElement({target:i.target},n,i.event)}}},i.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){f.prototype[t]=function(e){var r=this.findHover(e.zrX,e.zrY),i=r.target;if("mousedown"===t)this._downEl=i,this._downPoint=[e.zrX,e.zrY],this._upEl=i;else if("mouseup"===t)this._upEl=i;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||4<n.dist(this._downPoint,[e.zrX,e.zrY]))return;this._downPoint=null}this.dispatchToElement(r,t,e)}}),i.mixin(f,a),i.mixin(f,o);var d=f;t.exports=d},function(t,e){function r(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function i(t,e){return{target:t,topTarget:e&&e.topTarget}}r.prototype={constructor:r,_dragStart:function(t){var e=t.target;e&&e.draggable&&((this._draggingTarget=e).dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(i(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var r=t.offsetX,n=t.offsetY,o=r-this._x,a=n-this._y;this._x=r,this._y=n,e.drift(o,a,t),this.dispatchToElement(i(e,t),"drag",t.event);var s=this.findHover(r,n,e).target,l=this._dropTarget;e!==(this._dropTarget=s)&&(l&&s!==l&&this.dispatchToElement(i(l,t),"dragleave",t.event),s&&s!==l&&this.dispatchToElement(i(s,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(i(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(i(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var n=r;t.exports=n},function(t,e,r){var i=r(43),n=function(){this._track=[]};function o(t){var e=t[1][0]-t[0][0],r=t[1][1]-t[0][1];return Math.sqrt(e*e+r*r)}n.prototype={constructor:n,recognize:function(t,e,r){return this._doTrack(t,e,r),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,r){var n=t.touches;if(n){for(var o={points:[],touches:[],target:e,event:t},a=0,s=n.length;a<s;a++){var l=n[a],c=i.clientToLocal(r,l,{});o.points.push([c.zrX,c.zrY]),o.touches.push(l)}this._track.push(o)}},_recognize:function(t){for(var e in a)if(a.hasOwnProperty(e)){var r=a[e](this._track,t);if(r)return r}}};var a={pinch:function(t,e){var r=t.length;if(r){var i,n=(t[r-1]||{}).points,a=(t[r-2]||{}).points||n;if(a&&1<a.length&&n&&1<n.length){var s=o(n)/o(a);!isFinite(s)&&(s=1),e.pinchScale=s;var l=[((i=n)[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2];return e.pinchX=l[0],e.pinchY=l[1],{type:"pinch",target:t[0].target,event:e}}}}},s=n;t.exports=s},function(t,e,r){var i=r(3),n=r(13),o=r(63),a=r(98);function s(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var l=function(){this._roots=[],this._displayList=[],this._displayListLen=0};l.prototype={constructor:l,traverse:function(t,e){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,r=this._displayList,i=0,o=e.length;i<o;i++)this._updateAndAddDisplayable(e[i],null,t);r.length=this._displayListLen,n.canvasSupported&&a(r,s)},_updateAndAddDisplayable:function(t,e,r){if(!t.ignore||r){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var i=t.clipPath;if(i){e=e?e.slice():[];for(var n=i,o=t;n;)n.parent=o,n.updateTransform(),e.push(n),n=(o=n).clipPath}if(t.isGroup){for(var a=t._children,s=0;s<a.length;s++){var l=a[s];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,r)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof o&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var r=this._roots[e];r instanceof o&&r.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){e=0;for(var n=t.length;e<n;e++)this.delRoot(t[e])}else{var a=i.indexOf(this._roots,t);0<=a&&(this.delFromStorage(t),this._roots.splice(a,1),t instanceof o&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:s};var c=l;t.exports=c},function(t,e,r){var i=r(20),n=r(9),o=i.identity;function a(t){return 5e-5<t||t<-5e-5}var s=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},l=s.prototype;l.transform=null,l.needLocalTransform=function(){return a(this.rotation)||a(this.position[0])||a(this.position[1])||a(this.scale[0]-1)||a(this.scale[1]-1)};var c=[];l.updateTransform=function(){var t=this.parent,e=t&&t.transform,r=this.needLocalTransform(),n=this.transform;if(r||e){n=n||i.create(),r?this.getLocalTransform(n):o(n),e&&(r?i.mul(n,t.transform,n):i.copy(n,t.transform)),this.transform=n;var a=this.globalScaleRatio;if(null!=a&&1!==a){this.getGlobalScale(c);var s=c[0]<0?-1:1,l=c[1]<0?-1:1,h=((c[0]-s)*a+s)/c[0]||0,u=((c[1]-l)*a+l)/c[1]||0;n[0]*=h,n[1]*=h,n[2]*=u,n[3]*=u}this.invTransform=this.invTransform||i.create(),i.invert(this.invTransform,n)}else n&&o(n)},l.getLocalTransform=function(t){return s.getLocalTransform(this,t)},l.setTransform=function(t){var e=this.transform,r=t.dpr||1;e?t.setTransform(r*e[0],r*e[1],r*e[2],r*e[3],r*e[4],r*e[5]):t.setTransform(r,0,0,r,0,0)},l.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var h=[],u=i.create();l.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],r=t[2]*t[2]+t[3]*t[3],i=this.position,n=this.scale;a(e-1)&&(e=Math.sqrt(e)),a(r-1)&&(r=Math.sqrt(r)),t[0]<0&&(e=-e),t[3]<0&&(r=-r),i[0]=t[4],i[1]=t[5],n[0]=e,n[1]=r,this.rotation=Math.atan2(-t[1]/r,t[0]/e)}},l.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(i.mul(h,t.invTransform,e),e=h);var r=this.origin;r&&(r[0]||r[1])&&(u[4]=r[0],u[5]=r[1],i.mul(h,e,u),h[4]-=r[0],h[5]-=r[1],e=h),this.setLocalTransform(e)}},l.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1])):(t[0]=1,t[1]=1),t},l.transformCoordToLocal=function(t,e){var r=[t,e],i=this.invTransform;return i&&n.applyTransform(r,r,i),r},l.transformCoordToGlobal=function(t,e){var r=[t,e],i=this.transform;return i&&n.applyTransform(r,r,i),r},s.getLocalTransform=function(t,e){o(e=e||[]);var r=t.origin,n=t.scale||[1,1],a=t.rotation||0,s=t.position||[0,0];return r&&(e[4]-=r[0],e[5]-=r[1]),i.scale(e,e,n),a&&i.rotate(e,e,a),r&&(e[4]+=r[0],e[5]+=r[1]),e[4]+=s[0],e[5]+=s[1],e};var p=s;t.exports=p},function(t,e,r){var i=r(96),n=r(30),o=r(3),a=o.isString,s=o.isFunction,l=o.isObject,c=o.isArrayLike,h=o.indexOf,u=function(){this.animators=[]};function p(t,e,r,i,n,o,h,u){a(i)?(o=n,n=i,i=0):s(n)?(o=n,n="linear",i=0):s(i)?(o=i,i=0):s(r)?(o=r,r=500):r||(r=500),t.stopAnimation(),function t(e,r,i,n,o,a,s){var h={},u=0;for(var p in n)n.hasOwnProperty(p)&&(null!=i[p]?l(n[p])&&!c(n[p])?t(e,r?r+"."+p:p,i[p],n[p],o,a,s):(s?(h[p]=i[p],f(e,r,p,n[p])):h[p]=n[p],u++):null==n[p]||s||f(e,r,p,n[p]));0<u&&e.animate(r,!1).when(null==o?500:o,h).delay(a||0)}(t,"",t,e,r,i,u);var p=t.animators.slice(),y=p.length;function d(){--y||o&&o()}y||o&&o();for(var v=0;v<p.length;v++)p[v].done(d).start(n,h)}function f(t,e,r,i){if(e){var n={};n[e]={},n[e][r]=i,t.attr(n)}else t.attr(r,i)}u.prototype={constructor:u,animate:function(t,e){var r,o=!1,a=this,s=this.__zr;if(t){var l=t.split("."),c=a;o="shape"===l[0];for(var u=0,p=l.length;u<p;u++)c&&(c=c[l[u]]);c&&(r=c)}else r=a;if(r){var f=a.animators,y=new i(r,e);return y.during(function(t){a.dirty(o)}).done(function(){f.splice(h(f,y),1)}),f.push(y),s&&s.animation.addAnimator(y),y}n('Property "'+t+'" is not existed in element '+a.id)},stopAnimation:function(t){for(var e=this.animators,r=e.length,i=0;i<r;i++)e[i].stop(t);return e.length=0,this},animateTo:function(t,e,r,i,n,o){p(this,t,e,r,i,n,o)},animateFrom:function(t,e,r,i,n,o){p(this,t,e,r,i,n,o,!0)}};var y=u;t.exports=y},function(t,e,r){var i=r(171);function n(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}n.prototype={constructor:n,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var r=(t-this._startTime-this._pausedTime)/this._life;if(!(r<0)){r=Math.min(r,1);var n=this.easing,o="string"==typeof n?i[n]:n,a="function"==typeof o?o(r):r;return this.fire("frame",a),1===r?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var o=n;t.exports=o},function(t,e){var r={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,r=.1;return 0===t?0:1===t?1:(e=!r||r<1?(r=1,.1):.4*Math.asin(1/r)/(2*Math.PI),-r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,r=.1;return 0===t?0:1===t?1:(e=!r||r<1?(r=1,.1):.4*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,r=.1;return 0===t?0:1===t?1:(e=!r||r<1?(r=1,.1):.4*Math.asin(1/r)/(2*Math.PI),(t*=2)<1?r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return--t*t*(2.70158*t+1.70158)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-r.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*r.bounceIn(2*t):.5*r.bounceOut(2*t-1)+.5}},i=r;t.exports=i},function(t,e,r){var i=r(45).devicePixelRatio,n=r(3),o=r(30),a=r(10),s=r(98),l=r(173),c=r(100),h=r(21),u=r(13),p=314159;function f(t){return parseInt(t,10)}var y=new a(0,0,0,0),d=new a(0,0,0,0),v=function(t,e,r){this.type="canvas";var o=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=r=n.extend({},r||{}),this.dpr=r.devicePixelRatio||i,this._singleCanvas=o;var a=(this.root=t).style;a&&(a["-webkit-tap-highlight-color"]="transparent",a["-webkit-user-select"]=a["user-select"]=a["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var s,c,h,u=this._zlevelList=[],f=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,o){var y=t.width,d=t.height;null!=r.width&&(y=r.width),null!=r.height&&(d=r.height),this.dpr=r.devicePixelRatio||1,t.width=y*this.dpr,t.height=d*this.dpr,this._width=y,this._height=d;var v=new l(t,this,this.dpr);v.__builtin__=!0,v.initContext(),(f[p]=v).zlevel=p,u.push(p),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var g=this._domRoot=(s=this._width,c=this._height,(h=document.createElement("div")).style.cssText=["position:relative","overflow:hidden","width:"+s+"px","height:"+c+"px","padding:0","margin:0","border-width:0"].join(";")+";",h);t.appendChild(g)}this._hoverlayer=null,this._hoverElements=[]};v.prototype={constructor:v,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),r=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var i=0;i<r.length;i++){var n=r[i],o=this._layers[n];if(!o.__builtin__&&o.refresh){var a=0===i?this._backgroundColor:null;o.refresh(a)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var r=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return(r.__from=t).__hoverMir=r,e&&r.setStyle(e),this._hoverElements.push(r),r}},removeHover:function(t){var e=t.__hoverMir,r=this._hoverElements,i=n.indexOf(r,e);0<=i&&r.splice(i,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,r=0;r<e.length;r++){var i=e[r].__from;i&&(i.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,r=this._hoverlayer;if(r&&r.clear(),e){s(t,this.storage.displayableSortFunc),r||(r=this._hoverlayer=this.getLayer(1e5));var i={};r.ctx.save();for(var n=0;n<e;){var o=t[n],a=o.__from;a&&a.__zr?(n++,a.invisible||(o.transform=a.transform,o.invTransform=a.invTransform,o.__clipPaths=a.__clipPaths,this._doPaintEl(o,r,!0,i))):(t.splice(n,1),a.__hoverMir=null,e--)}r.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,r){if(this._redrawId===r){e=e||!1,this._updateLayerStatus(t);var i=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!i){var n=this;c(function(){n._paintList(t,e,r)})}}},_compositeManually:function(){var t=this.getLayer(p).ctx,e=this._domRoot.width,r=this._domRoot.height;t.clearRect(0,0,e,r),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,e,r)})},_doPaintList:function(t,e){for(var r=[],i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];(l=this._layers[o]).__builtin__&&l!==this._hoverlayer&&(l.__dirty||e)&&r.push(l)}for(var a=!0,s=0;s<r.length;s++){var l,c=(l=r[s]).ctx,h={};c.save();var p=e?l.__startIndex:l.__drawIndex,f=!e&&l.incremental&&Date.now,y=f&&Date.now(),d=l.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(l.__startIndex===l.__endIndex)l.clear(!1,d);else if(p===l.__startIndex){var v=t[p];v.incremental&&v.notClear&&!e||l.clear(!1,d)}-1===p&&(console.error("For some unknown reason. drawIndex is -1"),p=l.__startIndex);for(var g=p;g<l.__endIndex;g++){var m=t[g];if(this._doPaintEl(m,l,e,h),m.__dirty=m.__dirtyText=!1,f&&15<Date.now()-y)break}l.__drawIndex=g,l.__drawIndex<l.__endIndex&&(a=!1),h.prevElClipPaths&&c.restore(),c.restore()}return u.wxa&&n.each(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),a},_doPaintEl:function(t,e,r,i){var n,o,a,s=e.ctx,l=t.transform;if((e.__dirty||r)&&!t.invisible&&0!==t.style.opacity&&(!l||l[0]||l[3])&&(!t.culling||(n=t,o=this._width,a=this._height,y.copy(n.getBoundingRect()),n.transform&&y.applyTransform(n.transform),d.width=o,d.height=a,y.intersect(d)))){var c=t.__clipPaths;i.prevElClipPaths&&!function(t,e){if(t===e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!0}(c,i.prevElClipPaths)||(i.prevElClipPaths&&(e.ctx.restore(),i.prevElClipPaths=null,i.prevEl=null),c&&(s.save(),function(t,e){for(var r=0;r<t.length;r++){var i=t[r];i.setTransform(e),e.beginPath(),i.buildPath(e,i.shape),e.clip(),i.restoreTransform(e)}}(c,s),i.prevElClipPaths=c)),t.beforeBrush&&t.beforeBrush(s),t.brush(s,i.prevEl||null),(i.prevEl=t).afterBrush&&t.afterBrush(s)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=p);var r=this._layers[t];return r||((r=new l("zr_"+t,this,this.dpr)).zlevel=t,r.__builtin__=!0,this._layerConfig[t]&&n.merge(r,this._layerConfig[t],!0),e&&(r.virtual=e),this.insertLayer(t,r),r.initContext()),r},insertLayer:function(t,e){var r=this._layers,i=this._zlevelList,n=i.length,a=null,s=-1,l=this._domRoot;if(r[t])o("ZLevel "+t+" has been used already");else if((c=e)&&(c.__builtin__||"function"==typeof c.resize&&"function"==typeof c.refresh)){var c;if(0<n&&t>i[0]){for(s=0;s<n-1&&!(i[s]<t&&i[s+1]>t);s++);a=r[i[s]]}if(i.splice(s+1,0,t),!(r[t]=e).virtual)if(a){var h=a.dom;h.nextSibling?l.insertBefore(e.dom,h.nextSibling):l.appendChild(e.dom)}else l.firstChild?l.insertBefore(e.dom,l.firstChild):l.appendChild(e.dom)}else o("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var r,i,n=this._zlevelList;for(i=0;i<n.length;i++)r=n[i],t.call(e,this._layers[r],r)},eachBuiltinLayer:function(t,e){var r,i,n,o=this._zlevelList;for(n=0;n<o.length;n++)i=o[n],(r=this._layers[i]).__builtin__&&t.call(e,r,i)},eachOtherLayer:function(t,e){var r,i,n,o=this._zlevelList;for(n=0;n<o.length;n++)i=o[n],(r=this._layers[i]).__builtin__||t.call(e,r,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){i&&(i.__endIndex!==t&&(i.__dirty=!0),i.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(var r=1;r<t.length;r++)if((a=t[r]).zlevel!==t[r-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}var i=null,n=0;for(r=0;r<t.length;r++){var a,s,l=(a=t[r]).zlevel;a.incremental?((s=this.getLayer(l+.001,this._needsManuallyCompositing)).incremental=!0,n=1):s=this.getLayer(l+(0<n?.01:0),this._needsManuallyCompositing),s.__builtin__||o("ZLevel "+l+" has been used by unkown layer "+s.id),s!==i&&(s.__used=!0,s.__startIndex!==r&&(s.__dirty=!0),s.__startIndex=r,s.incremental?s.__drawIndex=-1:s.__drawIndex=r,e(r),i=s),a.__dirty&&(s.__dirty=!0,s.incremental&&s.__drawIndex<0&&(s.__drawIndex=r))}e(r),this.eachBuiltinLayer(function(t,e){!t.__used&&0<t.getElementCount()&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var r=this._layerConfig;r[t]?n.merge(r[t],e,!0):r[t]=e;for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];if(o===t||o===t+.01){var a=this._layers[o];n.merge(a,r[t],!0)}}}},delLayer:function(t){var e=this._layers,r=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],r.splice(n.indexOf(r,t),1))},resize:function(t,e){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=this._getSize(0),e=this._getSize(1),r.style.display="",this._width!==t||e!==this._height){for(var o in r.style.width=t+"px",r.style.height=e+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);n.each(this._progressiveLayers,function(r){r.resize(t,e)}),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(p).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[p].dom;var e=new l("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var r=e.dom.width,i=e.dom.height,n=e.ctx;this.eachLayer(function(t){t.__builtin__?n.drawImage(t.dom,0,0,r,i):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var o={},a=this.storage.getDisplayList(!0),s=0;s<a.length;s++){var c=a[s];this._doPaintEl(c,e,!0,o)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,r=["width","height"][t],i=["clientWidth","clientHeight"][t],n=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[r]&&"auto"!==e[r])return parseFloat(e[r]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[i]||f(s[r])||f(a.style[r]))-(f(s[n])||0)-(f(s[o])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var r=document.createElement("canvas"),i=r.getContext("2d"),n=t.getBoundingRect(),o=t.style,a=o.shadowBlur*e,s=o.shadowOffsetX*e,l=o.shadowOffsetY*e,c=o.hasStroke()?o.lineWidth:0,u=Math.max(c/2,-s+a),p=Math.max(c/2,s+a),f=Math.max(c/2,-l+a),y=Math.max(c/2,l+a),d=n.width+u+p,v=n.height+f+y;r.width=d*e,r.height=v*e,i.scale(e,e),i.clearRect(0,0,d,v),i.dpr=e;var g={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[u-n.x,f-n.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(i);var m=new h({style:{x:0,y:0,image:r}});return null!=g.position&&(m.position=t.position=g.position),null!=g.rotation&&(m.rotation=t.rotation=g.rotation),null!=g.scale&&(m.scale=t.scale=g.scale),m}};var g=v;t.exports=g},function(t,e,r){var i=r(3),n=r(45).devicePixelRatio,o=r(64),a=r(65);function s(){return!1}function l(t,e,r){var n=i.createCanvas(),o=e.getWidth(),a=e.getHeight(),s=n.style;return s&&(s.position="absolute",s.left=0,s.top=0,s.width=o+"px",s.height=a+"px",n.setAttribute("data-zr-dom-id",t)),n.width=o*r,n.height=a*r,n}var c=function(t,e,r){var o;r=r||n,"string"==typeof t?o=l(t,e,r):i.isObject(t)&&(t=(o=t).id),this.id=t;var a=(this.dom=o).style;a&&(o.onselectstart=s,a["-webkit-user-select"]="none",a["user-select"]="none",a["-webkit-touch-callout"]="none",a["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",a.padding=0,a.margin=0,a["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=r};c.prototype={constructor:c,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=l("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},resize:function(t,e){var r=this.dpr,i=this.dom,n=i.style,o=this.domBack;n&&(n.width=t+"px",n.height=e+"px"),i.width=t*r,i.height=e*r,o&&(o.width=t*r,o.height=e*r,1!==r&&this.ctxBack.scale(r,r))},clear:function(t,e){var r,i=this.dom,n=this.ctx,s=i.width,l=i.height,c=(e=e||this.clearColor,this.motionBlur&&!t),h=this.lastFrameAlpha,u=this.dpr;if(c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,s/u,l/u)),n.clearRect(0,0,s,l),e&&"transparent"!==e&&(e.colorStops?(r=e.__canvasGradient||o.getGradient(n,e,{x:0,y:0,width:s,height:l}),e.__canvasGradient=r):e.image&&(r=a.prototype.getCanvasPattern.call(e,n)),n.save(),n.fillStyle=r||e,n.fillRect(0,0,s,l),n.restore()),c){var p=this.domBack;n.save(),n.globalAlpha=h,n.drawImage(p,0,0,s,l),n.restore()}}};var h=c;t.exports=h},function(t,e,r){var i=r(3),n=r(43).Dispatcher,o=r(100),a=r(96),s=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,n.call(this)};s.prototype={constructor:s,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),r=0;r<e.length;r++)this.addClip(e[r])},removeClip:function(t){var e=i.indexOf(this._clips,t);0<=e&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),r=0;r<e.length;r++)this.removeClip(e[r]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,r=this._clips,i=r.length,n=[],o=[],a=0;a<i;a++){var s=r[a],l=s.step(t,e);l&&(n.push(l),o.push(s))}for(a=0;a<i;)r[a]._needsRemove?(r[a]=r[i-1],r.pop(),i--):a++;for(i=n.length,a=0;a<i;a++)o[a].fire(n[a]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){var t=this;this._running=!0,o(function e(){t._running&&(o(e),!t._paused&&t._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){var r=new a(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(r),r}},i.mixin(s,n);var l=s;t.exports=l},function(t,e,r){var i=r(43),n=i.addEventListener,o=i.removeEventListener,a=i.normalizeEvent,s=r(3),l=r(42),c=r(13),h=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],u=["touchstart","touchend","touchmove"],p={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},f=s.map(h,function(t){var e=t.replace("mouse","pointer");return p[e]?e:t});function y(t){return"mousewheel"===t&&c.browser.firefox?"DOMMouseScroll":t}function d(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}var v={mousemove:function(t){t=a(this.dom,t),this.trigger("mousemove",t)},mouseout:function(t){var e=(t=a(this.dom,t)).toElement||t.relatedTarget;if(e!==this.dom)for(;e&&9!==e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger("mouseout",t)},touchstart:function(t){(t=a(this.dom,t)).zrByTouch=!0,this._lastTouchMoment=new Date,this.handler.processGesture(this,t,"start"),v.mousemove.call(this,t),v.mousedown.call(this,t),d(this)},touchmove:function(t){(t=a(this.dom,t)).zrByTouch=!0,this.handler.processGesture(this,t,"change"),v.mousemove.call(this,t),d(this)},touchend:function(t){(t=a(this.dom,t)).zrByTouch=!0,this.handler.processGesture(this,t,"end"),v.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&v.click.call(this,t),d(this)},pointerdown:function(t){v.mousedown.call(this,t)},pointermove:function(t){g(t)||v.mousemove.call(this,t)},pointerup:function(t){v.mouseup.call(this,t)},pointerout:function(t){g(t)||v.mouseout.call(this,t)}};function g(t){var e=t.pointerType;return"pen"===e||"touch"===e}function m(t){var e;function r(e,r){s.each(e,function(e){n(t,y(e),r._handlers[e])},r)}l.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._handlers={},e=this,s.each(u,function(t){e._handlers[t]=s.bind(v[t],e)}),s.each(f,function(t){e._handlers[t]=s.bind(v[t],e)}),s.each(h,function(t){var r,i;e._handlers[t]=(r=v[t],i=e,function(){if(!i._touching)return r.apply(i,arguments)})}),c.pointerEventsSupported?r(f,this):(c.touchEventsSupported&&r(u,this),r(h,this))}s.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){v[t]=function(e){e=a(this.dom,e),this.trigger(t,e)}});var _=m.prototype;_.dispose=function(){for(var t=h.concat(u),e=0;e<t.length;e++){var r=t[e];o(this.dom,y(r),this._handlers[r])}},_.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},s.mixin(m,l);var x=m;t.exports=x},function(t,e,r){var i=r(3);e.util=i;var n=r(20);e.matrix=n;var o=r(9);e.vector=o;var a=r(44);e.color=a;var s=r(103);e.path=s;var l=r(185);l.parseSVG,e.parseSVG=l.parseSVG;var c=r(63);e.Group=c;var h=r(4);e.Path=h;var u=r(21);e.Image=u;var p=r(188);e.CompoundPath=p;var f=r(24);e.Text=f;var y=r(189);e.IncrementalDisplayable=y;var d=r(190);e.Arc=d;var v=r(191);e.BezierCurve=v;var g=r(105);e.Circle=g;var m=r(192);e.Droplet=m;var _=r(108);e.Ellipse=_;var x=r(193);e.Heart=x;var b=r(194);e.Isogon=b;var w=r(109);e.Line=w;var C=r(110);e.Polygon=C;var S=r(112);e.Polyline=S;var O=r(106);e.Rect=O;var P=r(195);e.Ring=P;var T=r(196);e.Rose=T;var L=r(197);e.Sector=L;var A=r(199);e.Star=A;var M=r(200);e.Trochoid=M;var k=r(113);e.LinearGradient=k;var E=r(201);e.RadialGradient=E;var D=r(65);e.Pattern=D;var z=r(10);e.BoundingRect=z},function(t,e,r){var i=r(9),n=r(23),o=Math.min,a=Math.max,s=Math.sin,l=Math.cos,c=2*Math.PI,h=i.create(),u=i.create(),p=i.create(),f=[],y=[];e.fromPoints=function(t,e,r){if(0!==t.length){var i,n=t[0],s=n[0],l=n[0],c=n[1],h=n[1];for(i=1;i<t.length;i++)n=t[i],s=o(s,n[0]),l=a(l,n[0]),c=o(c,n[1]),h=a(h,n[1]);e[0]=s,e[1]=c,r[0]=l,r[1]=h}},e.fromLine=function(t,e,r,i,n,s){n[0]=o(t,r),n[1]=o(e,i),s[0]=a(t,r),s[1]=a(e,i)},e.fromCubic=function(t,e,r,i,s,l,c,h,u,p){var d,v=n.cubicExtrema,g=n.cubicAt,m=v(t,r,s,c,f);for(u[0]=1/0,u[1]=1/0,p[0]=-1/0,p[1]=-1/0,d=0;d<m;d++){var _=g(t,r,s,c,f[d]);u[0]=o(_,u[0]),p[0]=a(_,p[0])}for(m=v(e,i,l,h,y),d=0;d<m;d++){var x=g(e,i,l,h,y[d]);u[1]=o(x,u[1]),p[1]=a(x,p[1])}u[0]=o(t,u[0]),p[0]=a(t,p[0]),u[0]=o(c,u[0]),p[0]=a(c,p[0]),u[1]=o(e,u[1]),p[1]=a(e,p[1]),u[1]=o(h,u[1]),p[1]=a(h,p[1])},e.fromQuadratic=function(t,e,r,i,s,l,c,h){var u=n.quadraticExtremum,p=n.quadraticAt,f=a(o(u(t,r,s),1),0),y=a(o(u(e,i,l),1),0),d=p(t,r,s,f),v=p(e,i,l,y);c[0]=o(t,s,d),c[1]=o(e,l,v),h[0]=a(t,s,d),h[1]=a(e,l,v)},e.fromArc=function(t,e,r,n,o,a,f,y,d){var v=i.min,g=i.max,m=Math.abs(o-a);if(m%c<1e-4&&1e-4<m)return y[0]=t-r,y[1]=e-n,d[0]=t+r,void(d[1]=e+n);if(h[0]=l(o)*r+t,h[1]=s(o)*n+e,u[0]=l(a)*r+t,u[1]=s(a)*n+e,v(y,h,u),g(d,h,u),(o%=c)<0&&(o+=c),(a%=c)<0&&(a+=c),a<o&&!f?a+=c:o<a&&f&&(o+=c),f){var _=a;a=o,o=_}for(var x=0;x<a;x+=Math.PI/2)o<x&&(p[0]=l(x)*r+t,p[1]=s(x)*n+e,v(y,p,y),g(d,p,d))}},function(t,e,r){var i=r(22),n=r(179),o=r(180),a=r(181),s=r(182),l=r(104).normalizeRadian,c=r(23),h=r(183),u=i.CMD,p=2*Math.PI,f=1e-4,y=[-1,-1,-1],d=[-1,-1];function v(t,e,r,i,n,o,a,s,l,h){if(e<h&&i<h&&o<h&&s<h||h<e&&h<i&&h<o&&h<s)return 0;var u,p=c.cubicRootAt(e,i,o,s,h,y);if(0===p)return 0;for(var f,v,g=0,m=-1,_=0;_<p;_++){var x=y[_],b=0===x||1===x?.5:1;c.cubicAt(t,r,n,a,x)<l||(m<0&&(m=c.cubicExtrema(e,i,o,s,d),d[1]<d[0]&&1<m&&(u=d[0],d[0]=d[1],d[1]=u),f=c.cubicAt(e,i,o,s,d[0]),1<m&&(v=c.cubicAt(e,i,o,s,d[1]))),2===m?x<d[0]?g+=f<e?b:-b:x<d[1]?g+=v<f?b:-b:g+=s<v?b:-b:x<d[0]?g+=f<e?b:-b:g+=s<f?b:-b)}return g}function g(t,e,r,i,n,o,a,s){if(e<s&&i<s&&o<s||s<e&&s<i&&s<o)return 0;var l=c.quadraticRootAt(e,i,o,s,y);if(0===l)return 0;var h=c.quadraticExtremum(e,i,o);if(0<=h&&h<=1){for(var u=0,p=c.quadraticAt(e,i,o,h),f=0;f<l;f++){var d=0===y[f]||1===y[f]?.5:1;c.quadraticAt(t,r,n,y[f])<a||(y[f]<h?u+=p<e?d:-d:u+=o<p?d:-d)}return u}return d=0===y[0]||1===y[0]?.5:1,c.quadraticAt(t,r,n,y[0])<a?0:o<e?d:-d}function m(t,e,r,i,n,o,a,s){if(r<(s-=e)||s<-r)return 0;var c=Math.sqrt(r*r-s*s);y[0]=-c,y[1]=c;var h=Math.abs(i-n);if(h<1e-4)return 0;if(h%p<1e-4){n=p;var u=o?1:-1;return a>=y[i=0]+t&&a<=y[1]+t?u:0}o?(c=i,i=l(n),n=l(c)):(i=l(i),n=l(n)),n<i&&(n+=p);for(var f=0,d=0;d<2;d++){var v=y[d];if(a<v+t){var g=Math.atan2(s,v);u=o?1:-1,g<0&&(g=p+g),(i<=g&&g<=n||i<=g+p&&g+p<=n)&&(g>Math.PI/2&&g<1.5*Math.PI&&(u=-u),f+=u)}}return f}function _(t,e,r,i,l){for(var c,p,y=0,d=0,_=0,x=0,b=0,w=0;w<t.length;){var C=t[w++];switch(C===u.M&&1<w&&(r||(y+=h(d,_,x,b,i,l))),1===w&&(x=d=t[w],b=_=t[w+1]),C){case u.M:d=x=t[w++],_=b=t[w++];break;case u.L:if(r){if(n.containStroke(d,_,t[w],t[w+1],e,i,l))return!0}else y+=h(d,_,t[w],t[w+1],i,l)||0;d=t[w++],_=t[w++];break;case u.C:if(r){if(o.containStroke(d,_,t[w++],t[w++],t[w++],t[w++],t[w],t[w+1],e,i,l))return!0}else y+=v(d,_,t[w++],t[w++],t[w++],t[w++],t[w],t[w+1],i,l)||0;d=t[w++],_=t[w++];break;case u.Q:if(r){if(a.containStroke(d,_,t[w++],t[w++],t[w],t[w+1],e,i,l))return!0}else y+=g(d,_,t[w++],t[w++],t[w],t[w+1],i,l)||0;d=t[w++],_=t[w++];break;case u.A:var S=t[w++],O=t[w++],P=t[w++],T=t[w++],L=t[w++],A=t[w++];w+=1;var M=1-t[w++],k=Math.cos(L)*P+S,E=Math.sin(L)*T+O;1<w?y+=h(d,_,k,E,i,l):(x=k,b=E);var D=(i-S)*T/P+S;if(r){if(s.containStroke(S,O,T,L,L+A,M,e,D,l))return!0}else y+=m(S,O,T,L,L+A,M,D,l);d=Math.cos(L+A)*P+S,_=Math.sin(L+A)*T+O;break;case u.R:if(x=d=t[w++],b=_=t[w++],k=x+t[w++],E=b+t[w++],r){if(n.containStroke(x,b,k,b,e,i,l)||n.containStroke(k,b,k,E,e,i,l)||n.containStroke(k,E,x,E,e,i,l)||n.containStroke(x,E,x,b,e,i,l))return!0}else y+=h(k,b,k,E,i,l),y+=h(x,E,x,b,i,l);break;case u.Z:if(r){if(n.containStroke(d,_,x,b,e,i,l))return!0}else y+=h(d,_,x,b,i,l);d=x,_=b}}return r||(c=_,p=b,Math.abs(c-p)<f)||(y+=h(d,_,x,b,i,l)||0),0!==y}e.contain=function(t,e,r){return _(t,0,!1,e,r)},e.containStroke=function(t,e,r,i){return _(t,e,!0,r,i)}},function(t,e){e.containStroke=function(t,e,r,i,n,o,a){if(0===n)return!1;var s,l=n;if(e+l<a&&i+l<a||a<e-l&&a<i-l||t+l<o&&r+l<o||o<t-l&&o<r-l)return!1;if(t===r)return Math.abs(o-t)<=l/2;var c=(s=(e-i)/(t-r))*o-a+(t*i-r*e)/(t-r);return c*c/(s*s+1)<=l/2*l/2}},function(t,e,r){var i=r(23);e.containStroke=function(t,e,r,n,o,a,s,l,c,h,u){if(0===c)return!1;var p=c;return!(e+p<u&&n+p<u&&a+p<u&&l+p<u||u<e-p&&u<n-p&&u<a-p&&u<l-p||t+p<h&&r+p<h&&o+p<h&&s+p<h||h<t-p&&h<r-p&&h<o-p&&h<s-p)&&i.cubicProjectPoint(t,e,r,n,o,a,s,l,h,u,null)<=p/2}},function(t,e,r){var i=r(23).quadraticProjectPoint;e.containStroke=function(t,e,r,n,o,a,s,l,c){if(0===s)return!1;var h=s;return!(e+h<c&&n+h<c&&a+h<c||c<e-h&&c<n-h&&c<a-h||t+h<l&&r+h<l&&o+h<l||l<t-h&&l<r-h&&l<o-h)&&i(t,e,r,n,o,a,l,c,null)<=h/2}},function(t,e,r){var i=r(104).normalizeRadian,n=2*Math.PI;e.containStroke=function(t,e,r,o,a,s,l,c,h){if(0===l)return!1;var u=l;c-=t,h-=e;var p=Math.sqrt(c*c+h*h);if(r<p-u||p+u<r)return!1;if(Math.abs(o-a)%n<1e-4)return!0;if(s){var f=o;o=i(a),a=i(f)}else o=i(o),a=i(a);a<o&&(a+=n);var y=Math.atan2(h,c);return y<0&&(y+=n),o<=y&&y<=a||o<=y+n&&y+n<=a}},function(t,e){t.exports=function(t,e,r,i,n,o){if(e<o&&i<o||o<e&&o<i)return 0;if(i===e)return 0;var a=i<e?1:-1,s=(o-e)/(i-e);1!==s&&0!==s||(a=i<e?.5:-.5);var l=s*(r-t)+t;return l===n?1/0:n<l?a:0}},function(t,e,r){var i=r(22),n=r(9).applyTransform,o=i.CMD,a=[[],[],[]],s=Math.sqrt,l=Math.atan2;t.exports=function(t,e){var r,i,c,h,u,p=t.data,f=o.M,y=o.C,d=o.L,v=o.R,g=o.A,m=o.Q;for(h=c=0;c<p.length;){switch(r=p[c++],h=c,i=0,r){case f:case d:i=1;break;case y:i=3;break;case m:i=2;break;case g:var _=e[4],x=e[5],b=s(e[0]*e[0]+e[1]*e[1]),w=s(e[2]*e[2]+e[3]*e[3]),C=l(-e[1]/w,e[0]/b);p[c]*=b,p[c++]+=_,p[c]*=w,p[c++]+=x,p[c++]*=b,p[c++]*=w,p[c++]+=C,p[c++]+=C,h=c+=2;break;case v:S[0]=p[c++],S[1]=p[c++],n(S,S,e),p[h++]=S[0],p[h++]=S[1],S[0]+=p[c++],S[1]+=p[c++],n(S,S,e),p[h++]=S[0],p[h++]=S[1]}for(u=0;u<i;u++){var S;(S=a[u])[0]=p[c++],S[1]=p[c++],n(S,S,e),p[h++]=S[0],p[h++]=S[1]}}}},function(t,e,r){var i=r(63),n=r(21),o=r(24),a=r(105),s=r(106),l=r(108),c=r(109),h=r(4),u=r(110),p=r(112),f=r(113),y=r(64),d=r(20),v=r(103).createFromString,g=r(3),m=g.isString,_=g.extend,x=g.defaults,b=g.trim,w=g.each,C=/[\s,]+/;function S(t){for(m(t)&&(t=(new DOMParser).parseFromString(t,"text/xml")),9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}function O(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}O.prototype.parse=function(t,e){e=e||{};var r=S(t);if(!r)throw new Error("Illegal svg");var n=new i;this._root=n;var o=r.getAttribute("viewBox")||"",a=parseFloat(r.getAttribute("width")||e.width),l=parseFloat(r.getAttribute("height")||e.height);isNaN(a)&&(a=null),isNaN(l)&&(l=null),k(r,n,null,!0);for(var c,h,u=r.firstChild;u;)this._parseNode(u,n),u=u.nextSibling;if(o){var p=b(o).split(C);4<=p.length&&(c={x:parseFloat(p[0]||0),y:parseFloat(p[1]||0),width:parseFloat(p[2]),height:parseFloat(p[3])})}if(c&&null!=a&&null!=l&&(h=B(c,a,l),!e.ignoreViewBox)){var f=n;(n=new i).add(f),f.scale=h.scale.slice(),f.position=h.position.slice()}return e.ignoreRootClip||null==a||null==l||n.setClipPath(new s({shape:{x:0,y:0,width:a,height:l}})),{root:n,width:a,height:l,viewBoxRect:c,viewBoxTransform:h}},O.prototype._parseNode=function(t,e){var r,i,n=t.nodeName.toLowerCase();if("defs"===n?this._isDefine=!0:"text"===n&&(this._isText=!0),this._isDefine){if(i=T[n]){var o=i.call(this,t),a=t.getAttribute("id");a&&(this._defs[a]=o)}}else(i=P[n])&&(r=i.call(this,t,e),e.add(r));for(var s=t.firstChild;s;)1===s.nodeType&&this._parseNode(s,r),3===s.nodeType&&this._isText&&this._parseText(s,r),s=s.nextSibling;"defs"===n?this._isDefine=!1:"text"===n&&(this._isText=!1)},O.prototype._parseText=function(t,e){if(1===t.nodeType){var r=t.getAttribute("dx")||0,i=t.getAttribute("dy")||0;this._textX+=parseFloat(r),this._textY+=parseFloat(i)}var n=new o({style:{text:t.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});L(e,n),k(t,n,this._defs);var a=n.style.fontSize;a&&a<9&&(n.style.fontSize=9,n.scale=n.scale||[1,1],n.scale[0]*=a/9,n.scale[1]*=a/9);var s=n.getBoundingRect();return this._textX+=s.width,e.add(n),n};var P={g:function(t,e){var r=new i;return L(e,r),k(t,r,this._defs),r},rect:function(t,e){var r=new s;return L(e,r),k(t,r,this._defs),r.setShape({x:parseFloat(t.getAttribute("x")||0),y:parseFloat(t.getAttribute("y")||0),width:parseFloat(t.getAttribute("width")||0),height:parseFloat(t.getAttribute("height")||0)}),r},circle:function(t,e){var r=new a;return L(e,r),k(t,r,this._defs),r.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),r:parseFloat(t.getAttribute("r")||0)}),r},line:function(t,e){var r=new c;return L(e,r),k(t,r,this._defs),r.setShape({x1:parseFloat(t.getAttribute("x1")||0),y1:parseFloat(t.getAttribute("y1")||0),x2:parseFloat(t.getAttribute("x2")||0),y2:parseFloat(t.getAttribute("y2")||0)}),r},ellipse:function(t,e){var r=new l;return L(e,r),k(t,r,this._defs),r.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),rx:parseFloat(t.getAttribute("rx")||0),ry:parseFloat(t.getAttribute("ry")||0)}),r},polygon:function(t,e){var r=t.getAttribute("points");r&&(r=A(r));var i=new u({shape:{points:r||[]}});return L(e,i),k(t,i,this._defs),i},polyline:function(t,e){var r=new h;L(e,r),k(t,r,this._defs);var i=t.getAttribute("points");return i&&(i=A(i)),new p({shape:{points:i||[]}})},image:function(t,e){var r=new n;return L(e,r),k(t,r,this._defs),r.setStyle({image:t.getAttribute("xlink:href"),x:t.getAttribute("x"),y:t.getAttribute("y"),width:t.getAttribute("width"),height:t.getAttribute("height")}),r},text:function(t,e){var r=t.getAttribute("x")||0,n=t.getAttribute("y")||0,o=t.getAttribute("dx")||0,a=t.getAttribute("dy")||0;this._textX=parseFloat(r)+parseFloat(o),this._textY=parseFloat(n)+parseFloat(a);var s=new i;return L(e,s),k(t,s,this._defs),s},tspan:function(t,e){var r=t.getAttribute("x"),n=t.getAttribute("y");null!=r&&(this._textX=parseFloat(r)),null!=n&&(this._textY=parseFloat(n));var o=t.getAttribute("dx")||0,a=t.getAttribute("dy")||0,s=new i;return L(e,s),k(t,s,this._defs),this._textX+=o,this._textY+=a,s},path:function(t,e){var r=t.getAttribute("d")||"",i=v(r);return L(e,i),k(t,i,this._defs),i}},T={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||0,10),r=parseInt(t.getAttribute("y1")||0,10),i=parseInt(t.getAttribute("x2")||10,10),n=parseInt(t.getAttribute("y2")||0,10),o=new f(e,r,i,n);return function(t,e){for(var r=t.firstChild;r;){if(1===r.nodeType){var i=r.getAttribute("offset");i=0<i.indexOf("%")?parseInt(i,10)/100:i?parseFloat(i):0;var n=r.getAttribute("stop-color")||"#000000";e.addColorStop(i,n)}r=r.nextSibling}}(t,o),o},radialgradient:function(t){}};function L(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),x(e.__inheritedStyle,t.__inheritedStyle))}function A(t){for(var e=b(t).split(C),r=[],i=0;i<e.length;i+=2){var n=parseFloat(e[i]),o=parseFloat(e[i+1]);r.push([n,o])}return r}var M={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function k(t,e,r,i){var n=e.__inheritedStyle||{},o="text"===e.type;if(1===t.nodeType&&(function(t,e){var r=t.getAttribute("transform");if(r){r=r.replace(/,/g," ");var i=null,n=[];r.replace(z,function(t,e,r){n.push(e,r)});for(var o=n.length-1;0<o;o-=2){var a=n[o],s=n[o-1];switch(i=i||d.create(),s){case"translate":a=b(a).split(C),d.translate(i,i,[parseFloat(a[0]),parseFloat(a[1]||0)]);break;case"scale":a=b(a).split(C),d.scale(i,i,[parseFloat(a[0]),parseFloat(a[1]||a[0])]);break;case"rotate":a=b(a).split(C),d.rotate(i,i,parseFloat(a[0]));break;case"skew":a=b(a).split(C),console.warn("Skew transform is not supported yet");break;case"matrix":a=b(a).split(C);i[0]=parseFloat(a[0]),i[1]=parseFloat(a[1]),i[2]=parseFloat(a[2]),i[3]=parseFloat(a[3]),i[4]=parseFloat(a[4]),i[5]=parseFloat(a[5])}}e.setLocalTransform(i)}}(t,e),_(n,function(t){var e=t.getAttribute("style"),r={};if(!e)return r;var i,n={};for(j.lastIndex=0;null!=(i=j.exec(e));)n[i[1]]=i[2];for(var o in M)M.hasOwnProperty(o)&&null!=n[o]&&(r[M[o]]=n[o]);return r}(t)),!i))for(var a in M)if(M.hasOwnProperty(a)){var s=t.getAttribute(a);null!=s&&(n[M[a]]=s)}var l=o?"textFill":"fill",c=o?"textStroke":"stroke";e.style=e.style||new y;var h=e.style;null!=n.fill&&h.set(l,D(n.fill,r)),null!=n.stroke&&h.set(c,D(n.stroke,r)),w(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(t){var e="lineWidth"===t&&o?"textStrokeWidth":t;null!=n[t]&&h.set(e,parseFloat(n[t]))}),n.textBaseline&&"auto"!==n.textBaseline||(n.textBaseline="alphabetic"),"alphabetic"===n.textBaseline&&(n.textBaseline="bottom"),"start"===n.textAlign&&(n.textAlign="left"),"end"===n.textAlign&&(n.textAlign="right"),w(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(t){null!=n[t]&&h.set(t,n[t])}),n.lineDash&&(e.style.lineDash=b(n.lineDash).split(C)),h[c]&&"none"!==h[c]&&(e[c]=!0),e.__inheritedStyle=n}var E=/url\(\s*#(.*?)\)/;function D(t,e){var r=e&&t&&t.match(E);return r?e[b(r[1])]:t}var z=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,j=/([^\s:;]+)\s*:\s*([^:;]+)/g;function B(t,e,r){var i=e/t.width,n=r/t.height,o=Math.min(i,n);return{scale:[o,o],position:[-(t.x+t.width/2)*o+e/2,-(t.y+t.height/2)*o+r/2]}}e.parseXML=S,e.makeViewBoxTransform=B,e.parseSVG=function(t,e){return(new O).parse(t,e)}},function(t,e,r){var i=r(9).distance;function n(t,e,r,i,n,o,a){var s=.5*(r-t),l=.5*(i-e);return(2*(e-r)+s+l)*a+(-3*(e-r)-2*s-l)*o+s*n+e}t.exports=function(t,e){for(var r=t.length,o=[],a=0,s=1;s<r;s++)a+=i(t[s-1],t[s]);var l=a/2;for(l=l<r?r:l,s=0;s<l;s++){var c,h,u,p=s/(l-1)*(e?r:r-1),f=Math.floor(p),y=p-f,d=t[f%r];u=e?(c=t[(f-1+r)%r],h=t[(f+1)%r],t[(f+2)%r]):(c=t[0===f?f:f-1],h=t[r-2<f?r-1:f+1],t[r-3<f?r-1:f+2]);var v=y*y,g=y*v;o.push([n(c[0],d[0],h[0],u[0],y,v,g),n(c[1],d[1],h[1],u[1],y,v,g)])}return o}},function(t,e,r){var i=r(9),n=i.min,o=i.max,a=i.scale,s=i.distance,l=i.add,c=i.clone,h=i.sub;t.exports=function(t,e,r,i){var u,p,f,y,d=[],v=[],g=[],m=[];if(i){f=[1/0,1/0],y=[-1/0,-1/0];for(var _=0,x=t.length;_<x;_++)n(f,f,t[_]),o(y,y,t[_]);n(f,f,i[0]),o(y,y,i[1])}for(_=0,x=t.length;_<x;_++){var b=t[_];if(r)u=t[_?_-1:x-1],p=t[(_+1)%x];else{if(0===_||_===x-1){d.push(c(t[_]));continue}u=t[_-1],p=t[_+1]}h(v,p,u),a(v,v,e);var w=s(b,u),C=s(b,p),S=w+C;0!==S&&(w/=S,C/=S),a(g,v,-w),a(m,v,C);var O=l([],b,g),P=l([],b,m);i&&(o(O,O,f),n(O,O,y),o(P,P,f),n(P,P,y)),d.push(O),d.push(P)}return r&&d.push(d.shift()),d}},function(t,e,r){var i=r(4),n=i.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,r=0;r<e.length;r++)t=t||e[r].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),r=0;r<t.length;r++)t[r].path||t[r].createPathProxy(),t[r].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var r=e.paths||[],i=0;i<r.length;i++)r[i].buildPath(t,r[i].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),i.prototype.getBoundingRect.call(this)}});t.exports=n},function(t,e,r){var i=r(3).inherits,n=r(31),o=r(10);function a(t){n.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}a.prototype.incremental=!0,a.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},a.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},a.prototype.addDisplayables=function(t,e){e=e||!1;for(var r=0;r<t.length;r++)this.addDisplayable(t[r],e)},a.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},a.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++)(e=this._displayables[t]).parent=this,e.update(),e.parent=null;for(t=0;t<this._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},a.prototype.brush=function(t,e){for(var r=this._cursor;r<this._displayables.length;r++)(i=this._displayables[r]).beforeBrush&&i.beforeBrush(t),i.brush(t,r===this._cursor?null:this._displayables[r-1]),i.afterBrush&&i.afterBrush(t);for(this._cursor=r,r=0;r<this._temporaryDisplayables.length;r++){var i;(i=this._temporaryDisplayables[r]).beforeBrush&&i.beforeBrush(t),i.brush(t,0===r?null:this._temporaryDisplayables[r-1]),i.afterBrush&&i.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var s=[];a.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new o(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var r=this._displayables[e],i=r.getBoundingRect().clone();r.needLocalTransform()&&i.applyTransform(r.getLocalTransform(s)),t.union(i)}this._rect=t}return this._rect},a.prototype.contain=function(t,e){var r=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(r[0],r[1]))for(var i=0;i<this._displayables.length;i++)if(this._displayables[i].contain(t,e))return!0;return!1},i(a,n);var l=a;t.exports=l},function(t,e,r){var i=r(4).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var r=e.cx,i=e.cy,n=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,l=Math.cos(o),c=Math.sin(o);t.moveTo(l*n+r,c*n+i),t.arc(r,i,n,o,a,!s)}});t.exports=i},function(t,e,r){var i=r(4),n=r(9),o=r(23),a=o.quadraticSubdivide,s=o.cubicSubdivide,l=o.quadraticAt,c=o.cubicAt,h=o.quadraticDerivativeAt,u=o.cubicDerivativeAt,p=[];function f(t,e,r){var i=t.cpx2,n=t.cpy2;return null===i||null===n?[(r?u:c)(t.x1,t.cpx1,t.cpx2,t.x2,e),(r?u:c)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(r?h:l)(t.x1,t.cpx1,t.x2,e),(r?h:l)(t.y1,t.cpy1,t.y2,e)]}var y=i.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var r=e.x1,i=e.y1,n=e.x2,o=e.y2,l=e.cpx1,c=e.cpy1,h=e.cpx2,u=e.cpy2,f=e.percent;0!==f&&(t.moveTo(r,i),null==h||null==u?(f<1&&(a(r,l,n,f,p),l=p[1],n=p[2],a(i,c,o,f,p),c=p[1],o=p[2]),t.quadraticCurveTo(l,c,n,o)):(f<1&&(s(r,l,h,n,f,p),l=p[1],h=p[2],n=p[3],s(i,c,u,o,f,p),c=p[1],u=p[2],o=p[3]),t.bezierCurveTo(l,c,h,u,n,o)))},pointAt:function(t){return f(this.shape,t,!1)},tangentAt:function(t){var e=f(this.shape,t,!0);return n.normalize(e,e)}});t.exports=y},function(t,e,r){var i=r(4).extend({type:"droplet",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,i=e.cy,n=e.width,o=e.height;t.moveTo(r,i+n),t.bezierCurveTo(r+n,i+n,r+3*n/2,i-n/3,r,i-o),t.bezierCurveTo(r-3*n/2,i-n/3,r-n,i+n,r,i+n),t.closePath()}});t.exports=i},function(t,e,r){var i=r(4).extend({type:"heart",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,i=e.cy,n=e.width,o=e.height;t.moveTo(r,i),t.bezierCurveTo(r+n/2,i-2*o/3,r+2*n,i+o/3,r,i+o),t.bezierCurveTo(r-2*n,i+o/3,r-n/2,i-2*o/3,r,i)}});t.exports=i},function(t,e,r){var i=r(4),n=Math.PI,o=Math.sin,a=Math.cos,s=i.extend({type:"isogon",shape:{x:0,y:0,r:0,n:0},buildPath:function(t,e){var r=e.n;if(r&&!(r<2)){var i=e.x,s=e.y,l=e.r,c=2*n/r,h=-n/2;t.moveTo(i+l*a(h),s+l*o(h));for(var u=0,p=r-1;u<p;u++)h+=c,t.lineTo(i+l*a(h),s+l*o(h));t.closePath()}}});t.exports=s},function(t,e,r){var i=r(4).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var r=e.cx,i=e.cy,n=2*Math.PI;t.moveTo(r+e.r,i),t.arc(r,i,e.r,0,n,!1),t.moveTo(r+e.r0,i),t.arc(r,i,e.r0,0,n,!0)}});t.exports=i},function(t,e,r){var i=r(4),n=Math.sin,o=Math.cos,a=Math.PI/180,s=i.extend({type:"rose",shape:{cx:0,cy:0,r:[],k:0,n:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var r,i,s,l=e.r,c=e.k,h=e.n,u=e.cx,p=e.cy;t.moveTo(u,p);for(var f=0,y=l.length;f<y;f++){s=l[f];for(var d=0;d<=360*h;d++)r=s*n(c/h*d%360*a)*o(d*a)+u,i=s*n(c/h*d%360*a)*n(d*a)+p,t.lineTo(r,i)}}});t.exports=s},function(t,e,r){var i=r(4),n=r(198),o=i.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:n(i.prototype.brush),buildPath:function(t,e){var r=e.cx,i=e.cy,n=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=e.startAngle,s=e.endAngle,l=e.clockwise,c=Math.cos(a),h=Math.sin(a);t.moveTo(c*n+r,h*n+i),t.lineTo(c*o+r,h*o+i),t.arc(r,i,o,a,s,!l),t.lineTo(Math.cos(s)*n+r,Math.sin(s)*n+i),0!==n&&t.arc(r,i,n,s,a,l),t.closePath()}});t.exports=o},function(t,e,r){var i=r(13),n=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];t.exports=function(t){return i.browser.ie&&11<=i.browser.version?function(){var e,r=this.__clipPaths,i=this.style;if(r)for(var o=0;o<r.length;o++){var a=r[o],s=a&&a.shape,l=a&&a.type;if(s&&("sector"===l&&s.startAngle===s.endAngle||"rect"===l&&(!s.width||!s.height))){for(var c=0;c<n.length;c++)n[c][2]=i[n[c][0]],i[n[c][0]]=n[c][1];e=!0;break}}if(t.apply(this,arguments),e)for(c=0;c<n.length;c++)i[n[c][0]]=n[c][2]}:t}},function(t,e,r){var i=r(4),n=Math.PI,o=Math.cos,a=Math.sin,s=i.extend({type:"star",shape:{cx:0,cy:0,n:3,r0:null,r:0},buildPath:function(t,e){var r=e.n;if(r&&!(r<2)){var i=e.cx,s=e.cy,l=e.r,c=e.r0;null==c&&(c=4<r?l*o(2*n/r)/o(n/r):l/3);var h=n/r,u=-n/2,p=i+l*o(u),f=s+l*a(u);u+=h,t.moveTo(p,f);for(var y,d=0,v=2*r-1;d<v;d++)y=d%2==0?c:l,t.lineTo(i+y*o(u),s+y*a(u)),u+=h;t.closePath()}}});t.exports=s},function(t,e,r){var i=r(4),n=Math.cos,o=Math.sin,a=i.extend({type:"trochoid",shape:{cx:0,cy:0,r:0,r0:0,d:0,location:"out"},style:{stroke:"#000",fill:null},buildPath:function(t,e){var r,i,a,s,l=e.r,c=e.r0,h=e.d,u=e.cx,p=e.cy,f="out"===e.location?1:-1;if(!(e.location&&l<=c)){var y,d=0,v=1;for(r=(l+f*c)*n(0)-f*h*n(0)+u,i=(l+f*c)*o(0)-h*o(0)+p,t.moveTo(r,i);c*++d%(l+f*c)!=0;);for(;y=Math.PI/180*v,a=(l+f*c)*n(y)-f*h*n((l/c+f)*y)+u,s=(l+f*c)*o(y)-h*o((l/c+f)*y)+p,t.lineTo(a,s),++v<=c*d/(l+f*c)*360;);}}});t.exports=a},function(t,e,r){var i=r(3),n=r(67),o=function(t,e,r,i,o){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==r?.5:r,this.type="radial",this.global=o||!1,n.call(this,i)};o.prototype={constructor:o},i.inherits(o,n);var a=o;t.exports=a},function(t,e,r){r(68),(0,r(62).registerPainter)("svg",r(203))},function(t,e,r){var i=r(69).createElement,n=r(3),o=r(30),a=r(4),s=r(21),l=r(24),c=r(204),h=r(205),u=r(206),p=r(207),f=r(68),y=f.path,d=f.image,v=f.text;function g(t){return parseInt(t,10)}function m(t,e){return e&&t&&e.parentNode!==t}function _(t,e,r){if(m(t,e)&&r){var i=r.nextSibling;i?t.insertBefore(e,i):t.appendChild(e)}}function x(t,e){if(m(t,e)){var r=t.firstChild;r?t.insertBefore(e,r):t.appendChild(e)}}function b(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function w(t){return t.__textSvgEl}function C(t){return t.__svgEl}var S=function(t,e,r,o){this.root=t,this.storage=e,this._opts=r=n.extend({},r||{});var a=i("svg");a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a.setAttribute("version","1.1"),a.setAttribute("baseProfile","full"),a.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new h(o,a),this.clipPathManager=new u(o,a),this.shadowManager=new p(o,a);var s=document.createElement("div");s.style.cssText="overflow:hidden;position:relative",this._svgRoot=a,this._viewport=s,t.appendChild(s),s.appendChild(a),this.resize(r.width,r.height),this._visibleList=[]};S.prototype={constructor:S,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},setBackgroundColor:function(t){this._viewport.style.background=t},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var e,r,i=this._svgRoot,n=this._visibleList,o=t.length,h=[];for(e=0;e<o;e++){var u=t[e],p=(r=u)instanceof a?y:r instanceof s?d:r instanceof l?v:y,f=C(u)||w(u);u.invisible||(u.__dirty&&(p&&p.brush(u),this.clipPathManager.update(u),u.style&&(this.gradientManager.update(u.style.fill),this.gradientManager.update(u.style.stroke),this.shadowManager.update(f,u)),u.__dirty=!1),h.push(u))}var g,m=c(n,h);for(e=0;e<m.length;e++)if((P=m[e]).removed)for(var S=0;S<P.count;S++){f=C(u=n[P.indices[S]]);var O=w(u);b(i,f),b(i,O)}for(e=0;e<m.length;e++){var P;if((P=m[e]).added)for(S=0;S<P.count;S++)f=C(u=h[P.indices[S]]),O=w(u),g?_(i,f,g):x(i,f),f?_(i,O,f):g?_(i,O,g):x(i,O),_(i,O,f),g=O||f||g,this.gradientManager.addWithoutUpdate(f,u),this.shadowManager.addWithoutUpdate(g,u),this.clipPathManager.markUsed(u);else if(!P.removed)for(S=0;S<P.count;S++)g=f=w(u=h[P.indices[S]])||C(u)||g,this.gradientManager.markUsed(u),this.gradientManager.addWithoutUpdate(f,u),this.shadowManager.markUsed(u),this.shadowManager.addWithoutUpdate(f,u),this.clipPathManager.markUsed(u)}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=h},_getDefs:function(t){var e,r=this._svgRoot;return 0!==(e=this._svgRoot.getElementsByTagName("defs")).length?e[0]:t?((e=r.insertBefore(i("defs"),r.firstChild)).contains||(e.contains=function(t){var r=e.children;if(!r)return!1;for(var i=r.length-1;0<=i;--i)if(r[i]===t)return!0;return!1}),e):null},resize:function(t,e){var r=this._viewport;r.style.display="none";var i=this._opts;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=this._getSize(0),e=this._getSize(1),r.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var n=r.style;n.width=t+"px",n.height=e+"px";var o=this._svgRoot;o.setAttribute("width",t),o.setAttribute("height",e)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,r=["width","height"][t],i=["clientWidth","clientHeight"][t],n=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[r]&&"auto"!==e[r])return parseFloat(e[r]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[i]||g(s[r])||g(a.style[r]))-(g(s[n])||0)-(g(s[o])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+this._svgRoot.outerHTML}},n.each(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){var e;S.prototype[t]=(e=t,function(){o('In SVG mode painter not support method "'+e+'"')})});var O=S;t.exports=O},function(t,e){function r(){}function i(t,e,r,i){for(var n=0,o=e.length,a=0,s=0;n<o;n++){var l=e[n];if(l.removed){for(c=[],h=s;h<s+l.count;h++)c.push(h);l.indices=c,s+=l.count}else{for(var c=[],h=a;h<a+l.count;h++)c.push(h);l.indices=c,a+=l.count,l.added||(s+=l.count)}}return e}r.prototype={diff:function(t,e,r){r||(r=function(t,e){return t===e}),this.equals=r;var n=this;t=t.slice();var o=(e=e.slice()).length,a=t.length,s=1,l=o+a,c=[{newPos:-1,components:[]}],h=this.extractCommon(c[0],e,t,0);if(c[0].newPos+1>=o&&a<=h+1){for(var u=[],p=0;p<e.length;p++)u.push(p);return[{indices:u,count:e.length}]}function f(){for(var r=-1*s;r<=s;r+=2){var l,h=c[r-1],u=c[r+1],p=(u?u.newPos:0)-r;h&&(c[r-1]=void 0);var f=h&&h.newPos+1<o,y=u&&0<=p&&p<a;if(f||y){if(!f||y&&h.newPos<u.newPos?(l={newPos:(d=u).newPos,components:d.components.slice(0)},n.pushComponent(l.components,void 0,!0)):((l=h).newPos++,n.pushComponent(l.components,!0,void 0)),p=n.extractCommon(l,e,t,r),l.newPos+1>=o&&a<=p+1)return i(0,l.components);c[r]=l}else c[r]=void 0}var d;s++}for(;s<=l;){var y=f();if(y)return y}},pushComponent:function(t,e,r){var i=t[t.length-1];i&&i.added===e&&i.removed===r?t[t.length-1]={count:i.count+1,added:e,removed:r}:t.push({count:1,added:e,removed:r})},extractCommon:function(t,e,r,i){for(var n=e.length,o=r.length,a=t.newPos,s=a-i,l=0;a+1<n&&s+1<o&&this.equals(e[a+1],r[s+1]);)a++,s++,l++;return l&&t.components.push({count:l}),t.newPos=a,s},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var n=new r;t.exports=function(t,e,r){return n.diff(t,e,r)}},function(t,e,r){var i=r(70),n=r(3),o=r(30),a=r(44);function s(t,e){i.call(this,t,e,["linearGradient","radialGradient"],"__gradient_in_use__")}n.inherits(s,i),s.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var r=this;n.each(["fill","stroke"],function(i){if(e.style[i]&&("linear"===e.style[i].type||"radial"===e.style[i].type)){var n,o=e.style[i],a=r.getDefs(!0);o._dom?(n=o._dom,a.contains(o._dom)||r.addDom(n)):n=r.add(o),r.markUsed(e);var s=n.getAttribute("id");t.setAttribute(i,"url(#"+s+")")}})}},s.prototype.add=function(t){var e;if("linear"===t.type)e=this.createElement("linearGradient");else{if("radial"!==t.type)return o("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},s.prototype.update=function(t){var e=this;i.prototype.update.call(this,t,function(){var r=t.type,i=t._dom.tagName;"linear"===r&&"linearGradient"===i||"radial"===r&&"radialGradient"===i?e.updateDom(t,t._dom):(e.removeDom(t),e.add(t))})},s.prototype.updateDom=function(t,e){if("linear"===t.type)e.setAttribute("x1",t.x),e.setAttribute("y1",t.y),e.setAttribute("x2",t.x2),e.setAttribute("y2",t.y2);else{if("radial"!==t.type)return void o("Illegal gradient type.");e.setAttribute("cx",t.x),e.setAttribute("cy",t.y),e.setAttribute("r",t.r)}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var r=t.colorStops,i=0,n=r.length;i<n;++i){var s=this.createElement("stop");s.setAttribute("offset",100*r[i].offset+"%");var l=r[i].color;if(l.indexOf(!1)){var c=a.parse(l)[3],h=a.toHex(l);s.setAttribute("stop-color","#"+h),s.setAttribute("stop-opacity",c)}else s.setAttribute("stop-color",r[i].color);e.appendChild(s)}t._dom=e},s.prototype.markUsed=function(t){if(t.style){var e=t.style.fill;e&&e._dom&&i.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)&&e._dom&&i.prototype.markUsed.call(this,e._dom)}};var l=s;t.exports=l},function(t,e,r){var i=r(70),n=r(3),o=r(20);function a(t,e){i.call(this,t,e,"clipPath","__clippath_in_use__")}n.inherits(a,i),a.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);var r=this.getTextSvgElement(t);r&&this.updateDom(r,t.__clipPaths,!0),this.markUsed(t)},a.prototype.updateDom=function(t,e,r){if(e&&0<e.length){var i,n,a=this.getDefs(!0),s=e[0],l=r?"_textDom":"_dom";s[l]?(n=s[l].getAttribute("id"),i=s[l],a.contains(i)||a.appendChild(i)):(n="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(i=this.createElement("clipPath")).setAttribute("id",n),a.appendChild(i),s[l]=i);var c=this.getSvgProxy(s);if(s.transform&&s.parent.invTransform&&!r){var h=Array.prototype.slice.call(s.transform);o.mul(s.transform,s.parent.invTransform,s.transform),c.brush(s),s.transform=h}else c.brush(s);var u=this.getSvgElement(s);i.innerHTML="",i.appendChild(u.cloneNode()),t.setAttribute("clip-path","url(#"+n+")"),1<e.length&&this.updateDom(i,e.slice(1),r)}else t&&t.setAttribute("clip-path","none")},a.prototype.markUsed=function(t){var e=this;t.__clipPaths&&0<t.__clipPaths.length&&n.each(t.__clipPaths,function(t){t._dom&&i.prototype.markUsed.call(e,t._dom),t._textDom&&i.prototype.markUsed.call(e,t._textDom)})};var s=a;t.exports=s},function(t,e,r){var i=r(70);function n(t,e){i.call(this,t,e,["filter"],"__filter_in_use__","_shadowDom")}function o(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY||t.textShadowBlur||t.textShadowOffsetX||t.textShadowOffsetY)}r(3).inherits(n,i),n.prototype.addWithoutUpdate=function(t,e){if(e&&o(e.style)){var r,i=e.style;i._shadowDom?(r=i._shadowDom,this.getDefs(!0).contains(i._shadowDom)||this.addDom(r)):r=this.add(e),this.markUsed(e);var n=r.getAttribute("id");t.style.filter="url(#"+n+")"}},n.prototype.add=function(t){var e=this.createElement("filter"),r=t.style;return r._shadowDomId=r._shadowDomId||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-shadow-"+r._shadowDomId),this.updateDom(t,e),this.addDom(e),e},n.prototype.update=function(t,e){var r=e.style;if(o(r)){var n=this;i.prototype.update.call(this,e,function(t){n.updateDom(e,t._shadowDom)})}else this.remove(t,r)},n.prototype.remove=function(t,e){null!=e._shadowDomId&&(this.removeDom(e),t.style.filter="")},n.prototype.updateDom=function(t,e){var r=e.getElementsByTagName("feDropShadow");r=0===r.length?this.createElement("feDropShadow"):r[0];var i,n,o,a,s=t.style,l=t.scale&&t.scale[0]||1,c=t.scale&&t.scale[1]||1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)i=s.shadowOffsetX||0,n=s.shadowOffsetY||0,o=s.shadowBlur,a=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(e,s);i=s.textShadowOffsetX||0,n=s.textShadowOffsetY||0,o=s.textShadowBlur,a=s.textShadowColor}r.setAttribute("dx",i/l),r.setAttribute("dy",n/c),r.setAttribute("flood-color",a);var h=o/2/l+" "+o/2/c;r.setAttribute("stdDeviation",h),e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width",Math.ceil(o/2*200)+"%"),e.setAttribute("height",Math.ceil(o/2*200)+"%"),e.appendChild(r),s._shadowDom=e},n.prototype.markUsed=function(t){var e=t.style;e&&e._shadowDom&&i.prototype.markUsed.call(this,e._shadowDom)};var a=n;t.exports=a},function(t,e,r){r(209),(0,r(62).registerPainter)("vml",r(210))},function(t,e,r){var i=r(13),n=r(9).applyTransform,o=r(10),a=r(44),s=r(48),l=r(47),c=r(101),h=r(31),u=r(21),p=r(24),f=r(4),y=r(22),d=r(67),v=r(114),g=y.CMD,m=Math.round,_=Math.sqrt,x=Math.abs,b=Math.cos,w=Math.sin,C=Math.max;if(!i.canvasSupported){var S="progid:DXImageTransform.Microsoft",O=21600,P=10800,T=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=O+","+O,t.coordorigin="0,0"},L=function(t,e,r){return"rgb("+[t,e,r].join(",")+")"},A=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},M=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},k=function(t,e,r){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+r},E=function(t,e){return"string"==typeof t?0<=t.lastIndexOf("%")?parseFloat(t)/100*e:parseFloat(t):t},D=function(t,e,r){var i=a.parse(e);r=+r,isNaN(r)&&(r=1),i&&(t.color=L(i[0],i[1],i[2]),t.opacity=r*i[3])},z=function(t,e,r,i){var o,s,l="fill"===e,c=t.getElementsByTagName(e)[0];null!=r[e]&&"none"!==r[e]&&(l||!l&&r.lineWidth)?(t[l?"filled":"stroked"]="true",r[e]instanceof d&&M(t,c),c||(c=v.createNode(e)),l?function(t,e,r){var i,o,s=e.fill;if(null!=s)if(s instanceof d){var l,c=0,h=[0,0],u=0,p=1,f=r.getBoundingRect(),y=f.width,v=f.height;if("linear"===s.type){l="gradient";var g=r.transform,m=[s.x*y,s.y*v],_=[s.x2*y,s.y2*v];g&&(n(m,m,g),n(_,_,g));var x=_[0]-m[0],b=_[1]-m[1];(c=180*Math.atan2(x,b)/Math.PI)<0&&(c+=360),c<1e-6&&(c=0)}else{l="gradientradial",m=[s.x*y,s.y*v],g=r.transform;var w=r.scale,S=y,P=v;h=[(m[0]-f.x)/S,(m[1]-f.y)/P],g&&n(m,m,g),S/=w[0]*O,P/=w[1]*O;var T=C(S,P);u=0/T,p=2*s.r/T-u}var A=s.colorStops.slice();A.sort(function(t,e){return t.offset-e.offset});for(var M=A.length,k=[],E=[],z=0;z<M;z++){var j=A[z],B=(i=j.color,o=a.parse(i),[L(o[0],o[1],o[2]),o[3]]);E.push(j.offset*p+u+" "+B[0]),0!==z&&z!==M-1||k.push(B)}if(2<=M){var F=k[0][0],R=k[1][0],I=k[0][1]*e.opacity,N=k[1][1]*e.opacity;t.type=l,t.method="none",t.focus="100%",t.angle=c,t.color=F,t.color2=R,t.colors=E.join(","),t.opacity=N,t.opacity2=I}"radial"===l&&(t.focusposition=h.join(","))}else D(t,s,e.opacity)}(c,r,i):(o=c,null!=(s=r).lineDash&&(o.dashstyle=s.lineDash.join(" ")),null==s.stroke||s.stroke instanceof d||D(o,s.stroke,s.opacity)),A(t,c)):(t[l?"filled":"stroked"]="false",M(t,c))},j=[[],[],[]];f.prototype.brushVML=function(t){var e=this.style,r=this._vmlEl;r||(r=v.createNode("shape"),T(r),this._vmlEl=r),z(r,"fill",e,this),z(r,"stroke",e,this);var i=this.transform,o=null!=i,a=r.getElementsByTagName("stroke")[0];if(a){var s=e.lineWidth;if(o&&!e.strokeNoScale){var l=i[0]*i[3]-i[1]*i[2];s*=_(x(l))}a.weight=s+"px"}var c=this.path||(this.path=new y);this.__dirtyPath&&(c.beginPath(),c.subPixelOptimize=!1,this.buildPath(c,this.shape),c.toStatic(),this.__dirtyPath=!1),r.path=function(t,e){var r,i,o,a,s,l,c=g.M,h=g.C,u=g.L,p=g.A,f=g.Q,y=[],d=t.data,v=t.len();for(a=0;a<v;){switch(i="",r=0,o=d[a++]){case c:i=" m ",r=1,s=d[a++],l=d[a++],j[0][0]=s,j[0][1]=l;break;case u:i=" l ",r=1,s=d[a++],l=d[a++],j[0][0]=s,j[0][1]=l;break;case f:case h:i=" c ",r=3;var x,C,S=d[a++],T=d[a++],L=d[a++],A=d[a++];o===f?(L=((x=L)+2*S)/3,A=((C=A)+2*T)/3,S=(s+2*S)/3,T=(l+2*T)/3):(x=d[a++],C=d[a++]),j[0][0]=S,j[0][1]=T,j[1][0]=L,j[1][1]=A,s=j[2][0]=x,l=j[2][1]=C;break;case p:var M=0,k=0,E=1,D=1,z=0;e&&(M=e[4],k=e[5],E=_(e[0]*e[0]+e[1]*e[1]),D=_(e[2]*e[2]+e[3]*e[3]),z=Math.atan2(-e[1]/D,e[0]/E));var B=d[a++],F=d[a++],R=d[a++],I=d[a++],N=d[a++]+z,W=d[a++]+N+z;a++;var G=d[a++],V=B+b(N)*R,H=F+w(N)*I,q=(S=B+b(W)*R,T=F+w(W)*I,G?" wa ":" at ");Math.abs(V-S)<1e-4&&(.01<Math.abs(W-N)?G&&(V+=.0125):Math.abs(H-F)<1e-4?G&&V<B||!G&&B<V?T-=.0125:T+=.0125:G&&H<F||!G&&F<H?S+=.0125:S-=.0125),y.push(q,m(((B-R)*E+M)*O-P),",",m(((F-I)*D+k)*O-P),",",m(((B+R)*E+M)*O-P),",",m(((F+I)*D+k)*O-P),",",m((V*E+M)*O-P),",",m((H*D+k)*O-P),",",m((S*E+M)*O-P),",",m((T*D+k)*O-P)),s=S,l=T;break;case g.R:var U=j[0],Z=j[1];U[0]=d[a++],U[1]=d[a++],Z[0]=U[0]+d[a++],Z[1]=U[1]+d[a++],e&&(n(U,U,e),n(Z,Z,e)),U[0]=m(U[0]*O-P),Z[0]=m(Z[0]*O-P),U[1]=m(U[1]*O-P),Z[1]=m(Z[1]*O-P),y.push(" m ",U[0],",",U[1]," l ",Z[0],",",U[1]," l ",Z[0],",",Z[1]," l ",U[0],",",Z[1]);break;case g.Z:y.push(" x ")}if(0<r){y.push(i);for(var X=0;X<r;X++){var Y=j[X];e&&n(Y,Y,e),y.push(m(Y[0]*O-P),",",m(Y[1]*O-P),X<r-1?",":"")}}}return y.join("")}(c,this.transform),r.style.zIndex=k(this.zlevel,this.z,this.z2),A(t,r),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},f.prototype.onRemove=function(t){M(t,this._vmlEl),this.removeRectText(t)},f.prototype.onAdd=function(t){A(t,this._vmlEl),this.appendRectText(t)},u.prototype.brushVML=function(t){var e,r,i,o=this.style,a=o.image;if("object"==typeof(i=a)&&i.tagName&&"IMG"===i.tagName.toUpperCase()){var s=a.src;if(s===this._imageSrc)e=this._imageWidth,r=this._imageHeight;else{var l=a.runtimeStyle,c=l.width,h=l.height;l.width="auto",l.height="auto",e=a.width,r=a.height,l.width=c,l.height=h,this._imageSrc=s,this._imageWidth=e,this._imageHeight=r}a=s}else a===this._imageSrc&&(e=this._imageWidth,r=this._imageHeight);if(a){var u=o.x||0,p=o.y||0,f=o.width,y=o.height,d=o.sWidth,g=o.sHeight,x=o.sx||0,b=o.sy||0,w=d&&g,O=this._vmlEl;O||(O=v.doc.createElement("div"),T(O),this._vmlEl=O);var P,L=O.style,M=!1,E=1,D=1;if(this.transform&&(P=this.transform,E=_(P[0]*P[0]+P[1]*P[1]),D=_(P[2]*P[2]+P[3]*P[3]),M=P[1]||P[2]),M){var z=[u,p],j=[u+f,p],B=[u,p+y],F=[u+f,p+y];n(z,z,P),n(j,j,P),n(B,B,P),n(F,F,P);var R=C(z[0],j[0],B[0],F[0]),I=C(z[1],j[1],B[1],F[1]),N=[];N.push("M11=",P[0]/E,",","M12=",P[2]/D,",","M21=",P[1]/E,",","M22=",P[3]/D,",","Dx=",m(u*E+P[4]),",","Dy=",m(p*D+P[5])),L.padding="0 "+m(R)+"px "+m(I)+"px 0",L.filter=S+".Matrix("+N.join("")+", SizingMethod=clip)"}else P&&(u=u*E+P[4],p=p*D+P[5]),L.filter="",L.left=m(u)+"px",L.top=m(p)+"px";var W=this._imageEl,G=this._cropEl;W||(W=v.doc.createElement("div"),this._imageEl=W);var V=W.style;if(w){if(e&&r)V.width=m(E*e*f/d)+"px",V.height=m(D*r*y/g)+"px";else{var H=new Image,q=this;H.onload=function(){H.onload=null,e=H.width,r=H.height,V.width=m(E*e*f/d)+"px",V.height=m(D*r*y/g)+"px",q._imageWidth=e,q._imageHeight=r,q._imageSrc=a},H.src=a}G||((G=v.doc.createElement("div")).style.overflow="hidden",this._cropEl=G);var U=G.style;U.width=m((f+x*f/d)*E),U.height=m((y+b*y/g)*D),U.filter=S+".Matrix(Dx="+-x*f/d*E+",Dy="+-b*y/g*D+")",G.parentNode||O.appendChild(G),W.parentNode!==G&&G.appendChild(W)}else V.width=m(E*f)+"px",V.height=m(D*y)+"px",O.appendChild(W),G&&G.parentNode&&(O.removeChild(G),this._cropEl=null);var Z="",X=o.opacity;X<1&&(Z+=".Alpha(opacity="+m(100*X)+") "),Z+=S+".AlphaImageLoader(src="+a+", SizingMethod=scale)",V.filter=Z,O.style.zIndex=k(this.zlevel,this.z,this.z2),A(t,O),null!=o.text&&this.drawRectText(t,this.getBoundingRect())}},u.prototype.onRemove=function(t){M(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},u.prototype.onAdd=function(t){A(t,this._vmlEl),this.appendRectText(t)};var B,F="normal",R={},I=0,N=document.createElement("div");s.$override("measureText",function(t,e){var r=v.doc;B||((B=r.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",v.doc.body.appendChild(B));try{B.style.font=e}catch(t){}return B.innerHTML="",B.appendChild(r.createTextNode(t)),{width:B.offsetWidth}});for(var W=new o,G=function(t,e,r,i){var o=this.style;this.__dirty&&l.normalizeTextStyle(o,!0);var a=o.text;if(null!=a&&(a+=""),a){if(o.rich){var c=s.parseRichText(a,o);a=[];for(var h=0;h<c.lines.length;h++){for(var u=c.lines[h].tokens,p=[],f=0;f<u.length;f++)p.push(u[f].text);a.push(p.join(""))}a=a.join("\n")}var y,d,g=o.textAlign,_=o.textVerticalAlign,x=function(t){var e=R[t];if(!e){100<I&&(I=0,R={});var r,i=N.style;try{i.font=t,r=i.fontFamily.split(",")[0]}catch(t){}e={style:i.fontStyle||F,variant:i.fontVariant||F,weight:i.fontWeight||F,size:0|parseFloat(i.fontSize||12),family:r||"Microsoft YaHei"},R[t]=e,I++}return e}(o.font),b=x.style+" "+x.variant+" "+x.weight+" "+x.size+'px "'+x.family+'"';r=r||s.getBoundingRect(a,b,g,_,o.textPadding,o.textLineHeight);var w=this.transform;if(w&&!i&&(W.copy(e),W.applyTransform(w),e=W),i)y=e.x,d=e.y;else{var C=o.textPosition,S=o.textDistance;if(C instanceof Array)y=e.x+E(C[0],e.width),d=e.y+E(C[1],e.height),g=g||"left";else{var O=s.adjustTextPositionOnRect(C,e,S);y=O.x,d=O.y,g=g||O.textAlign,_=_||O.textVerticalAlign}}y=s.adjustTextX(y,r.width,g),d=s.adjustTextY(d,r.height,_),d+=r.height/2;var P,L,M,D=v.createNode,j=this._textVmlEl;j?L=(P=(M=j.firstChild).nextSibling).nextSibling:(j=D("line"),P=D("path"),L=D("textpath"),M=D("skew"),L.style["v-text-align"]="left",T(j),P.textpathok=!0,L.on=!0,j.from="0 0",j.to="1000 0.05",A(j,M),A(j,P),A(j,L),this._textVmlEl=j);var B=[y,d],G=j.style;w&&i?(n(B,B,w),M.on=!0,M.matrix=w[0].toFixed(3)+","+w[2].toFixed(3)+","+w[1].toFixed(3)+","+w[3].toFixed(3)+",0,0",M.offset=(m(B[0])||0)+","+(m(B[1])||0),M.origin="0 0",G.left="0px",G.top="0px"):(M.on=!1,G.left=m(y)+"px",G.top=m(d)+"px"),L.string=String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;");try{L.style.font=b}catch(t){}z(j,"fill",{fill:o.textFill,opacity:o.opacity},this),z(j,"stroke",{stroke:o.textStroke,opacity:o.opacity,lineDash:o.lineDash},this),j.style.zIndex=k(this.zlevel,this.z,this.z2),A(t,j)}},V=function(t){M(t,this._textVmlEl),this._textVmlEl=null},H=function(t){A(t,this._textVmlEl)},q=[c,h,u,f,p],U=0;U<q.length;U++){var Z=q[U].prototype;Z.drawRectText=G,Z.removeRectText=V,Z.appendRectText=H}p.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},p.prototype.onRemove=function(t){this.removeRectText(t)},p.prototype.onAdd=function(t){this.appendRectText(t)}}},function(t,e,r){var i=r(30),n=r(114),o=r(3).each;function a(t){return parseInt(t,10)}function s(t,e){n.initVML(),this.root=t,this.storage=e;var r=document.createElement("div"),i=document.createElement("div");r.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",i.style.cssText="position:absolute;left:0;top:0;",t.appendChild(r),this._vmlRoot=i,this._vmlViewport=r,this.resize();var o=e.delFromStorage,a=e.addToStorage;e.delFromStorage=function(t){o.call(e,t),t&&t.onRemove&&t.onRemove(i)},e.addToStorage=function(t){t.onAdd&&t.onAdd(i),a.call(e,t)},this._firstPaint=!0}s.prototype={constructor:s,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,r=0;r<t.length;r++){var i=t[r];i.invisible||i.ignore?(i.__alreadyNotVisible||i.onRemove(e),i.__alreadyNotVisible=!0):(i.__alreadyNotVisible&&i.onAdd(e),i.__alreadyNotVisible=!1,i.__dirty&&(i.beforeBrush&&i.beforeBrush(),(i.brushVML||i.brush).call(i,e),i.afterBrush&&i.afterBrush())),i.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){if(t=null==t?this._getWidth():t,e=null==e?this._getHeight():e,this._width!==t||this._height!==e){this._width=t,this._height=e;var r=this._vmlViewport.style;r.width=t+"px",r.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||a(e.width))-a(e.paddingLeft)-a(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||a(e.height))-a(e.paddingTop)-a(e.paddingBottom)|0}},o(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){var e;s.prototype[t]=(e=t,function(){i('In IE8.0 VML mode painter not support method "'+e+'"')})});var l=s;t.exports=l},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(61),a=r(7),s=function(t){function e(e,r,i,n,a){void 0===r&&(r=1e3),void 0===i&&(i=15),void 0===n&&(n=2),void 0===a&&(a="#fff");var s=t.call(this,e)||this;return s.zrender=new o.Zrender(e).getData(),s.width=s.zrender.getWidth(),s.height=s.zrender.getHeight(),s.radius=i,s.timeOut=r,s.color=a,s.lineWidth=n,s}return n(e,t),e.prototype.setTime=function(t){this.timeOut=t},e.prototype.setRadius=function(t){this.radius=t},e.prototype.setLineWidth=function(t){this.lineWidth=t},e.prototype.setColor=function(t){this.color=t},e.prototype.animate=function(){var t=[],e=new a.Circle({scale:[.5,.5],shape:{cx:this.width,cy:this.height,r:this.radius},style:{fill:this.color,stroke:"none"}});this.zrender.add(e);for(var r=0;r<2;r++){var i=new a.Circle({scale:[.5,.5],shape:{cx:this.width,cy:this.height,r:this.radius},style:{fill:"none",stroke:this.color,lineWidth:this.lineWidth}});this.zrender.add(i),t.push(i)}t[0].animate("shape",!0).when(this.timeOut,{r:3*this.radius}).start(),t[0].animate("style",!0).when(this.timeOut,{opacity:0}).start(),t[1].animate("shape",!0).delay(this.timeOut/2).when(this.timeOut,{r:3*this.radius}).start(),t[1].animate("style",!0).delay(this.timeOut/2).when(this.timeOut,{opacity:0}).start()},e}(o.Zrender);e.PointEffectScatter=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(61),a=r(7),s=function(t){function e(e,r,i,n){void 0===r&&(r=.96),void 0===i&&(i=1),void 0===n&&(n=["#FFFFFF","#00FFFF"]);var a=t.call(this,e)||this;return a.zrender=new o.Zrender(e).getData(),a.width=a.zrender.getWidth(),a.height=a.zrender.getHeight(),a.trialLen=r,a.lineWidth=i,a.color=n,a}return n(e,t),e.prototype.setTrialLen=function(t){this.trialLen=t},e.prototype.setLineWidth=function(t){this.lineWidth=t},e.prototype.setColor=function(t){"object"==typeof t&&t.constructor==Array?this.color=t:this.color.push(t)},e.prototype.deawLine=function(t,e,r){var i=this.locate(t,e),n=i[0],o=i[1],s=i[2],l=i[3],c=new a.BezierCurve({shape:{x1:n,y1:s,x2:o,y2:l,cpx1:o/4,cpy1:0},style:{stroke:r,lineWidth:this.lineWidth}});this.zrender.add(c)},e.prototype.drawTrial=function(t,e,r,i){var n=this.locate(t,e),o=n[0],s=n[1],l=n[2],c=n[3],h=new a.BezierCurve({shape:{x1:o,y1:l,x2:s,y2:c,cpx1:s/4,cpy1:0},style:{stroke:r,lineWidth:this.lineWidth+1,shadowBlur:this.lineWidth,shadowColor:r,opacity:.6,lineDash:[10,this.width+this.height],lineDashOffset:10},zlevel:3});this.zrender.add(h),h.animate("style",!0).when(5e3,{lineDashOffset:-(this.width+this.height)}).start(),this.zrender.configLayer(3,{motionBlur:!0,lastFrameAlpha:i})},e.prototype.locate=function(t,e){var r,i,n=new Array,o=0,a=0;return r=t[0]<e[0]?(o=0,this.width):(o=this.width,0),i=t[1]<e[1]?(a=0,this.height):(a=this.height,0),n.push(o),n.push(r),n.push(a),n.push(i),n},e.prototype.animate=function(t,e){this.deawLine(t,e,this.color[0]),1<this.color.length?this.drawTrial(t,e,this.color[1],this.trialLen):this.drawTrial(t,e,this.color[0],this.trialLen)},e}(o.Zrender);e.LinesTrailEffect=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("grid",[{left:"10%",width:"35%"},{right:"10%",width:"35%"}]),this.config("xAxis",[{type:"value",inverse:!0,position:"top"},{type:"value",gridIndex:1,position:"top"}]),this.config("yAxis",[{type:"category",position:"right"},{type:"category",gridIndex:1,axisLabel:{show:!1}}]),this.config("series[1]",{type:"bar",myType:!0,xAxisIndex:1,yAxisIndex:1})},e}(r(0).EChart);e.DoubleBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.foShanStyle(),i}return n(e,t),e.prototype.foShanStyle=function(){this.config("tooltip",{trigger:"axis",textStyle:{color:"#fff",fontSize:10}}),this.config("xAxis",{nameTextStyle:{color:"#fff",fontSize:14},splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:"#eee"}},axisLabel:{color:"#ccc",fontSize:10},axisTick:{show:!1}}),this.config("yAxis",{nameTextStyle:{color:"#fff",fontSize:14},splitNumber:3,splitLine:{lineStyle:{color:"#eee"}},axisLine:{show:!1},axisLabel:{color:"#ccc",fontSize:10},axisTick:{show:!1}});var t=this.findAll().series[0];t.hasOwnProperty("myType")&&(t.myType=void 0),this.config("series[0]",JSON.parse(JSON.stringify(t))),this.config("series",[{type:"bar",itemStyle:{borderColor:"rgb(0,255,255)",shadowColor:"rgb(0,255,255)",shadowBlur:10,barBorderRadius:5,color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgb(0,255,255)"},{offset:1,color:"rgba(0,255,255,0)"}]}}},{type:"bar",itemStyle:{borderColor:"rgb(11,213,144)",shadowColor:"rgb(11,213,144)",shadowBlur:10,barBorderRadius:5,color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgb(11,213,144)"},{offset:1,color:"rgba(11,213,144,0)"}]}}},{type:"bar",itemStyle:{borderColor:"rgb(255,127,0)",shadowColor:"rgb(255,127,0)",shadowBlur:10,barBorderRadius:5,color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgb(255,127,0)"},{offset:1,color:"rgb(255,127,0)"}]}}}])},e}(r(0).EChart);e.MultiBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("grid",[{top:"10%",height:"40%"},{bottom:"10%",height:"40%"}]),this.config("xAxis",[{type:"category",axisLabel:{show:!1}},{type:"category",gridIndex:1}]),this.config("yAxis",[{},{type:"value",gridIndex:1,inverse:!0}]),this.config("series[1]",{type:"bar",myType:!0,xAxisIndex:1,yAxisIndex:1})},e}(r(0).EChart);e.OppositeBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.indexData=[],i.nameData=[],i.color=["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],i.init(),i.foShanStyle(),i}return n(e,t),e.prototype.init=function(){this.config("xAxis.type","value"),this.config("yAxis.type","category"),this.config("series[0]",{myType:!0,barWidth:3,barGap:2,label:{show:!0,position:"right",offset:[10,0]},itemStyle:{borderWidth:2},markPoint:{symbol:"circle",symbolSize:8,itemStyle:{symbolOffset:["50%",0],color:"white",borderWidth:1,shadowBlur:10}}})},e.prototype.foShanStyle=function(){this.config("xAxis",{splitLine:{show:!1},axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1}}),this.config("yAxis",{type:"category",splitLine:{show:!1},axisLine:{show:!1},axisLabel:{textStyle:{color:"white"}},axisTick:{show:!1}}),this.config("series[0].itemStyle.color","rgb(1,255,255)")},e.prototype.setHighLightBar=function(t){this.indexData[t]=t},e.prototype.setHighLightBarByName=function(t){this.nameData.push(t)},e.prototype.setData=function(e){var r=this.markPointData(e),i=e.get(0).getCount();-1<this.getCategoryIndex(e)&&(i-=1);var n=this.setIndexData(e);this.setUniqueConfig(n,r,i),t.prototype.setData.call(this,e)},e.prototype.markPointData=function(t){for(var e="category"==this.findAll().xAxis.type,r=this.getCategoryIndex(t),i=[],n=[],o=0;o<t.getCount();o++)e?n.push({xAxis:o}):n.push({yAxis:o});var a=t.get(0).getCount();for(0<=r&&(a-=1),o=0;o<a;o++)i.push(JSON.parse(JSON.stringify(n)));for(o=0;o<t.getCount();o++)for(var s=t.get(o),l=0,c=0;c<s.getCount();c++)r!=c&&(e?i[l][o].yAxis=s.get(c).value:i[l][o].xAxis=s.get(c).value,l++);return i},e.prototype.setIndexData=function(t){var e=this,r=-1,i=this.indexData;return this.nameData.forEach(function(n){-1<(r=e.getHighLightIndex(n,t))&&(i[r]=r)}),i},e.prototype.getHighLightIndex=function(t,e){for(var r=-1,i=this.getCategoryIndex(e),n=0;n<e.getCount();n++)if(e.get(n).get(i).value===t){r=n;break}return r},e.prototype.getCategoryIndex=function(t){for(var e=0;e<t.get(0).getCount();e++)if("string"==typeof t.get(0).get(e).value)return e;return-1},e.prototype.setUniqueConfig=function(t,e,r){var i=this.color,n=this.findAll();n.hasOwnProperty("color")&&(this.color=n.color),Array.isArray(this.color)||(i=[this.color]),0<t.length&&this.config("series[0].label.formatter",function(e){t[e.dataIndex]==e.dataIndex&&(e.data.itemStyle={borderWidth:3*n.series[0].itemStyle.borderWidth})});for(var o=0;o<r;o++){this.config("series["+o+"].markPoint.data",e[o]);var a=n.series[o];a.hasOwnProperty("itemStyle")&&a.itemStyle.hasOwnProperty("color")||this.config("series["+o+"].itemStyle.color",i[o%i.length]),a.hasOwnProperty("itemStyle")&&a.itemStyle.hasOwnProperty("borderColor")||(a.hasOwnProperty("itemStyle")&&a.itemStyle.hasOwnProperty("color")?this.config("series["+o+"].itemStyle.borderColor",a.itemStyle.color):this.config("series["+o+"].itemStyle.borderColor",i[o%i.length])),a.markPoint.hasOwnProperty("itemStyle")&&a.markPoint.itemStyle.hasOwnProperty("borderColor")||(a.hasOwnProperty("itemStyle")&&a.itemStyle.hasOwnProperty("color")?this.config("series["+o+"].markPoint.itemStyle.borderColor",a.itemStyle.color):this.config("series["+o+"].markPoint.itemStyle.borderColor",i[o%i.length])),a.markPoint.hasOwnProperty("itemStyle")&&a.markPoint.itemStyle.hasOwnProperty("shadowColor")||(a.hasOwnProperty("itemStyle")&&a.itemStyle.hasOwnProperty("color")?this.config("series["+o+"].markPoint.itemStyle.shadowColor",a.itemStyle.color):this.config("series["+o+"].markPoint.itemStyle.shadowColor",i[o%i.length]))}},e}(r(0).EChart);e.PointBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.init(),i.foShanStyle(),i}return n(e,t),e.prototype.setBorderLength=function(t){this.length=t},e.prototype.setBarWidth=function(t,e){this.barWidth=t,this.borderWidth=e},e.prototype.setData=function(e){this.setBorderSeries(e),t.prototype.setData.call(this,e)},e.prototype.init=function(){this.config("xAxis.type","value"),this.config("yAxis.type","category");var t=this.findAll().yAxis;this.config("yAxis[0]",JSON.parse(JSON.stringify(t))),this.config("yAxis[1]",JSON.parse(JSON.stringify(t))),this.config("yAxis[1].show",!1),this.config("series[1]",{type:"bar",myType:!1,yAxisIndex:1,z:0,silent:!0})},e.prototype.foShanStyle=function(){this.config("tooltip",{trigger:"axis",textStyle:{color:"#fff",fontSize:10}}),this.config("xAxis",{splitLine:{show:!1},axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1}}),this.config("yAxis",[{type:"category",splitLine:{show:!1},axisLine:{show:!1},axisLabel:{textStyle:{color:"white"}},axisTick:{show:!1}},{type:"category",splitLine:{show:!1},axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1}}]),this.config("series[0].itemStyle",{borderWidth:1,borderColor:"rgb(15,25,64)",color:{type:"linear",x:1,y:0,x2:0,y2:0,colorStops:[{offset:0,color:"rgb(1,241,241)"},{offset:1,color:"rgba(1,241,241,0)"}]}}),this.config("series[1].itemStyle",{borderColor:"rgb(0, 255, 255)",color:"rgba(0,0,0,0)",borderWidth:2})},e.prototype.setBorderSeries=function(t){this.barWidth&&this.config("series[0].barWidth",this.barWidth),this.borderWidth&&this.config("series[1].barWidth",this.borderWidth);for(var e=this.getDataSeriesCount(t),r=this.getBorderSeriesData(t),i=this.findAll().series[1],n=0;n<e;n++)this.config("series["+(2*n+1)+"]",JSON.parse(JSON.stringify(i))),this.config("series["+(2*n+1)+"].data",r)},e.prototype.getBorderSeriesData=function(t){var e,r=[];e=this.length?this.length:this.getMaxValue(t);for(var i=0;i<t.getCount();i++)for(var n=0;n<t.get(i).getCount();n++){var o=t.get(i).get(n);"string"==typeof o.value&&r.push({name:o.value,value:e})}return r},e.prototype.getMaxValue=function(t){for(var e=-1,r=0,i=0;i<t.getCount();i++)for(var n=0;n<t.get(i).getCount();n++){var o=t.get(i).get(n);"number"==typeof o.value&&(-1==e&&(e=i,r=o.value),r<o.value&&(r=o.value))}return r},e.prototype.getDataSeriesCount=function(t){for(var e=0,r=0;r<t.get(0).getCount();r++)"number"==typeof t.get(0).get(r).value&&e++;return e},e}(r(0).EChart);e.VBorderBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.init(),i.foShanStyle(),i}return n(e,t),e.prototype.init=function(){this.config("xAxis.type","value"),this.config("yAxis.type","category"),this.config("series[0].stack","a")},e.prototype.foShanStyle=function(){this.config("xAxis",{axisLine:{lineStyle:{color:"rgb(18,96,148)"}},axisTick:{show:!1},axisLabel:{color:"#ccc",fontSize:10},splitLine:{show:!1}}),this.config("yAxis",{axisLine:{lineStyle:{color:"rgb(18,96,148)"}},axisTick:{show:!1},axisLabel:{color:"#ccc",fontSize:10}}),this.config("legend",{textStyle:{color:"white"}}),this.config("series[0]",{barWidth:15,itemStyle:{barBorderRadius:[10,10,10,10]}})},e}(r(0).EChart);e.VStackBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.init(),i.foShanStyle(),i}return n(e,t),e.prototype.setData=function(e){this.config("series[0].data",this.setBgData(e)),t.prototype.setData.call(this,e)},e.prototype.init=function(){this.config("xAxis.type","value"),this.config("yAxis.type","category");var t=this.findAll().yAxis;this.config("yAxis[0]",JSON.parse(JSON.stringify(t))),this.config("yAxis[1]",JSON.parse(JSON.stringify(t))),this.config("yAxis[1].show",!1),this.config("series[0]",{myType:!1,silent:!0,yAxisIndex:1,barWidth:16,itemStyle:{color:"rgba(0,0,0,0)",borderColor:"#c23531",borderWidth:2}}),this.config("series[1]",{type:"bar",myType:!0,stack:"a",barWidth:12})},e.prototype.foShanStyle=function(){this.config("xAxis",{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}}),this.config("yAxis[0]",{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#ccc",fontSize:10}}),this.config("legend",{textStyle:{color:"white"}}),this.config("series[0].itemStyle.borderColor","rgb(0,255,255)"),this.config("series[1].itemStyle",{borderWidth:1,borderColor:"rgb(15,25,64)"})},e.prototype.setBgData=function(t){for(var e=[],r=0;r<t.getCount();r++){for(var i=0,n=t.get(r),o=0;o<n.getCount();o++){var a=n.get(o);"number"==typeof a.value&&(i+=a.value)}e.push(i)}return e},e}(r(0).EChart);e.VStackBorderBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("xAxis.type","value"),this.config("yAxis.type","category")},e}(r(0).EChart);e.VBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0].stack","a")},e.prototype.setData=function(e){var r=this.getSum(e);this.setUniqueConfig(r),t.prototype.setData.call(this,e)},e.prototype.getSum=function(t){for(var e=0,r=0;r<t.getCount();r++)for(var i=t.get(r),n=0;n<i.getCount();n++){var o=i.get(n).value;"number"==typeof o&&(e+=o)}return e},e.prototype.setUniqueConfig=function(t){var e=this.findAll().title;if(e&&e.hasOwnProperty("text")){var r=e.text;"string"==typeof r&&(r=r.replace(/{sum}/g,t),this.config("title.text",r))}},e}(r(0).EChart);e.StackBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"pictorialBar",symbol:"rect",symbolRepeat:!0,symbolSize:14,barGap:0})},e}(r(0).EChart);e.PicBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("grid",[{left:"10%",width:"40%"},{right:"10%",width:"40%"}]),this.config("xAxis",[{type:"value",inverse:!0},{type:"value",gridIndex:1}]),this.config("yAxis",[{type:"category"},{type:"category",gridIndex:1,axisLabel:{show:!1}}]),this.config("series[1]",{type:"bar",myType:!0,xAxisIndex:1,yAxisIndex:1})},e}(r(0).EChart);e.VOppositeBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.indexData=[],i.nameData=[],i.color=["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],i.init(),i.foShanStyle(),i}return n(e,t),e.prototype.init=function(){this.config("xAxis.type","value"),this.config("yAxis.type","category"),this.config("series[0]",{myType:!0,barWidth:3,barGap:2,label:{show:!0,position:"right",offset:[10,0]},itemStyle:{borderWidth:2},markPoint:{symbol:"circle",symbolSize:8,itemStyle:{symbolOffset:["50%",0],color:"white",borderWidth:1,shadowBlur:10}}})},e.prototype.foShanStyle=function(){this.config("xAxis",{splitLine:{show:!1},axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1}}),this.config("yAxis",{type:"category",splitLine:{show:!1},axisLine:{show:!1},axisLabel:{textStyle:{color:"white"}},axisTick:{show:!1}}),this.config("series[0].itemStyle.color","rgb(1,255,255)")},e.prototype.setHighLightBar=function(t){this.indexData[t]=t},e.prototype.setHighLightBarByName=function(t){this.nameData.push(t)},e.prototype.setData=function(e){var r=this.markPointData(e),i=e.get(0).getCount();-1<this.getCategoryIndex(e)&&(i-=1);var n=this.setIndexData(e);this.setUniqueConfig(n,r,i),t.prototype.setData.call(this,e)},e.prototype.markPointData=function(t){for(var e="category"==this.findAll().xAxis.type,r=this.getCategoryIndex(t),i=[],n=[],o=0;o<t.getCount();o++)e?n.push({xAxis:o}):n.push({yAxis:o});var a=t.get(0).getCount();for(0<=r&&(a-=1),o=0;o<a;o++)i.push(JSON.parse(JSON.stringify(n)));for(o=0;o<t.getCount();o++)for(var s=t.get(o),l=0,c=0;c<s.getCount();c++)r!=c&&(e?i[l][o].yAxis=s.get(c).value:i[l][o].xAxis=s.get(c).value,l++);return i},e.prototype.setIndexData=function(t){var e=this,r=-1,i=this.indexData;return this.nameData.forEach(function(n){-1<(r=e.getHighLightIndex(n,t))&&(i[r]=r)}),i},e.prototype.getHighLightIndex=function(t,e){for(var r=-1,i=this.getCategoryIndex(e),n=0;n<e.getCount();n++)if(e.get(n).get(i).value===t){r=n;break}return r},e.prototype.getCategoryIndex=function(t){for(var e=0;e<t.get(0).getCount();e++)if("string"==typeof t.get(0).get(e).value)return e;return-1},e.prototype.setUniqueConfig=function(t,e,r){var i=this.color,n=this.findAll();n.hasOwnProperty("color")&&(this.color=n.color),Array.isArray(this.color)||(i=[this.color]),0<t.length&&this.config("series[0].label.formatter",function(e){t[e.dataIndex]==e.dataIndex&&(e.data.itemStyle={borderWidth:3*n.series[0].itemStyle.borderWidth})});for(var o=0;o<r;o++){this.config("series["+o+"].markPoint.data",e[o]);var a=n.series[o];a.hasOwnProperty("itemStyle")&&a.itemStyle.hasOwnProperty("color")||this.config("series["+o+"].itemStyle.color",i[o%i.length]),a.hasOwnProperty("itemStyle")&&a.itemStyle.hasOwnProperty("borderColor")||(a.hasOwnProperty("itemStyle")&&a.itemStyle.hasOwnProperty("color")?this.config("series["+o+"].itemStyle.borderColor",a.itemStyle.color):this.config("series["+o+"].itemStyle.borderColor",i[o%i.length])),a.markPoint.hasOwnProperty("itemStyle")&&a.markPoint.itemStyle.hasOwnProperty("borderColor")||(a.hasOwnProperty("itemStyle")&&a.itemStyle.hasOwnProperty("color")?this.config("series["+o+"].markPoint.itemStyle.borderColor",a.itemStyle.color):this.config("series["+o+"].markPoint.itemStyle.borderColor",i[o%i.length])),a.markPoint.hasOwnProperty("itemStyle")&&a.markPoint.itemStyle.hasOwnProperty("shadowColor")||(a.hasOwnProperty("itemStyle")&&a.itemStyle.hasOwnProperty("color")?this.config("series["+o+"].markPoint.itemStyle.shadowColor",a.itemStyle.color):this.config("series["+o+"].markPoint.itemStyle.shadowColor",i[o%i.length]))}},e}(r(0).EChart);e.VPointBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(0);r(71);var a=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("xAxis",void 0),this.config("yAxis",void 0),this.config("grid3D",{}),this.config("xAxis3D.type","category"),this.config("yAxis3D.type","category"),this.config("zAxis3D",{}),this.config("series[0]",{type:"bar3D",myType:!0,shading:"realistic"})},e.prototype.setData=function(e){this.setUniqueConfig(this.getSeriesData(e)),t.prototype.setData.call(this,e)},e.prototype.setUniqueConfig=function(t){for(var e=0;e<t.name.length;e++)this.config("series["+e+"]",{data:t.value[e],name:t.name[e]})},e.prototype.getSeriesData=function(t){for(var e=[],r=[],i=0;i<t.getCount();i++)for(var n=t.get(i),o=[],a=0;a<n.getCount();a++){var s=t.get(i).get(a);a<2?o.push(s.value):(e.hasOwnProperty(a-2)||(e[a-2]=[]),r.hasOwnProperty(a-2)||(null!=s.alias?r.push(s.alias):r.push(s.name)),e[a-2].push([o[0],o[1],s.value]))}return{name:r,value:e}},e}(o.EChart);e.ThreeDBarChart=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("xAxis.type","value"),this.config("yAxis.type","category"),this.config("series[0]",{type:"pictorialBar",symbol:"rect",symbolRepeat:!0,symbolSize:14,symbolClip:!0})},e.prototype.setData=function(e){this.setUniqueConfig(e.get(0).getCount()-1),t.prototype.setData.call(this,e)},e.prototype.setUniqueConfig=function(t){for(var e=0;e<t;e++)this.config("series["+e+"].z",t-e)},e}(r(0).EChart);e.VUnstackPicBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("legend",{show:!1}),this.config("series[0].myType",void 0),this.config("series[0]",{symbol:"path://M0 0,L5 0.5,L10 0,L10 9.5,L5 10,L0 9.5",type:"pictorialBar"}),this.config("series[1]",{type:"pictorialBar",symbol:"diamond",symbolSize:["100%","10%"],symbolPosition:"end",symbolOffset:["0%","-50%"]})},e}(r(0).EChart);e.BasicThreeDBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("legend",{show:!1}),this.config("series[0]",{myType:!1,type:"pictorialBar",symbol:"diamond",symbolSize:["100%","11%"],symbolPosition:"end",symbolOffset:["0%","-50%"]}),this.config("series[1]",{myType:!0,symbol:"path://M0 0,L5 0.5,L10 0,L10 9.5,L5 10,L0 9.5",type:"pictorialBar",symbolSize:["100%","100%"]})},e.prototype.setBarWidth=function(t){this.config("series[0].symbolSize[0]",t),this.config("series[1].symbolSize[0]",t)},e.prototype.setData=function(e){for(var r=0;r<e.getCount();r++)for(var i=1;i<e.get(r).getCount();i++)i<e.get(r).getCount()-1&&(e.get(r).get(i+1).value=e.get(r).get(i).value+e.get(r).get(i+1).value);var n=e.get(0).getCount();for(r=1;r<n;r++)this.config("series["+r+"]",{encode:{y:r}}),this.config("series["+r+"].z",n-r),r==n-1&&this.config("series[0]",{encode:{y:r}});t.prototype.setData.call(this,e)},e}(r(0).EChart);e.StackThreeDBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),a=r(18),s=r(39),l=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("legend.show",!1),this.config("xAxis",{type:"value",splitLine:{show:!1},axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1}}),this.config("yAxis",{type:"category",splitLine:{show:!1},axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1}}),this.config("series[0]",{myType:void 0,barWidth:3,barGap:2,stack:"barChart",z:3,label:{show:!0,position:"insideLeft",offset:[-5,-17],color:"white",fontSize:14,formatter:function(t){return t.name}},itemStyle:{color:"rgb(67,210,220)"}}),this.config("series[1]",{type:"bar",stack:"barChart",itemStyle:{color:"rgb(0,52,72)"}})},e.prototype.setData=function(e){var r=this.setNewData(e);t.prototype.setData.call(this,r)},e.prototype.setNewData=function(t){for(var e=[],r=new a.ChartData,i=0;i<t.getCount();i++)e.push(t.get(i).get(1).value);for(var n=Array.from(new Set(e)),o=n.sort(function(t,e){return t-e}),l=0;l<n.length;l++)for(i=0;i<t.getCount();i++)o[l]==t.get(i).get(1).value&&(t.get(i).get(0).value="NO."+(n.length-l)+" "+t.get(i).get(0).value,r.addItem(t.get(i)));var c=r.getCount(),h=r.get(c-1).get(1).value;for(i=0;i<r.getCount();i++){var u=new s.ChartEntry;u.name="newName",u.value=h-r.get(i).get(1).value,r.get(i).addEntry(u)}return r},e}(o.EChart);e.VCarouselBarChart=l},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("legend",{right:"20%",color:"white"}),this.config("grid",[{left:"10%",width:"32%"},{right:"10%",width:"32%"}]),this.config("xAxis",[{type:"value",inverse:!0,position:"top",splitLine:{show:!1},axisLine:{show:!1},axisLabel:{color:"rgb(124,126,135)"},axisTick:{show:!1}},{type:"value",gridIndex:1,position:"top",splitLine:{show:!1},axisLine:{show:!1},axisLabel:{color:"rgb(124,126,135)"},axisTick:{show:!1}}]),this.config("yAxis",[{type:"category",position:"right",axisLabel:{align:"center",margin:40,color:"rgb(124,126,135)",fontSize:14},splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1}},{type:"category",gridIndex:1,axisLabel:{show:!1},splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1}}]),this.config("series[0]",{type:"bar",itemStyle:{color:"rgb(101,159,131)"}}),this.config("series[1]",{type:"bar",myType:!0,xAxisIndex:1,yAxisIndex:1,itemStyle:{color:"rgb(246,137,137)"}})},e}(r(0).EChart);e.VTwoWayBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"LineChart",r)||this;return i.foShanStyle(),i}return n(e,t),e.prototype.foShanStyle=function(){this.config("xAxis",{boundaryGap:!1,splitLine:{show:!0,lineStyle:{type:"dashed"}},axisTick:{lineStyle:{color:"white"}},axisLine:{lineStyle:{color:"#CCCCCC"}},axisLabel:{color:"white"}}),this.config("yAxis",{splitLine:{show:!0,lineStyle:{type:"dashed"}},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"white"}}),this.config("series[0]",{type:"line",smooth:.3,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0,0,255,1)"},{offset:1,color:"rgba(0,0,255,0)"}]},opacity:.1},symbol:"circle",symbolSize:8,itemStyle:{color:"black",borderColor:"rgb(0,255,255)",shadowBlur:20,shadowColor:"rgba(0,0,255,1)"},lineStyle:{color:"rgb(0,255,255)"}})},e}(r(0).EChart);e.LineAreaBlurChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"LineChart",r)||this;return i.foShanStyle(),i}return n(e,t),e.prototype.foShanStyle=function(){this.config("legend",{top:"bottom",textStyle:{color:"white"}}),this.config("xAxis",{boundaryGap:!1,splitLine:{show:!1},axisTick:{show:!1},axisLine:{lineStyle:{color:"rgb(20,96,147)"}},axisLabel:{color:"white"}}),this.config("yAxis",{splitNumber:3,splitLine:{show:!0,lineStyle:{color:"rgb(20,96,147)"}},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"white"}}),this.config("series[0]",{smooth:.3,areaStyle:{opacity:.1},symbol:"circle",symbolSize:10})},e}(r(0).EChart);e.LineAreaChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){return t.call(this,e,"LineChart",r)||this}return n(e,t),e}(r(0).EChart);e.BasicLineChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"LineChart",r)||this;return i.init(),i.foShanStyle(),i}return n(e,t),e.prototype.init=function(){this.config("series[0].areaStyle",{}),this.config("xAxis.boundaryGap",!1)},e.prototype.foShanStyle=function(){this.config("legend",{top:"bottom",textStyle:{color:"white"}}),this.config("xAxis",{boundaryGap:!1,splitLine:{show:!1},axisTick:{show:!1},axisLine:{lineStyle:{color:"rgb(20,96,147)"}},axisLabel:{color:"white"}}),this.config("yAxis",{splitNumber:3,splitLine:{show:!0,lineStyle:{color:"rgb(20,96,147)"}},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"white"}}),this.config("series[0]",{smooth:.3,areaStyle:{opacity:.1},symbol:"circle",symbolSize:10})},e}(r(0).EChart);e.AreaLineChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"LineChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0]",{areaStyle:{},stack:"a"}),this.config("xAxis.boundaryGap",!1)},e}(r(0).EChart);e.StackAreaLineChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"LineChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0]",{step:"start"})},e}(r(0).EChart);e.StepLineChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.init(),i.foShanStyle(),i}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"pictorialBar",myType:!0,symbol:"roundRect",symbolRepeat:!0,symbolSize:[40,8]})},e.prototype.foShanStyle=function(){this.config("xAxis",{axisLine:{lineStyle:{color:"rgb(18,96,148)"}},axisTick:{show:!1},axisLabel:{color:"#ccc",fontSize:10}}),this.config("yAxis",{axisLine:{lineStyle:{color:"rgb(18,96,148)"}},axisTick:{show:!1},axisLabel:{color:"#ccc",fontSize:10}})},e.prototype.setData=function(e){var r=this.setNewData(e),i=e.get(0).getCount()-1;this.setUniqueConfig(i),t.prototype.setData.call(this,r)},e.prototype.setNewData=function(t){for(var e=0;e<t.getCount();e++)for(var r=0;r<t.get(0).getCount();r++)1<r&&(t.get(e).get(r).value+=t.get(e).get(r-1).value);return t},e.prototype.setUniqueConfig=function(t){var e=this;this.config("tooltip.formatter",function(t){var r="";if(Array.isArray(t)){r+=t[0].name;var i=e.setParamsData(t[0].data);t.forEach(function(t,e){r+="<br>"+t.marker+t.seriesName+":"+i[e]})}else{var n=0,o=t.componentIndex,a=t.data,s=Object.keys(t.data);0<o?n=a[s[o+1]]-a[s[o]]:0==o&&(n=a[s[o+1]]),r=t.seriesName+"<br>"+t.marker+t.name+":"+n}return r});for(var r=0;r<t;r++)this.config("series["+r+"].z",t-r)},e.prototype.setParamsData=function(t){for(var e=[],r=Object.keys(t),i=r.length-2,n=r.length-1;0<n;n--)e[i]=1==n?t[r[n]]:t[r[n]]-t[r[n-1]],i--;return e},e}(r(0).EChart);e.StackPicBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"PieChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0].myType",!0)},e.prototype.setData=function(e){var r=e.get(0).getCount();-1<this.getCategoryIndex(e)&&(r-=1),this.setUniqueConfig(r),t.prototype.setData.call(this,e)},e.prototype.getCategoryIndex=function(t){for(var e=0;e<t.get(0).getCount();e++)if("string"==typeof t.get(0).get(e).value)return e;return-1},e.prototype.setUniqueConfig=function(t){for(var e=Math.floor(100/(t+3)+.5),r=0,i=[],n=this.findAll().series;r<t;)this.config("series["+r+"].encode",{value:r+1,itemName:0}),i=n[r].hasOwnProperty("radius")?n[r].radius:0==r?["0%",(r+2)*e+"%"]:[(r+1.5)*e+"%",(r+2)*e+"%"],this.config("series["+r+"].radius",i),r++},e}(r(0).EChart);e.RingCakePieChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"ScatterChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0].myType",!0)},e}(r(0).EChart);e.BasicScatterChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"ComChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0].type","scatter"),this.config("series[1]",{areaStyle:{},label:{show:!0,position:"top"}})},e}(r(0).EChart);e.AreaScatterChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"ScatterChart",r)||this;return i.colorName=null,i.sizeName=null,i.rate=null,i.infoName=null,i}return n(e,t),e.prototype.setColorByName=function(t){this.colorName=t},e.prototype.setSizeByName=function(t,e){this.sizeName=t,this.rate=e},e.prototype.setInfoByName=function(t){this.infoName=t},e.prototype.setData=function(e){this.setColorRange(e),this.setUniqueConfig(),t.prototype.setData.call(this,e)},e.prototype.setColorRange=function(t){if(this.colorName){var e=!0,r=0,i=0,n=0,o=this.getDataIndexByName(this.colorName,t);this.config("visualMap.dimension",o);for(var a=JSON.parse(JSON.stringify(this.findAll())),s=0;s<t.getCount();s++)for(var l=t.get(s),c=0;l.getCount();c++){var h=l.get(c);if(h.name==this.colorName){n=h.value,e?(e=!1,i=r=n):(r<n&&(r=n),n<i&&(i=n));break}}a.visualMap.hasOwnProperty("show")||this.config("visualMap.show",!1),a.visualMap.hasOwnProperty("min")||this.config("visualMap.min",i),a.visualMap.hasOwnProperty("max")||this.config("visualMap.max",r)}},e.prototype.setUniqueConfig=function(){var t=JSON.parse(JSON.stringify(this.findAll())),e=this;if(this.sizeName){var r=1;this.rate&&(r=this.rate),t.series[0].hasOwnProperty("symbolSize")||this.config("series[0].symbolSize",function(t){return t[e.sizeName]*r})}this.infoName&&(!t.series[0].hasOwnProperty("label")||t.series[0].hasOwnProperty("label")&&!t.series[0].label.hasOwnProperty("formatter"))&&this.config("series[0].label.formatter",function(t){return t.data[e.infoName]})},e.prototype.getDataIndexByName=function(t,e){for(var r=-1,i=0;i<e.get(0).getCount();i++)if(e.get(0).get(i).name==t){r=i;break}return r},e}(r(0).EChart);e.ComplexScatterChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(0);r(71);var a=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("xAxis",void 0),this.config("yAxis",void 0),this.config("grid3D",{}),this.config("xAxis3D.type","category"),this.config("yAxis3D.type","category"),this.config("zAxis3D",{}),this.config("series[0]",{type:"scatter3D",myType:!0,shading:"realistic"})},e.prototype.setData=function(e){this.setUniqueConfig(this.getSeriesData(e)),t.prototype.setData.call(this,e)},e.prototype.setUniqueConfig=function(t){for(var e=0;e<t.name.length;e++)this.config("series["+e+"]",{data:t.value[e],name:t.name[e]})},e.prototype.getSeriesData=function(t){for(var e=[],r=[],i=0;i<t.getCount();i++)for(var n=t.get(i),o=[],a=0;a<n.getCount();a++){var s=t.get(i).get(a);a<2?o.push(s.value):(e.hasOwnProperty(a-2)||(e[a-2]=[]),r.hasOwnProperty(a-2)||(null!=s.alias?r.push(s.alias):r.push(s.name)),e[a-2].push([o[0],o[1],s.value]))}return{name:r,value:e}},e}(o.EChart);e.ThreeDScatterChart=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"ComChart",r)||this;return i.init(),i.foShanStyle(),i}return n(e,t),e.prototype.init=function(){this.config("series[0].label",{show:!0,position:"top"})},e.prototype.foShanStyle=function(){this.config("tooltip",{trigger:"axis",textStyle:{color:"#fff",fontSize:10}}),this.config("xAxis",{nameTextStyle:{color:"#fff",fontSize:14},splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:"#eee"}},axisLabel:{color:"#ccc",fontSize:10},axisTick:{show:!1}}),this.config("yAxis[0]",{nameTextStyle:{color:"#fff",fontSize:14},splitLine:{color:"#eee"},axisLine:{show:!1},axisLabel:{color:"#ccc",fontSize:10},axisTick:{show:!1}}),this.config("yAxis[1]",{nameTextStyle:{color:"#fff",fontSize:14},splitLine:{color:"#eee"},axisLine:{show:!1},axisLabel:{color:"#ccc",fontSize:10},axisTick:{show:!1}}),this.config("series[1].symbol","circle")},e}(r(0).EChart);e.LineBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"ComChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[1].areaStyle",{}),this.config("series[0].label",{show:!0,position:"top"})},e}(r(0).EChart);e.AreaBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"ComChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0].type","line"),this.config("series[1]",{type:"pictorialBar",symbol:"rect",symbolRepeat:!0,symbolSize:14,barGap:0,label:{show:!0,position:"top"}})},e}(r(0).EChart);e.LinePicBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"UniqueChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0].type","heatmap"),this.config("xAxis.type","category"),this.config("yAxis.type","category"),this.config("visualMap",{})},e}(r(0).EChart);e.BasicHeatmapChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"UniqueChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0].type","funnel"),this.config("legend",{})},e}(r(0).EChart);e.BasicFunnelChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"UniqueChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"bar",myType:!0,coordinateSystem:"polar"}),this.config("legend",{}),this.config("angleAxis.type","category"),this.config("radiusAxis",{z:10}),this.config("polar",{})},e}(r(0).EChart);e.BasicPolarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"UniqueChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"bar",myType:!0,coordinateSystem:"polar",stack:"a"}),this.config("legend",{}),this.config("angleAxis.type","category"),this.config("radiusAxis",{z:10}),this.config("polar",{})},e}(r(0).EChart);e.StackPolarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"UniqueChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"bar",myType:!0,coordinateSystem:"polar"}),this.config("legend",{}),this.config("angleAxis",{}),this.config("radiusAxis",{z:10,type:"category"}),this.config("polar",{})},e}(r(0).EChart);e.VPolarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"UniqueChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"bar",myType:!0,coordinateSystem:"polar",stack:"a"}),this.config("legend",{}),this.config("angleAxis",{}),this.config("radiusAxis",{z:10,type:"category"}),this.config("polar",{})},e}(r(0).EChart);e.VStackPolarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"UniqueChart",r)||this;return i.foShanStyle(),i}return n(e,t),e.prototype.foShanStyle=function(){this.config("series[0]",{startAngle:180,endAngle:0,radius:"60%",title:{show:!1},detail:{color:"white"},axisTick:{length:20,lineStyle:{width:2,color:"rgb(15,25,64)"}},splitLine:{show:!1},axisLabel:{color:"whtie"},pointer:{width:3},itemStyle:{color:"rgb(17,197,203)"},axisLine:{lineStyle:{width:20,color:[[1,{type:"linear",x:0,y:0,x1:1,y1:0,colorStops:[{offset:0,color:"green"},{offset:1,color:"red"}]}]]}}})},e.prototype.setData=function(e){var r=[{name:e.get(0).get(0).value,value:e.get(0).get(1).value}];this.config("series[0].data",r),t.prototype.setData.call(this,e)},e}(r(0).EChart);e.BasicGaugeChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),a=r(18),s=r(38),l=function(t){function e(e,r){var i=t.call(this,e,"UniqueChart",r)||this;return i.init(),i.foShanStyle(),i}return n(e,t),e.prototype.init=function(){this.config("radar",{}),this.config("series[0]",{type:"radar",myType:!0})},e.prototype.foShanStyle=function(){this.config("backgroundColor","#084483"),this.config("radar",{splitNumber:4,name:{color:"white"},axisLine:{show:!1},splitLine:{lineStyle:{color:"#537289"}},splitArea:{areaStyle:{color:["#105477","#012E58"]}}}),this.config("series[0]",{lineStyle:{color:"rgb(1,241,241)",width:2,shadowBlur:10,shadowColor:"white"},label:{show:!0,color:"rgb(1,241,241)"},itemStyle:{color:"rgba(0,0,0,0)"},areaStyle:{color:{type:"radial",x:.5,y:.5,r:.5,colorStops:[{offset:0,color:"rgba(1,241,241,0)"},{offset:1,color:"rgba(1,241,241,0.8)"}]}}})},e.prototype.setData=function(e){this.setUniqueConfig(e);var r=this.setNewData(e);t.prototype.setData.call(this,r)},e.prototype.setNewData=function(t){for(var e=new a.ChartData,r=0;r<t.getCount();r++){for(var i=new s.ChartItem,n=0;n<t.get(0).getCount()-1;n++)i.addEntry(t.get(r).get(n));e.addItem(i)}return e},e.prototype.setUniqueConfig=function(t){for(var e=this,r=[],i=[],n=0;n<t.getCount();n++)for(var o=0,a=t.get(n),s=0;s<a.getCount();s++){var l=a.get(s);0==s?r.push({name:l.value}):s==a.getCount()-1?r[n].max=l.value:(i[o]||(i[o]={},i[o].value=[],l.alias&&(i[o].name=l.alias)),i[o].value[n]=l.value,o++)}this.config("radar.indicator",r),i.forEach(function(t,r){e.config("series["+r+"].data",[i[r]])})},e}(o.EChart);e.BasicRadarChart=l},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(0);r(49);var a=function(t){function e(e,r){var i=t.call(this,e,"UniqueChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0].type","liquidFill")},e.prototype.setData=function(e){this.setUniqueConfig(e),t.prototype.setData.call(this,e)},e.prototype.setUniqueConfig=function(t){var e=[],r=this.getSum(t),i=!1;1<t.get(0).get(1).value&&(i=!0);for(var n=0;n<t.getCount();n++){var o=t.get(n);e.push({name:o.get(0).value,value:o.get(1).value}),i&&(e[n].value=o.get(1).value/r)}this.config("series[0].data",e)},e.prototype.getSum=function(t){for(var e=0,r=0;r<t.getCount();r++)e+=t.get(r).get(1).value;return e},e}(o.EChart);e.BasicLiquidFillChart=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"UniqueChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("legend",{}),this.config("series[0]",{type:"graph",layout:"circular",roam:!0,focusNodeAdjacency:!0})},e.prototype.setCategroyById=function(t,e){this.id=t,this.categoryValue=e},e.prototype.setData=function(e){this.setUniqueConfig(e),this.setLegend(e),t.prototype.setData.call(this,e)},e.prototype.setUniqueConfig=function(t){for(var e=[],r=[],i=null,n=null,o=null,a=null,s=0;s<t.getCount();s++){var l=t.get(s);i=l.get(0).value,n=l.get(2).value,o=l.get(3).value,e.push({name:i,value:l.get(1).value}),Array.isArray(n)?(a={source:i},n.forEach(function(t,e){a.target=t,Array.isArray(o)?a.value=o[e%o.length]:a.value=o,r.push(JSON.parse(JSON.stringify(a)))})):r.push({source:i,target:n,value:o})}this.nodes=e,this.config("series[0]",{data:e,links:r})},e.prototype.setLegend=function(t){var e=this.id,r=JSON.parse(JSON.stringify(this.nodes)),i=this.categoryValue,n=[],o=-1,a=-1,s=-1;if(e<t.get(0).getCount()){for(var l=0;l<t.getCount();l++)a<(s=t.get(l).get(e).value)&&(a=s);for(l=0;l<t.getCount();l++)o=t.get(l).get(e).value,r[l].category=o;i.forEach(function(t){n.push({name:t})}),this.config("series[0].data",r),this.config("series[0].categories",n)}},e}(r(0).EChart);e.BasicGraphChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),a=r(7);r(49);var s=function(t){function e(e,r){var i=t.call(this,e,"UniqueChart",r)||this;return i.color="rgba(194,53,49,",i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"liquidFill",radius:"80%",silent:!0,outline:{show:!0,borderDistance:0,itemStyle:{borderWidth:20,shadowBlur:5}},backgroundStyle:{itemStyle:{shadowBlur:10}},wavelength:"150%",amplitude:"4%",itemStyle:{shadowBlur:0}}),this.config("animationDurationUpdate",500),this.config("period",1500)},e.prototype.setColorByRGBA=function(t){this.color=t.replace(")",",")},e.prototype.setData=function(e){var r=this.color,i=this.setNewData(e,r);this.configLiquidSeries(r),this.configBubble(i),t.prototype.setData.call(this,e)},e.prototype.setNewData=function(t,e){var r=t.asArray()[0],i=r[Object.keys(r)[0]],n=r[Object.keys(r)[1]];1<n&&(n/=100);var o=[{name:i,value:n,phase:Math.PI/2,silent:!0,itemStyle:{color:e+"0.5)"}},{name:i,value:n-.05,phase:0,amplitude:"2%",silent:!1,itemStyle:{color:{type:"linear",x:0,y:1,x2:0,y2:0,colorStops:[{offset:0,color:e+"1)"},{offset:.3,color:e+"1)"},{offset:1,color:"rgba(0,0,0,0)"}]}}}];return this.config("series[0].data",o),n},e.prototype.configBubble=function(t){for(var e=this.findAll().series[0].radius,r=this.getZr(),i=r.getWidth(),n=r.getHeight(),o=Math.min(i,n),s=e.includes("%")?e.replace("%","")/100*o/2:e,l=i/2,c=0,h=0,u=0;u<7;u++){c=4*Math.random()+1,h=1e3*Math.random()+1500;var p=new a.Circle({shape:{cx:i/2,cy:n/2+s-5,r:c},style:{stroke:"#CCC",fill:"none",lineWidth:1},zlevel:1});r.add(p),p.animate("style",!0).delay(h).when(1500,{opacity:.2,lineWidth:.5}).start(),0!=u&&(l=u%2==0?i/2-s/10*(u-3):i/2+s/10*u),p.animate("shape",!0).delay(h).when(1500,{cx:l,cy:n/2+s-t*s*2,r:2*c}).start()}},e.prototype.configLiquidSeries=function(t){var e=this.findAll().series[0];e.outline.itemStyle.hasOwnProperty("borderColor")||this.config("series[0].outline.itemStyle.borderColor",t+"0.1)"),e.outline.itemStyle.hasOwnProperty("shadowColor")||this.config("series[0].outline.itemStyle.shadowColor",t+"1)"),e.backgroundStyle.hasOwnProperty("color")||this.config("series[0].backgroundStyle.color",{type:"radial",x:.2,y:.2,r:.5,colorStops:[{offset:1,color:t+"0.3)"},{offset:0,color:"rgba(0,0,0,0)"}]}),e.backgroundStyle.hasOwnProperty("itemStyle")?(e.backgroundStyle.itemStyle.hasOwnProperty("borderColor")||this.config("series[0].backgroundStyle.itemStyle.borderColor",t+"1)"),e.backgroundStyle.itemStyle.hasOwnProperty("shadowColor")||this.config("series[0].backgroundStyle.itemStyle.shadowColor",t+"1)")):this.config("series[0].backgroundStyle.itemStyle",{borderColor:t+"1)",shadowColor:t+"1)"}),e.hasOwnProperty("label")?this.config("series[0].label.color",t+"1)"):this.config("series[0].label",{color:t+"1)"})},e}(o.EChart);e.ThreeDLiquidFillChart=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),a=r(7);r(49);var s=function(t){function e(e,r){var i=t.call(this,e,"UniqueChart",r)||this;return i.color="rgba(226,145,47,",i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"liquidFill",radius:"80%",silent:!0,outline:{show:!0,borderDistance:20,itemStyle:{borderWidth:4,shadowBlur:20}},shape:"path://m388.7848,528.526528c0,52.333726 44.15627,94.763705 98.62708,94.763705c54.47433,0 89.62854,-40.5872 91.62854,-91.077862c1,-23.883614 -14.55446,-52.363775 -22.69254,-68.568422c-7,-11.056672 -48.48373,-73.706236 -70.52771,-121.65578l-0.46369,0.921389c-20.0472,47.949535 -68.85746,119.160833 -68.85746,119.160833c-12.14921,17.975293 -27.71451,40.87121 -27.71451,66.456423l0.00029,-0.000286z",backgroundStyle:{shadowBlur:20,shadowOffsetY:5,borderWidth:3},wavelength:"150%",amplitude:"4%",itemStyle:{shadowBlur:0},label:{normal:{formatter:function(t){return(100*t.value).toFixed(0)+"%"},fontSize:50}}}),this.config("animationDurationUpdate",500),this.config("period",1500)},e.prototype.setColorByRGBA=function(t){this.color=t.replace(")",",")},e.prototype.setData=function(e){var r=this.color,i=this.setNewData(e,r);this.configLiquidSeries(r),this.configBubble(i),t.prototype.setData.call(this,e)},e.prototype.setNewData=function(t,e){var r=t.asArray()[0],i=r[Object.keys(r)[0]],n=r[Object.keys(r)[1]];1<n&&(n/=100);var o=[{name:i,value:n,phase:Math.PI/2,silent:!0,itemStyle:{color:{type:"linear",x:0,y:1,x2:0,y2:0,colorStops:[{offset:.6,color:e+"1)"},{offset:1,color:e+"1)"}]}}},{name:i,value:n-.05,phase:0,amplitude:"2%",silent:!1,itemStyle:{color:{type:"linear",x:0,y:1,x2:0,y2:0,colorStops:[{offset:0,color:e+"1)"},{offset:.3,color:e+"1)"},{offset:1,color:"rgba(0,0,0,0.7)"}]}}}];return this.config("series[0].data",o),n},e.prototype.configBubble=function(t){for(var e=this.findAll().series[0].radius,r=this.getZr(),i=r.getWidth(),n=r.getHeight(),o=Math.min(i,n),s=e.includes("%")?e.replace("%","")/100*o/2:e,l=i/2,c=0,h=0,u=0;u<7;u++){c=4*Math.random()+1,h=1e3*Math.random()+1500;var p=new a.Circle({shape:{cx:i/2,cy:n/2+s-5,r:c},style:{stroke:"#CCC",fill:"none",lineWidth:1},zlevel:1});r.add(p),p.animate("style",!0).delay(h).when(1500,{opacity:.2,lineWidth:.5}).start(),0!=u&&(l=u%2==0?i/2-s/10*(u-3):i/2+s/10*u),p.animate("shape",!0).delay(h).when(1500,{cx:l,cy:n/2+s-t*s*2,r:2*c}).start()}},e.prototype.configLiquidSeries=function(t){var e=this.findAll().series[0];e.outline.itemStyle.hasOwnProperty("borderColor")||this.config("series[0].outline.itemStyle.borderColor",{type:"linear",x:0,y:0,x2:1,y2:0,colorStops:[{offset:0,color:t+"1)"},{offset:.05,color:t+"0.1)"},{offset:.95,color:t+"0.01)"},{offset:1,color:t+"1)"}]}),e.outline.itemStyle.hasOwnProperty("shadowColor")||this.config("series[0].outline.itemStyle.shadowColor",t+"1)"),e.hasOwnProperty("backgroundStyle")||this.config("series[0].backgroundStyle",{borderColor:t+"1)",shadowColor:t+"1)"}),e.backgroundStyle.hasOwnProperty("color")||this.config("series[0].backgroundStyle.color",{type:"radial",x:.2,y:.2,r:.5,colorStops:[{offset:1,color:t+"0.01)"}]}),e.backgroundStyle.hasOwnProperty("borderColor")||this.config("series[0].backgroundStyle.borderColor",{type:"radial",x:.5,y:0,r:.5,colorStops:[{offset:0,color:t+"0.5)"},{offset:1,color:t+"0.1)"}]}),e.backgroundStyle.hasOwnProperty("shadowColor")||this.config("series[0].backgroundStyle.shadowColor",t+"1)"),e.hasOwnProperty("label")?this.config("series[0].label.color",t+"1)"):this.config("series[0].label",{color:t+"1)"})},e}(o.EChart);e.ThreeDWaterDropChart=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(0);r(49);var a=function(t){function e(e,r){var i=t.call(this,e,"UniqueChart",r)||this;return i.color="rgb(194,53,49)",i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"liquidFill",radius:"80%",silent:!0,wavelength:"150%",amplitude:"4%"}),this.config("animationDurationUpdate",500),this.config("period",1500)},e.prototype.setColor=function(t){this.color=t},e.prototype.setData=function(e){var r=this.color;this.setNewData(e,r),this.configLiquidSeries(r),t.prototype.setData.call(this,e)},e.prototype.setNewData=function(t,e){var r=t.asArray()[0],i=r[Object.keys(r)[0]],n=r[Object.keys(r)[1]];1<n&&(n/=100);var o=[{name:i,value:n,phase:Math.PI/2,silent:!0,itemStyle:{color:e,opacity:.5}},{name:i,value:n-.05,phase:0,amplitude:"2%",silent:!1,itemStyle:{color:{type:"linear",x:0,y:1,x2:0,y2:0,colorStops:[{offset:0,color:e},{offset:.3,color:e},{offset:1,color:"rgba(0,0,0,0)"}]}}}];this.config("series[0].data",o),this.config("color",e)},e.prototype.configLiquidSeries=function(t){var e=this.findAll().series[0];e.hasOwnProperty("outline")?e.outline.hasOwnProperty("itemStyle")?e.outline.itemStyle.hasOwnProperty("borderColor")||this.config("series[0].outline.itemStyle.borderColor",t):this.config("series[0].outline.itemStyle",{borderColor:t}):this.config("series[0].outline",{itemStyle:{borderColor:t}}),e.hasOwnProperty("label")?e.label.hasOwnProperty("color")||this.config("series[0].label.color",t):this.config("series[0].label",{color:t})},e}(o.EChart);e.LiquidFillWaveChart=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"UniqueChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0]",{silent:!1,type:"graph",force:{initLayout:"none",repulsion:15,gravity:.01,layoutAnimation:!0},layout:"force",label:{show:!0},itemStyle:{opacity:.8},emphasis:{itemStyle:{opacity:1}},roam:!0,draggable:!0,focusNodeAdjacency:!1,symbolSize:30})},e.prototype.setData=function(e){this.setNewData(e),t.prototype.setData.call(this,e)},e.prototype.setNewData=function(t){for(var e=[],r=[],i=0;i<t.getCount();i++){var n=t.get(i);e.push({name:n.get(0).value,value:n.get(1).value,category:i}),r.push(i)}this.config("series[0].data",e),this.config("series[0].categories",r)},e}(r(0).EChart);e.BubbleCloudChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"UniqueChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("legend",{}),this.config("series[0]",{type:"graph",layout:"force",roam:!0,focusNodeAdjacency:!0})},e.prototype.setCategroyById=function(t,e){this.id=t,this.categoryValue=e},e.prototype.setData=function(e){this.setUniqueConfig(e),this.setLegend(e),t.prototype.setData.call(this,e)},e.prototype.setUniqueConfig=function(t){for(var e=[],r=[],i=null,n=null,o=null,a=null,s=0;s<t.getCount();s++){var l=t.get(s);i=l.get(0).value,n=l.get(2).value,o=l.get(3).value,e.push({name:i,value:l.get(1).value}),Array.isArray(n)?(a={source:i},n.forEach(function(t,e){a.target=t,Array.isArray(o)?a.value=o[e%o.length]:a.value=o,r.push(JSON.parse(JSON.stringify(a)))})):r.push({source:i,target:n,value:o})}this.nodes=e,this.config("series[0]",{data:e,links:r})},e.prototype.setLegend=function(t){var e=this.id,r=JSON.parse(JSON.stringify(this.nodes)),i=this.categoryValue,n=[],o=-1,a=-1,s=-1;if(e<t.get(0).getCount()){for(var l=0;l<t.getCount();l++)a<(s=t.get(l).get(e).value)&&(a=s);for(l=0;l<t.getCount();l++)o=t.get(l).get(e).value,r[l].category=o;i.forEach(function(t){n.push({name:t})}),this.config("series[0].data",r),this.config("series[0].categories",n)}},e}(r(0).EChart);e.ForceGraphChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"UniqueChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"tree",orient:"vertical",label:{position:"top",align:"right"},leaves:{label:{position:"bottom",align:"left"}}})},e.prototype.setData=function(e){this.setUniqueConfig(this.selfUnpackTreeData(e)),t.prototype.setData.call(this,e)},e.prototype.setUniqueConfig=function(t){this.config("series[0].data",t)},e.prototype.selfUnpackTreeData=function(t){for(var e=[],r=0;r<t.getCount();r++){var i=t.get(r);e[r]={};for(var n=0;n<i.getCount();n++){var o=i.get(n);"string"==typeof o.value?e[r].name=o.value:"number"==typeof o.value?e[r].value=o.value:e[r].children=this.selfUnpackTreeData(o.value)}}return e},e}(r(0).EChart);e.BasicTreeChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"UniqueChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"tree",label:{position:"left",align:"right"},leaves:{label:{position:"right",align:"left"}}})},e.prototype.setData=function(e){this.setUniqueConfig(this.selfUnpackTreeData(e)),t.prototype.setData.call(this,e)},e.prototype.setUniqueConfig=function(t){this.config("series[0].data",t)},e.prototype.selfUnpackTreeData=function(t){for(var e=[],r=0;r<t.getCount();r++){var i=t.get(r);e[r]={};for(var n=0;n<i.getCount();n++){var o=i.get(n);"string"==typeof o.value?e[r].name=o.value:"number"==typeof o.value?e[r].value=o.value:e[r].children=this.selfUnpackTreeData(o.value)}}return e},e}(r(0).EChart);e.VTreeChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"UniqueChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"tree",layout:"radial"})},e.prototype.setData=function(e){this.setUniqueConfig(this.selfUnpackTreeData(e)),t.prototype.setData.call(this,e)},e.prototype.setUniqueConfig=function(t){this.config("series[0].data",t)},e.prototype.selfUnpackTreeData=function(t){for(var e=[],r=0;r<t.getCount();r++){var i=t.get(r);e[r]={};for(var n=0;n<i.getCount();n++){var o=i.get(n);"string"==typeof o.value?e[r].name=o.value:"number"==typeof o.value?e[r].value=o.value:e[r].children=this.selfUnpackTreeData(o.value)}}return e},e}(r(0).EChart);e.CTreeChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"UniqueChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"sunburst"})},e.prototype.setData=function(e){this.setUniqueConfig(this.selfUnpackTreeData(e)),t.prototype.setData.call(this,e)},e.prototype.setUniqueConfig=function(t){this.config("series[0].data",t)},e.prototype.selfUnpackTreeData=function(t){for(var e=[],r=0;r<t.getCount();r++){var i=t.get(r);e[r]={};for(var n=0;n<i.getCount();n++){var o=i.get(n);"string"==typeof o.value?e[r].name=o.value:"number"==typeof o.value?e[r].value=o.value:e[r].children=this.selfUnpackTreeData(o.value)}}return e},e}(r(0).EChart);e.BasicSunburstChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(72),a=r(32),s=function(t){function e(e,r){var i=t.call(this,e,"TextChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"beehive",itemStyle:{default:{stroke:"#EEE",fill:"#AAA",len:19,z2:0,cursor:"default",silent:!0},normal:{stroke:"#FFFFFF",lineWidth:6,fill:"#2FC25B",fontSize:18,textFill:"#444",text:"",z2:1,cursor:"pointer",silent:!1},emphasis:{fill:"#F88",textFill:"#0FF"}}})},e.prototype.setData=function(t){this.setBeeHive(t)},e.prototype.setBeeHive=function(t){for(var e=this.findAll().series[0].itemStyle,r=this.getWidth(),i=this.getHeight(),n=e.default.len,o=3*n,a=o,s=3*n,l=0,c=0;s+2*n<i;)if(a+2*n*Math.sqrt(3)<r){var h=JSON.parse(JSON.stringify(e));c<t.getCount()&&(h.normal.text=t.get(c).get(0).value,c++);var u=this.hiveShape(a,s,n,h).getElement();this.add(u),a+=2*n*Math.sqrt(3)}else s+=3*n,a=l%2==0?o+n*Math.sqrt(3):o,l++},e.prototype.hiveShape=function(t,e,r,i){var n;n=0<i.normal.text.length?i.normal:i.default;var o=new a.RegularSix(t,e,r);o.setAttr("style",n),o.setAttr("cursor",n.cursor),o.setAttr("silent",n.silent),o.setAttr("z2",n.z2);var s=o.getElement(),l=this;return o.on("mouseover",function(){l.addHover(s,i.emphasis)}),o.on("mouseout",function(){l.removeHover(s)}),o},e}(o.Zrender);e.BeeHiveChart=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(18),a=r(7),s=function(t){function e(e,r){var i=t.call(this,e,"UniqueChart",r)||this;return i.color=["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],i.init(),i}return n(e,t),e.prototype.init=function(){this.config("legend",{show:!0,top:"20",left:"23",right:23,bottom:23,orient:"horizontal",align:"left",itemGap:"10",itemWidth:25,itemHeight:14,textStyle:{color:"#333",fontFamily:"Microsoft YaHei",fontSize:12,fontWeight:"normal"}}),this.config("series[0]",{type:"funnel"})},e.prototype.setColorByArray=function(t){this.color=t},e.prototype.setData=function(e){var r=this.color;t.prototype.setData.call(this,e);var i=this.sortData(e),n=this.packLegendData(i);this.CreateLegend(n,r);var o=this.CreateFunnelData(e);this.CreateFunnel(o,r)},e.prototype.CreateFunnel=function(t,e){for(var r=this.createGroup({gvId:"series_0"}),i=0;i<t.length;i++)this.CreateFunnelItem(t[i],r,e)},e.prototype.CreateFunnelItem=function(t,e,r){var i=t.cx,n=t.cy,o=t.rx,s=t.ry,l=t.rx1,c=t.ry1,h=t.depth,u=t.i,p=(this.CreateTooltip(),new a.LinearGradient(0,0,1,0));p.addColorStop(0,r[u]),p.addColorStop(.1,r[u]),p.addColorStop(.3,"#FFF"),p.addColorStop(.3,"#FFF"),p.addColorStop(.7,r[u]),p.addColorStop(1,r[u]);var f=new a.Group({gvId:"funnel_"+u}),y=new a.Ellipse({shape:{cx:i,cy:n,rx:o,ry:s},style:{fill:r[u],opacity:.8,lineWidth:0},z2:1});f.add(y);var d=new a.Ellipse({shape:{cx:i,cy:n+h,rx:l,ry:c},style:{fill:r[u],opacity:.8,lineWidth:0}});f.add(d);var v=new new a.Path.extend({type:"SideEllipseArea",buildPath:function(t,e){var r=e.depth,i=.5522848,n=e.cx,o=e.cy,a=e.rx,s=e.ry,l=e.cy+r,c=e.rx1,h=e.ry1;t.moveTo(n-a,o),t.bezierCurveTo(n-a,o+i*s,n-i*a,o+s,n,o+s),t.bezierCurveTo(n+i*a,o+s,n+a,o+i*s,n+a,o),t.lineTo(n+c,l),t.bezierCurveTo(n+c,l+i*h,n+i*c,l+h,n,l+h),t.bezierCurveTo(n-i*c,l+h,n-c,l+i*h,n-c,l),t.closePath()}})({shape:{cx:i,cy:n,rx:o,ry:s,rx1:l,ry1:c,depth:h},style:{fill:p,lineWidth:0,stroke:r[u]},z2:2,onmouseover:function(){this.animateStyle().when(200,{opacity:.8}).start()},onmouseout:function(){this.animateStyle().when(200,{opacity:1}).start()}});f.add(v),e.add(f),this.add(e)},e.prototype.CreateTitle=function(){var t=this.getZr(),e=t.getWidth(),r=t.getHeight(),i=this.findAll().title,n=new a.Text({gvId:"title",invisible:!i.show,style:{text:i.text,textFill:i.textStyle.color,fontFamily:i.textStyle.fontFamily,fontWeight:i.textStyle.fontWeight,fontSize:i.textStyle.fontSize,textVerticalAlign:"top"},z:6,z2:10,silent:i.silent,position:[this.toNumber(e,i.left),this.toNumber(r,i.top)]});t.add(n)},e.prototype.CreateLegend=function(t,e){var r=this,i=this.findAll().legend,n=this.getZr(),o=n.getWidth(),s=n.getHeight(),l=new a.Group({gvId:"legend"}),c=0,h=this.toNumber(s,i.top),u=this.toNumber(o,i.itemWidth),p=this.toNumber(s,i.itemHeight);t.forEach(function(t,n){var o=new a.Group({gvId:"legend_"+n,legendClick:!0}),s=new a.Rect({shape:{x:c,y:h,width:u,height:p,r:5},style:{fill:e[n],lineWidth:0},z:4,z2:0});o.add(s),c+=u+5;var f=new a.Text({invisible:!i.show,style:{text:t,textAlign:"left",textFill:i.textStyle.color,fontFamily:i.textStyle.fontFamily,fontWeight:i.textStyle.fontWeight,fontSize:i.textStyle.fontSize,x:c,y:h},z:6,z2:10});o.add(f),l.add(o),c+=f.getBoundingRect().width,r.defaultLegendAnimatin(o,n,e)}),n.add(l)},e.prototype.CreateTooltip=function(){var t=this.getZr().getHeight(),e=new a.Group({style:{invisible:!0}}),r=new a.Circle({shape:{cx:10,cy:11,r:4},style:{stroke:"#FF00FF",lineWidth:0,fill:"none"},position:[20,t/3],z2:4});e.add(r);var i=new a.Text({style:{textBackgroundColor:"rgba(50,50,50,0.7)",fontSize:14,textFill:"#0ff",cursor:"default",textPadding:[5,5,5,20],textBorderRadius:5,silent:!0},position:[20,t/3],z2:3});return e.add(i),this.add(e),e},e.prototype.CreateLabel=function(t){new a.Group({gvId:"label"});var e=new a.Text({style:{text:"文本\nhello",textAlign:"left",textVerticalAlign:"middle",fontSize:34,textStroke:"#00FF00",textLineWidth:4,textBackgroundColor:"rgba(50,50,50,0.7)",textPadding:5,textFill:"#FF0033",textBorderRadius:5},position:[100,300],z2:3});this.add(e)},e.prototype.sortData=function(t){for(var e=[],r=new o.ChartData,i=0;i<t.getCount();i++)e.push(t.get(i).get(1).value);for(var n=Array.from(new Set(e)).sort(function(t,e){return e-t}),a=0;a<e.length;a++)for(i=0;i<t.getCount();i++)n[a]==t.get(i).get(1).value&&r.addItem(t.get(i));return r},e.prototype.toLength=function(t,e,r){return t-(this.toNumber(t,e)+this.toNumber(t,r))},e.prototype.toNumber=function(t,e){return"string"==typeof e?e.includes("%")?Number(e.replace("%",""))*t/100:"left"===e||"top"===e?0:"right"===e||"bottom"===e?t-20:"middle"===e||"center"===e?t/2:Number(e)/1:"number"==typeof e?e:void 0},e.prototype.CreateFunnelData=function(t){for(var e=this.getZr(),r=e.getWidth(),i=e.getHeight(),n=[],o=this.toLength(r,"10%","10%"),a=this.toLength(i,60,60),s=t.getCount(),l=o/2,c=l/10,h=(a-c)/s,u=o/2+this.toNumber(o,"10%"),p=this.toNumber(a,60)+c,f=[],y=0;y<t.getCount();y++)f.push(t.get(y).get(1).value);var d=Array.from(new Set(f)).sort(function(t,e){return e-t}),v=this.sortData(t);for(y=0;y<v.getCount();y++){var g={cx:0,cy:0,rx:0,ry:0,depth:0,rx1:0,ry1:0,i:-1},m=d[0];g.cx=u,g.cy=p+h*y,g.rx=l*d[y]/m,g.ry=g.rx/10,g.depth=h,y<s-1?(g.rx1=l*d[y+1]/m,g.ry1=g.rx1/10):(g.rx1=0,g.ry1=0),g.i=y,n.push(g)}return n},e.prototype.packLegendData=function(t){for(var e=[],r=0;r<t.getCount();r++)e.push(t.get(r).get(0).value);return e},e.prototype.defaultLegendAnimatin=function(t,e,r){var i=this.getZr();t.on("click",function(){if(t.legendClick){for(var n=0;n<t.childCount();n++)t.childAt(n).attr("style",{fill:"#CCC",textFill:"#CCC"});i.storage.traverse(function(t){if(t.gvId==="funnel_"+e)for(var r=0;r<t.childCount();r++)t.childAt(r).attr("invisible",!0)})}else{for(n=0;n<t.childCount();n++)t.childAt(n).attr("style",{fill:r[e],textFill:"#000"});i.storage.traverse(function(t){if(t.gvId==="funnel_"+e)for(var r=0;r<t.childCount();r++)t.childAt(r).attr("invisible",!1)})}var o=t.legendClick;t.attr("legendClick",!o)})},e}(r(72).Zrender);e.ThreeDFunnelChart=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(0);r(268);var a=function(t){function e(e,r){var i=t.call(this,e,"TextChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("tooltip",{}),this.config("series[0].type","wordCloud"),this.config("visualMap",{})},e.prototype.setData=function(e){this.setUniqueConfig(e),t.prototype.setData.call(this,e)},e.prototype.setUniqueConfig=function(t){var e;e=t.get(0).get(1).alias?t.get(0).get(1).alias:t.get(0).get(1).name,this.findAll().series[0].hasOwnProperty("name")||this.config("series[0].name",e);for(var r=[],i=0;i<t.getCount();i++){var n=t.get(i);r.push({name:n.get(0).value,value:n.get(1).value})}this.config("series[0].data",r)},e}(o.EChart);e.WordCloudChart=a},function(t,e){t.exports=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this,e,"BarChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("xAxis.type","value"),this.config("yAxis.type","category")},e.prototype.setData=function(e){this.setShadow(e),t.prototype.setData.call(this,e)},e.prototype.setShadow=function(t){for(var e=t.get(0).getCount()-1,r=0;r<e;r++)this.config("series["+r+"]",{stack:"sum"+r});var i=[];for(r=0;r<t.get(0).getCount()-1;r++)for(var n=0;n<t.getCount();n++)i.push(t.get(n).get(r+1).value);var o=Array.from(new Set(i)).sort(function(t,e){return e-t})[0],a=o+o/20,s=[];for(r=0;r<e;r++){var l=[];for(n=0;n<t.getCount();n++)l.push(a-t.get(n).get(r+1).value);s.push(l)}for(r=e;r<2*e;r++)this.config("series["+r+"]",{type:"bar",stack:"sum"+(r-e),itemStyle:{color:"rgba(18,41,64,0.4)"},data:s[r-e]})},e}(r(0).EChart);e.VShadowBarChart=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(72),a=r(32),s=function(t){function e(e,r){var i=t.call(this,e,"TextChart",r)||this;return i.init(),i}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"beehive",itemStyle:{default:{stroke:"#EEE",fill:"#AAA",len:19,z2:0,cursor:"default",silent:!0},normal:{stroke:"#FFFFFF",lineWidth:6,fill:"#2FC25B",fontSize:18,textFill:"#444",text:"",z2:1,cursor:"pointer",silent:!1},emphasis:{fill:"#F88",textFill:"#0FF"}}})},e.prototype.setData=function(t){this.setBeeHive(t)},e.prototype.setBeeHive=function(t){for(var e=this.findAll().series[0].itemStyle,r=0;r<t.getCount();r++){var i=JSON.parse(JSON.stringify(e)),n=t.get(r).get(0).value,o=t.get(r).get(1).value,a=t.get(r).get(2).value,s=t.get(r).get(3).value;i.normal.text=s;var l=this.hiveShape(n,o,a,i).getElement();this.add(l)}},e.prototype.hiveShape=function(t,e,r,i){var n;n=0<i.normal.text.length?i.normal:i.default;var o=new a.RegularSix(t,e,r);o.setAttr("style",n),o.setAttr("cursor",n.cursor),o.setAttr("silent",n.silent),o.setAttr("z2",n.z2);var s=o.getElement(),l=this;return o.on("mouseover",function(){l.addHover(s,i.emphasis)}),o.on("mouseout",function(){l.removeHover(s)}),o},e}(o.Zrender);e.BeeHiveMapChart=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r,i,n,o,a){void 0===n&&(n=0),void 0===o&&(o=Math.PI/2),void 0===a&&(a=!0);var s=t.call(this,"Arc",e,r,i,n,o,a)||this;return s.cx=e,s.cy=r,s.r=i,s}return n(e,t),e.prototype.create=function(t){return{shape:{cx:t[0],cy:t[1],r:t[2],startAngle:t[3],endAngle:t[4],clockwise:t[5]},style:{stroke:"none",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(r(8).GraphicZrender);e.Arc=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r,i,n){var o=t.call(this,"Ellipse",e,r,i,n)||this;return o.cx=e,o.cy=r,o.rx=i,o.ry=n,o}return n(e,t),e.prototype.create=function(t){return{shape:{cx:t[0],cy:t[1],rx:t[2],ry:t[3]},style:{stroke:"none",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(r(8).GraphicZrender);e.Ellipse=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r,i,n){var o=t.call(this,"Isogon",e,r,i,n)||this;return o.x=e,o.y=r,o.r=i,o.n=n,o}return n(e,t),e.prototype.create=function(t){return{shape:{x:t[0],y:t[1],r:t[2],n:t[3]},style:{stroke:"none",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(r(8).GraphicZrender);e.Isogon=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r,i,n,o){void 0===o&&(o=1);var a=t.call(this,"Line",e,r,i,n,o)||this;return a.x1=e,a.y1=r,a.x2=i,a.y2=n,a}return n(e,t),e.prototype.create=function(t){return{shape:{x1:t[0],y1:t[1],x2:t[2],y2:t[3],percent:t[4]},style:{stroke:"#000",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(r(8).GraphicZrender);e.Line=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){void 0===r&&(r=0);var i=t.call(this,"Polygon",e,r)||this;return i.points=e,i.smooth=r,i}return n(e,t),e.prototype.create=function(t){return{shape:{points:t[0],smooth:t[1]},style:{stroke:"none",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(r(8).GraphicZrender);e.Polygon=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){void 0===r&&(r=0);var i=t.call(this,"Polyline",e,r)||this;return i.points=e,i.smooth=r,i}return n(e,t),e.prototype.create=function(t){return{shape:{points:t[0],smooth:t[1]},style:{stroke:"#000",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(r(8).GraphicZrender);e.Polyline=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r,i,n){var o=t.call(this,"Rect",e,r,i,n)||this;return o.x=e,o.y=r,o.width=i,o.height=n,o}return n(e,t),e.prototype.create=function(t){return{shape:{x:t[0],y:t[1],width:t[2],height:t[3]},style:{stroke:"none",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(r(8).GraphicZrender);e.Rect=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var r=t.call(this,"Text",e)||this;return r.text=e,r}return n(e,t),e.prototype.create=function(t){return{style:{text:t[0],fontSize:12,textFill:"#000"}}},e}(r(8).GraphicZrender);e.Text=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r,i,n,o,a,s){void 0===n&&(n=0),void 0===o&&(o=0),void 0===a&&(a=Math.PI/2),void 0===s&&(s=!0);var l=t.call(this,"Sector",e,r,i,n,o,a,s)||this;return l.cx=e,l.cy=r,l.r=i,l}return n(e,t),e.prototype.create=function(t){return{shape:{cx:t[0],cy:t[1],r:t[2],r0:t[3],startAngle:t[4],endAngle:t[5],clockwise:t[6]},style:{stroke:"none",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(r(8).GraphicZrender);e.Sector=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r,i,n){var o=t.call(this,"Droplet",e,r,i,n)||this;return o.cx=e,o.cy=r,o.width=i,o.height=n,o}return n(e,t),e.prototype.create=function(t){return{shape:{cx:t[0],cy:t[1],width:t[2],height:t[3]},style:{stroke:"none",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(r(8).GraphicZrender);e.Droplet=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(36),a=r(1),s=function(t){function e(e,r,i,n){void 0===n&&(n="4326");var o=t.call(this)||this;return o.srid=n,o.g2map=new a.carto.Globe({defaultExtent:e,fullExtent:r,srid:n}),o.g2map.init({targetId:i}),o}return n(e,t),e.prototype.addLayer=function(t){this.g2map.addLayer(t.getLayer())},e.prototype.pan=function(t){var e=new a.sfs.Point({x:t[0],y:t[1],spatialReference:this.srid});this.g2map.setCenter(e)},e.prototype.getMap=function(){return this.g2map},e.prototype.getLayers=function(){return this.g2map.getLayers()},e.prototype.getPixelFromCoordinate=function(t){return this.g2map.getPixelFromCoordinate(t)},e.prototype.getViewer=function(){return this.g2map._cesiumWidget},e.prototype.on=function(t,e){this.g2map.on(t,e)},e.prototype.un=function(t,e){this.g2map.un(t,e)},e}(o.MapChart);e.TSGlobeMapChart=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),a=function(t){function e(e,r){void 0===e&&(e="4326"),void 0===r&&(r="http://172.18.7.60/proxy/proxy/mapTiledProxy.ashx");for(var i=t.call(this)||this,n=[],a=1;a<22;++a)n.push(a);return i.tianditu=new o.carto.TileLayer3D({id:"satellite",name:"天地图影像",layers:"img",matrixIds:n,matrix:18,matrixSet:"c",matrixPrefix:"",levelShift:0,format:"tiles",projection:"EPSG:"+e,layerType:1,tileType:102,opacity:1,visible:!0,style:"default",proxy:r,url:"http://{s}.tianditu.gov.cn/img_c/wmts?tk=4f62e1d82bd46e2ff470b291c2260156",subdomains:["t0","t1","t2","t3","t4","t5","t6","t7"]}),i}return n(e,t),e.prototype.getLayer=function(){return this.tianditu},e.prototype.setSource=function(){},e.prototype.render=function(t,e,r){},e}(r(11).Layer);e.Tianditu=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),a=function(t){function e(e,r){void 0===e&&(e="4326"),void 0===r&&(r="http://172.18.7.60/proxy/proxy/mapTiledProxy.ashx");for(var i=t.call(this)||this,n=[],a=1;a<22;++a)n.push(a);return i.tiandituLabel=new o.carto.TileLayer3D({id:"tianditulabel",name:"天地图中文标注",matrixIds:n,layers:"cta",matrix:22,matrixSet:"c",matrixPrefix:"",levelShift:0,format:"tiles",projection:"EPSG:"+e,layerType:1,tileType:102,opacity:1,visible:!0,style:"default",proxy:r,url:"http://{s}.tianditu.gov.cn/cta_c/wmts?tk=4f62e1d82bd46e2ff470b291c2260156",subdomains:["t0","t1","t2","t3","t4","t5","t6","t7"]}),i}return n(e,t),e.prototype.getLayer=function(){return this.tiandituLabel},e.prototype.setSource=function(){},e.prototype.render=function(t,e,r){},e}(r(11).Layer);e.TiandituLabel=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(25),n=r(17),o=r(12),a=function(){function t(t,e,r){this.map=e,this.dom=r,this._config=new o.ChartConfig({animation:!1,visualMap:{},CesiumMap:{},series:[{type:"heatmap",coordinateSystem:"CesiumMap"}]});var i=t.asArray();this.setData(i)}return t.prototype.findAll=function(){return this._config.findAll()},t.prototype.config=function(t,e){var r=this._config.findAll();"CesiumMap"==t&&r.hasOwnProperty("G2Map")&&(this._config.config("G2Map",void 0),this.updateCoordinateSystem(r,"CesiumMap","G2Map")),"G2Map"==t&&r.hasOwnProperty("CesiumMap")&&(this._config.config("CesiumMap",void 0),this.updateCoordinateSystem(r,"G2Map","CesiumMap")),this._config.config(t,e),this._overlay&&this._overlay.updateOverlay(this._config.findAll())},t.prototype.render=function(){var t=this.map,e=(this.dom,this._config.findAll());e.hasOwnProperty("CesiumMap")&&(this._overlay=new i.default(t,e)),e.hasOwnProperty("G2Map")&&(this._overlay=new n.default(t,e))},t.prototype.setData=function(t){for(var e=Object.keys(t[0]),r=[],i=0;i<t.length;i++){for(var n=t[i],o="",a=[],s=0;s<e.length;s++)o=n[e[0]],a=n[e[1]],1<s&&a.push(n[e[s]]);r.push({name:o,value:a})}this._config.config("series[0].data",r)},t.prototype.updateCoordinateSystem=function(t,e,r){for(var i=t.series,n=0;n<i.length;n++)i[n].hasOwnProperty("coordinateSystem")&&t.series[n].coordinateSystem==r&&this._config.config("series["+n+"].coordinateSystem",e)},t}();e.HeatmapChartMap=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),a=function(t){function e(e){void 0===e&&(e="4326");for(var r=t.call(this)||this,i=[],n=1;n<21;++n)i.push(n);return r.tianditu=new o.carto.TileLayer({name:"天地图矢量",layers:"vec",matrix:21,matrixSet:"c",matrixPrefix:"",format:"tiles",projection:"EPSG:"+e,layerType:1,tileType:102,opacity:1,visible:!0,crossOrigin:"anonymous",style:"default",extent:{minx:-180,miny:-90,maxx:180,maxy:90},url:"http://172.18.7.60/proxy/mapTiledProxy.ashx?http://t0.tianditu.gov.cn/vec_c/wmts?tk=4f62e1d82bd46e2ff470b291c2260156"}),r}return n(e,t),e.prototype.getLayer=function(){return this.tianditu},e.prototype.setSource=function(){},e.prototype.render=function(t,e,r){},e}(r(11).Layer);e.G2Tianditu=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),a=function(t){function e(e){void 0===e&&(e="4326");for(var r=t.call(this)||this,i=[],n=1;n<21;++n)i.push(n);return r.tiandituLabel=new o.carto.TileLayer({name:"天地图中文标注",layers:"cva",matrixSet:"c",format:"tiles",projection:"EPSG:"+e,extent:{minx:-180,miny:-90,maxx:180,maxy:90},matrixPrefix:"",matrix:21,tileType:102,opacity:1,visible:!0,url:"http://172.18.7.60/proxy/mapTiledProxy.ashx?http://t0.tianditu.gov.cn/cva_c/wmts?tk=4f62e1d82bd46e2ff470b291c2260156"}),r}return n(e,t),e.prototype.getLayer=function(){return this.tiandituLabel},e.prototype.setSource=function(){},e.prototype.render=function(t,e,r){},e}(r(11).Layer);e.G2TiandituLabel=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(25),n=r(17),o=r(12),a=function(){function t(t,e,r){this.viewer=e,this.dom=r,this._config=new o.ChartConfig({animation:!1,CesiumMap:{},series:[{type:"scatter",itemStyle:{color:"rgba(0,44,251,0.7)",borderWidth:4,borderColor:"rgba(0,22,120,0.4)"}}]});var i=t.asArray();this.setData(i)}return t.prototype.findAll=function(){return this._config.findAll()},t.prototype.config=function(t,e){var r=this._config.findAll();"CesiumMap"==t&&r.hasOwnProperty("G2Map")&&(this._config.config("G2Map",void 0),this.updateCoordinateSystem(r,"CesiumMap","G2Map")),"G2Map"==t&&r.hasOwnProperty("CesiumMap")&&(this._config.config("CesiumMap",void 0),this.updateCoordinateSystem(r,"G2Map","CesiumMap")),this._config.config(t,e),this._overlay&&this._overlay.updateOverlay(this._config.findAll())},t.prototype.render=function(){var t=this.viewer,e=(this.dom,this._config.findAll());e.hasOwnProperty("CesiumMap")&&(this._overlay=new i.default(t,e)),e.hasOwnProperty("G2Map")&&(this._overlay=new n.default(t,e))},t.prototype.setData=function(t){for(var e=Object.keys(t[0]),r=[],i=0;i<t.length;i++){for(var n=t[i],o="",a=[],s=0;s<e.length;s++)o=n[e[0]],a=n[e[1]],1<s&&a.push(n[e[s]]);r.push({name:o,value:a})}this._config.config("series[0].data",r)},t.prototype.updateCoordinateSystem=function(t,e,r){for(var i=t.series,n=0;n<i.length;n++)i[n].hasOwnProperty("coordinateSystem")&&t.series[n].coordinateSystem==r&&this._config.config("series["+n+"].coordinateSystem",e)},t}();e.ScatterChartMap=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(25),n=r(17),o=r(12),a=function(){function t(t,e,r){this.map=e,this.dom=r,this._config=new o.ChartConfig({animation:!1,CesiumMap:{},tooltip:{},series:[{type:"lines",effect:{show:!0,period:4,trailLength:0,symbol:"arrow",symbolSize:5},lineStyle:{curveness:.3},coordinateSystem:"CesiumMap"},{type:"scatter",coordinateSystem:"CesiumMap"}]});var i=t.asArray();this.setData(i)}return t.prototype.findAll=function(){return this._config.findAll()},t.prototype.config=function(t,e){var r=this._config.findAll();"CesiumMap"==t&&r.hasOwnProperty("G2Map")&&(this._config.config("G2Map",void 0),this.updateCoordinateSystem(r,"CesiumMap","G2Map")),"G2Map"==t&&r.hasOwnProperty("CesiumMap")&&(this._config.config("CesiumMap",void 0),this.updateCoordinateSystem(r,"G2Map","CesiumMap")),this._config.config(t,e),this._overlay&&this._overlay.updateOverlay(this._config.findAll())},t.prototype.render=function(){var t=this.map,e=(this.dom,this._config.findAll());e.hasOwnProperty("CesiumMap")&&(this._overlay=new i.default(t,e)),e.hasOwnProperty("G2Map")&&(this._overlay=new n.default(t,e))},t.prototype.setData=function(t){for(var e=[],r=[],i={},n=0;n<t.length;n++){var o=t[n],a=o.name,s=o.value[2],l=[o.value[0],o.value[1]],c=o.value[3];e.push({fromName:a,toName:s,coords:[l,c]}),i.hasOwnProperty(a)||(i[a]=l),i.hasOwnProperty(s)||(i[s]=c)}for(var h in i)r.push({name:h,value:i[h]});this._config.config("series[0].data",e),this._config.config("series[1].data",r)},t.prototype.updateCoordinateSystem=function(t,e,r){for(var i=t.series,n=0;n<i.length;n++)i[n].hasOwnProperty("coordinateSystem")&&t.series[n].coordinateSystem==r&&this._config.config("series["+n+"].coordinateSystem",e)},t}();e.LinesScatterChartMap=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(25),n=r(17),o=r(12),a=function(){function t(t,e,r){this.map=e,this.dom=r,this._config=new o.ChartConfig({animation:!1,CesiumMap:{},series:[{type:"effectScatter",coordinateSystem:"CesiumMap",hoverAnimation:!0,showEffectOn:"render",rippleEffect:{brushType:"stroke"}}]});var i=t.asArray();this.setData(i)}return t.prototype.findAll=function(){return this._config.findAll()},t.prototype.config=function(t,e){var r=this._config.findAll();"CesiumMap"==t&&r.hasOwnProperty("G2Map")&&(this._config.config("G2Map",void 0),this.updateCoordinateSystem(r,"CesiumMap","G2Map")),"G2Map"==t&&r.hasOwnProperty("CesiumMap")&&(this._config.config("CesiumMap",void 0),this.updateCoordinateSystem(r,"G2Map","CesiumMap")),this._config.config(t,e),this._overlay&&this._overlay.updateOverlay(this._config.findAll())},t.prototype.render=function(){var t=this.map,e=(this.dom,this._config.findAll());e.hasOwnProperty("CesiumMap")&&(this._overlay=new i.default(t,e)),e.hasOwnProperty("G2Map")&&(this._overlay=new n.default(t,e))},t.prototype.setData=function(t){for(var e=Object.keys(t[0]),r=[],i=0;i<t.length;i++){for(var n=t[i],o="",a=[],s=0;s<e.length;s++)o=n[e[0]],a=n[e[1]],1<s&&a.push(n[e[s]]);r.push({name:o,value:a})}this._config.config("series[0].data",r)},t.prototype.updateCoordinateSystem=function(t,e,r){for(var i=t.series,n=0;n<i.length;n++)i[n].hasOwnProperty("coordinateSystem")&&t.series[n].coordinateSystem==r&&this._config.config("series["+n+"].coordinateSystem",e)},t}();e.EffectScatterChartMap=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(32),n=r(7),o=r(33),a=function(){function t(t,e,r,i,n,o){this.map=t,this.extent=e,this.geoPoints=r,this.distance=i,this.options=n,this.style=o,this.dom=document.createElement("canvas"),this.size=t.getViewSize(),this.createDom(t),this.bindEvent()}return t.prototype.drawCanvas=function(){var t=this.map.getResolution(),e=this.map.getExtent();0<this.extent.length&&(this.extent=[],this.extent.push(e.minx),this.extent.push(e.miny),this.extent.push(e.maxx),this.extent.push(e.maxy));var r=this.getNewData(this.geoPoints,this.distance,t);this.draw(this.extent,r,this.distance,t,this.style)},t.prototype.getCanvas=function(){return this.dom},t.prototype.bindEvent=function(){var t=this.map,e=this;t.getMap().map.on("pointerdrag",function(){e.drawCanvas()}),t.getMap().map.getView().on("change:resolution",function(){e.drawCanvas()}),t.getMap().map.on("moveend",function(){e.drawCanvas()})},t.prototype.getNewData=function(t,e,r){for(var i={},n=e*r,o=n*Math.sqrt(3),a=1.5*n,s=0;s<t.length;s++){var l=t[s],c=(l[1]-0)/a,h=Math.round(c),u=(l[0]-0)/o-(1&h?.5:0),p=Math.round(u),f=c-h;if(1<3*Math.abs(f)){var y=u-p,d=p+(u<p?-1:1)/2,v=h+(c<h?-1:1),g=u-d,m=c-v;g*g+m*m<y*y+f*f&&(p=d+(1&h?1:-1)/2,h=v)}var _=p+"-"+h,x=i[_];x?x.count++:((x=i[_]={}).count=1,x.i=p,x.j=h,x.x=(p+(1&h?.5:0))*o,x.y=h*a)}return i},t.prototype.getCountRange=function(t){var e=0,r=0,i=0;for(var n in t){var o=t[n].count;0==e&&(i=r=o),r<o&&(r=o),o<i&&(i=o),e++}return[i,r]},t.prototype.getColorByValue=function(t,e,r){var i=r[0];return e[1]!=e[0]&&(i=n.color.lerp((e[1]-t)/(e[1]-e[0]),r)),i},t.prototype.draw=function(t,e,r,a,s){var l=t[0]<t[2]?t[2]:t[0],c=t[0]<t[2]?t[0]:t[2],h=t[1]<t[3]?t[3]:t[1],u=t[1]<t[3]?t[1]:t[3],p=this.dom;p.getContext("2d").clearRect(0,0,p.width,p.height),p.height=(h-u)/a,p.width=(l-c)/a;var f=n.init(p);for(var y in e){var d=(e[y].x-c)/a,v=(h-e[y].y)/a,g=r*a,m=r/2,_=new i.RegularSix(d,v,m);null==s&&(s={}),s.text=e[y].count;var x=new o.Intensity({maxSize:g,gradient:this.options.gradient,max:this.options.max||100});s.fill=x.getColor(e[y].count),_.setAttr("style",s),f.add(_.getElement())}this.dom=p},t.prototype.createDom=function(t){var e=document.createElement("div"),r=t.getViewSize(),i=t.getMap().map.getViewport();e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.width=r[0]+"px",e.style.height=r[1]+"px",e.setAttribute("class","echartMap"),i.appendChild(e),e.appendChild(this.dom);var n=new o.Intensity(this.options);this.legend=n.getLegend(this.options)},t}();e.HoneyCombChartMap=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ColorRange=function(){}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(15),n=r(6),o=r(74),a=r(14),s=r(51),l=r(16),c=function(){function t(){}return t.creator=function(t){switch(t.mapType){case i.MapType.TSMap:return this.TSMapLayer(t);case i.MapType.TSGlobe:return this.TSGlobeLayer(t)}},t.TSMapLayer=function(t){var e=null;if(!t.chartType)return new o.TSMapLayer(t).createImageLayer();switch(t.chartType.layer){case 0:e=this.createTSLayer(t);break;case 1:e=this.createMapvLayer(t);break;case 2:e=this.createEchartsLayer(t)}return e},t.TSGlobeLayer=function(t){var e=null;if(!t.chartType)return new o.TSMapLayer(t).createImageLayer();switch(t.chartType.layer){case 0:e=this.createTSLayer(t);break;case 1:e=this.createMapvLayer(t);break;case 2:e=this.createEchartsLayer(t)}return e},t.createTSLayer=function(t){var e=null;switch(t.chartType.type){case n.MapVChartType.Boundary.type:e=new o.TSMapLayer(t).createFeatureLayer();break;case n.MapVChartType.Heat.type:e=new o.TSMapLayer(t).createHeatMapLayer();break;default:e=new o.TSMapLayer(t).createFeatureLayer()}return e},t.createMapvLayer=function(t){var e=null;switch(t.chartType.type){case n.MapVChartType.LineAnimation.type:var r=new s.CompositeLayer;r.add("line",new a.MapVLayer({map:t.map,mapType:t.mapType})),r.add("flowAnimation",new a.MapVLayer({map:t.map,mapType:t.mapType})),e=r;break;case n.MapVChartType.DynamicPoint.type:e=new a.MapVLayer({map:t.map,mapType:t.mapType});break;case n.MapVChartType.QianXi.type:var i=new s.CompositeLayer;i.add("line",new a.MapVLayer({map:t.map,mapType:t.mapType})),i.add("flowAnimation",new a.MapVLayer({map:t.map,mapType:t.mapType})),i.add("text",new a.MapVLayer({map:t.map,mapType:t.mapType})),e=i;break;default:e=new a.MapVLayer({map:t.map,mapType:t.mapType})}return e},t.createEchartsLayer=function(t){return t.chartType.type,new l.EChartsLayer({map:t.map,mapType:t.mapType})},t}();e.LayerCreator=c},function(t,e,r){(function(t){!function(e){"use strict";var r=function(t){t&&t.clearRect&&t.clearRect(0,0,t.canvas.width,t.canvas.height)};function i(){this._subscribers={}}i.prototype.on=function(t,e){var r=this._subscribers[t];r||(r=[],this._subscribers[t]=r),r.push({callback:e})},i.prototype.off=function(t,e){var r=this._subscribers[t];if(r)for(var i=0;i<r.length;i++)r[i].callback==e&&(r.splice(i,1),i--)},i.prototype._trigger=function(t,e,r){if("*"==t)throw new Error("Cannot trigger event *");var i=[];t in this._subscribers&&(i=i.concat(this._subscribers[t])),"*"in this._subscribers&&(i=i.concat(this._subscribers["*"]));for(var n=0,o=i.length;n<o;n++){var a=i[n];a.callback&&a.callback(t,e,r||null)}};var n={municipalities:[{n:"北京",g:"116.395645,39.929986|12"},{n:"上海",g:"121.487899,31.249162|12"},{n:"天津",g:"117.210813,39.14393|12"},{n:"重庆",g:"106.530635,29.544606|12"}],provinces:[{n:"安徽",g:"117.216005,31.859252|8",cities:[{n:"合肥",g:"117.282699,31.866942|12"},{n:"安庆",g:"117.058739,30.537898|13"},{n:"蚌埠",g:"117.35708,32.929499|13"},{n:"亳州",g:"115.787928,33.871211|13"},{n:"巢湖",g:"117.88049,31.608733|13"},{n:"池州",g:"117.494477,30.660019|14"},{n:"滁州",g:"118.32457,32.317351|13"},{n:"阜阳",g:"115.820932,32.901211|13"},{n:"淮北",g:"116.791447,33.960023|13"},{n:"淮南",g:"117.018639,32.642812|13"},{n:"黄山",g:"118.29357,29.734435|13"},{n:"六安",g:"116.505253,31.755558|13"},{n:"马鞍山",g:"118.515882,31.688528|13"},{n:"宿州",g:"116.988692,33.636772|13"},{n:"铜陵",g:"117.819429,30.94093|14"},{n:"芜湖",g:"118.384108,31.36602|12"},{n:"宣城",g:"118.752096,30.951642|13"}]},{n:"福建",g:"117.984943,26.050118|8",cities:[{n:"福州",g:"119.330221,26.047125|12"},{n:"龙岩",g:"117.017997,25.078685|13"},{n:"南平",g:"118.181883,26.643626|13"},{n:"宁德",g:"119.542082,26.656527|14"},{n:"莆田",g:"119.077731,25.44845|13"},{n:"泉州",g:"118.600362,24.901652|12"},{n:"三明",g:"117.642194,26.270835|14"},{n:"厦门",g:"118.103886,24.489231|12"},{n:"漳州",g:"117.676205,24.517065|12"}]},{n:"甘肃",g:"102.457625,38.103267|6",cities:[{n:"兰州",g:"103.823305,36.064226|12"},{n:"白银",g:"104.171241,36.546682|13"},{n:"定西",g:"104.626638,35.586056|13"},{n:"甘南州",g:"102.917442,34.992211|14"},{n:"嘉峪关",g:"98.281635,39.802397|13"},{n:"金昌",g:"102.208126,38.516072|13"},{n:"酒泉",g:"98.508415,39.741474|13"},{n:"临夏州",g:"103.215249,35.598514|13"},{n:"陇南",g:"104.934573,33.39448|14"},{n:"平凉",g:"106.688911,35.55011|13"},{n:"庆阳",g:"107.644227,35.726801|13"},{n:"天水",g:"105.736932,34.584319|13"},{n:"武威",g:"102.640147,37.933172|13"},{n:"张掖",g:"100.459892,38.93932|13"}]},{n:"广东",g:"113.394818,23.408004|8",cities:[{n:"广州",g:"113.30765,23.120049|12"},{n:"潮州",g:"116.630076,23.661812|13"},{n:"东莞",g:"113.763434,23.043024|12"},{n:"佛山",g:"113.134026,23.035095|13"},{n:"河源",g:"114.713721,23.757251|12"},{n:"惠州",g:"114.410658,23.11354|12"},{n:"江门",g:"113.078125,22.575117|13"},{n:"揭阳",g:"116.379501,23.547999|13"},{n:"茂名",g:"110.931245,21.668226|13"},{n:"梅州",g:"116.126403,24.304571|13"},{n:"清远",g:"113.040773,23.698469|13"},{n:"汕头",g:"116.72865,23.383908|13"},{n:"汕尾",g:"115.372924,22.778731|14"},{n:"韶关",g:"113.594461,24.80296|13"},{n:"深圳",g:"114.025974,22.546054|12"},{n:"阳江",g:"111.97701,21.871517|14"},{n:"云浮",g:"112.050946,22.937976|13"},{n:"湛江",g:"110.365067,21.257463|13"},{n:"肇庆",g:"112.479653,23.078663|13"},{n:"中山",g:"113.42206,22.545178|12"},{n:"珠海",g:"113.562447,22.256915|13"}]},{n:"广西",g:"108.924274,23.552255|7",cities:[{n:"南宁",g:"108.297234,22.806493|12"},{n:"百色",g:"106.631821,23.901512|13"},{n:"北海",g:"109.122628,21.472718|13"},{n:"崇左",g:"107.357322,22.415455|14"},{n:"防城港",g:"108.351791,21.617398|15"},{n:"桂林",g:"110.26092,25.262901|12"},{n:"贵港",g:"109.613708,23.103373|13"},{n:"河池",g:"108.069948,24.699521|14"},{n:"贺州",g:"111.552594,24.411054|14"},{n:"来宾",g:"109.231817,23.741166|14"},{n:"柳州",g:"109.422402,24.329053|12"},{n:"钦州",g:"108.638798,21.97335|13"},{n:"梧州",g:"111.305472,23.485395|13"},{n:"玉林",g:"110.151676,22.643974|14"}]},{n:"贵州",g:"106.734996,26.902826|8",cities:[{n:"贵阳",g:"106.709177,26.629907|12"},{n:"安顺",g:"105.92827,26.228595|13"},{n:"毕节地区",g:"105.300492,27.302612|14"},{n:"六盘水",g:"104.852087,26.591866|13"},{n:"铜仁地区",g:"109.196161,27.726271|14"},{n:"遵义",g:"106.93126,27.699961|13"},{n:"黔西南州",g:"104.900558,25.095148|11"},{n:"黔东南州",g:"107.985353,26.583992|11"},{n:"黔南州",g:"107.523205,26.264536|11"}]},{n:"海南",g:"109.733755,19.180501|9",cities:[{n:"海口",g:"110.330802,20.022071|13"},{n:"白沙",g:"109.358586,19.216056|12"},{n:"保亭",g:"109.656113,18.597592|12"},{n:"昌江",g:"109.0113,19.222483|12"},{n:"儋州",g:"109.413973,19.571153|13"},{n:"澄迈",g:"109.996736,19.693135|13"},{n:"东方",g:"108.85101,18.998161|13"},{n:"定安",g:"110.32009,19.490991|13"},{n:"琼海",g:"110.414359,19.21483|13"},{n:"琼中",g:"109.861849,19.039771|12"},{n:"乐东",g:"109.062698,18.658614|12"},{n:"临高",g:"109.724101,19.805922|13"},{n:"陵水",g:"109.948661,18.575985|12"},{n:"三亚",g:"109.522771,18.257776|12"},{n:"屯昌",g:"110.063364,19.347749|13"},{n:"万宁",g:"110.292505,18.839886|13"},{n:"文昌",g:"110.780909,19.750947|13"},{n:"五指山",g:"109.51775,18.831306|13"}]},{n:"河北",g:"115.661434,38.61384|7",cities:[{n:"石家庄",g:"114.522082,38.048958|12"},{n:"保定",g:"115.49481,38.886565|13"},{n:"沧州",g:"116.863806,38.297615|13"},{n:"承德",g:"117.933822,40.992521|14"},{n:"邯郸",g:"114.482694,36.609308|13"},{n:"衡水",g:"115.686229,37.746929|13"},{n:"廊坊",g:"116.703602,39.518611|13"},{n:"秦皇岛",g:"119.604368,39.945462|12"},{n:"唐山",g:"118.183451,39.650531|13"},{n:"邢台",g:"114.520487,37.069531|13"},{n:"张家口",g:"114.893782,40.811188|13"}]},{n:"河南",g:"113.486804,34.157184|7",cities:[{n:"郑州",g:"113.649644,34.75661|12"},{n:"安阳",g:"114.351807,36.110267|12"},{n:"鹤壁",g:"114.29777,35.755426|13"},{n:"焦作",g:"113.211836,35.234608|13"},{n:"开封",g:"114.351642,34.801854|13"},{n:"洛阳",g:"112.447525,34.657368|12"},{n:"漯河",g:"114.046061,33.576279|13"},{n:"南阳",g:"112.542842,33.01142|13"},{n:"平顶山",g:"113.300849,33.745301|13"},{n:"濮阳",g:"115.026627,35.753298|12"},{n:"三门峡",g:"111.181262,34.78332|13"},{n:"商丘",g:"115.641886,34.438589|13"},{n:"新乡",g:"113.91269,35.307258|13"},{n:"信阳",g:"114.085491,32.128582|13"},{n:"许昌",g:"113.835312,34.02674|13"},{n:"周口",g:"114.654102,33.623741|13"},{n:"驻马店",g:"114.049154,32.983158|13"}]},{n:"黑龙江",g:"128.047414,47.356592|6",cities:[{n:"哈尔滨",g:"126.657717,45.773225|12"},{n:"大庆",g:"125.02184,46.596709|12"},{n:"大兴安岭地区",g:"124.196104,51.991789|10"},{n:"鹤岗",g:"130.292472,47.338666|13"},{n:"黑河",g:"127.50083,50.25069|14"},{n:"鸡西",g:"130.941767,45.32154|13"},{n:"佳木斯",g:"130.284735,46.81378|12"},{n:"牡丹江",g:"129.608035,44.588521|13"},{n:"七台河",g:"131.019048,45.775005|14"},{n:"齐齐哈尔",g:"123.987289,47.3477|13"},{n:"双鸭山",g:"131.171402,46.655102|13"},{n:"绥化",g:"126.989095,46.646064|13"},{n:"伊春",g:"128.910766,47.734685|14"}]},{n:"湖北",g:"112.410562,31.209316|8",cities:[{n:"武汉",g:"114.3162,30.581084|12"},{n:"鄂州",g:"114.895594,30.384439|14"},{n:"恩施",g:"109.517433,30.308978|14"},{n:"黄冈",g:"114.906618,30.446109|14"},{n:"黄石",g:"115.050683,30.216127|13"},{n:"荆门",g:"112.21733,31.042611|13"},{n:"荆州",g:"112.241866,30.332591|12"},{n:"潜江",g:"112.768768,30.343116|13"},{n:"神农架林区",g:"110.487231,31.595768|13"},{n:"十堰",g:"110.801229,32.636994|13"},{n:"随州",g:"113.379358,31.717858|13"},{n:"天门",g:"113.12623,30.649047|13"},{n:"仙桃",g:"113.387448,30.293966|13"},{n:"咸宁",g:"114.300061,29.880657|13"},{n:"襄阳",g:"112.176326,32.094934|12"},{n:"孝感",g:"113.935734,30.927955|13"},{n:"宜昌",g:"111.310981,30.732758|13"}]},{n:"湖南",g:"111.720664,27.695864|7",cities:[{n:"长沙",g:"112.979353,28.213478|12"},{n:"常德",g:"111.653718,29.012149|12"},{n:"郴州",g:"113.037704,25.782264|13"},{n:"衡阳",g:"112.583819,26.898164|13"},{n:"怀化",g:"109.986959,27.557483|13"},{n:"娄底",g:"111.996396,27.741073|13"},{n:"邵阳",g:"111.461525,27.236811|13"},{n:"湘潭",g:"112.935556,27.835095|13"},{n:"湘西州",g:"109.745746,28.317951|14"},{n:"益阳",g:"112.366547,28.588088|13"},{n:"永州",g:"111.614648,26.435972|13"},{n:"岳阳",g:"113.146196,29.378007|13"},{n:"张家界",g:"110.48162,29.124889|13"},{n:"株洲",g:"113.131695,27.827433|13"}]},{n:"江苏",g:"119.368489,33.013797|8",cities:[{n:"南京",g:"118.778074,32.057236|12"},{n:"常州",g:"119.981861,31.771397|12"},{n:"淮安",g:"119.030186,33.606513|12"},{n:"连云港",g:"119.173872,34.601549|12"},{n:"南通",g:"120.873801,32.014665|12"},{n:"苏州",g:"120.619907,31.317987|12"},{n:"宿迁",g:"118.296893,33.95205|13"},{n:"泰州",g:"119.919606,32.476053|13"},{n:"无锡",g:"120.305456,31.570037|12"},{n:"徐州",g:"117.188107,34.271553|12"},{n:"盐城",g:"120.148872,33.379862|12"},{n:"扬州",g:"119.427778,32.408505|13"},{n:"镇江",g:"119.455835,32.204409|13"}]},{n:"江西",g:"115.676082,27.757258|7",cities:[{n:"南昌",g:"115.893528,28.689578|12"},{n:"抚州",g:"116.360919,27.954545|13"},{n:"赣州",g:"114.935909,25.845296|13"},{n:"吉安",g:"114.992039,27.113848|13"},{n:"景德镇",g:"117.186523,29.303563|12"},{n:"九江",g:"115.999848,29.71964|13"},{n:"萍乡",g:"113.859917,27.639544|13"},{n:"上饶",g:"117.955464,28.457623|13"},{n:"新余",g:"114.947117,27.822322|13"},{n:"宜春",g:"114.400039,27.81113|13"},{n:"鹰潭",g:"117.03545,28.24131|13"}]},{n:"吉林",g:"126.262876,43.678846|7",cities:[{n:"长春",g:"125.313642,43.898338|12"},{n:"白城",g:"122.840777,45.621086|13"},{n:"白山",g:"126.435798,41.945859|13"},{n:"吉林",g:"126.564544,43.871988|12"},{n:"辽源",g:"125.133686,42.923303|13"},{n:"四平",g:"124.391382,43.175525|12"},{n:"松原",g:"124.832995,45.136049|13"},{n:"通化",g:"125.94265,41.736397|13"},{n:"延边",g:"129.485902,42.896414|13"}]},{n:"辽宁",g:"122.753592,41.6216|8",cities:[{n:"沈阳",g:"123.432791,41.808645|12"},{n:"鞍山",g:"123.007763,41.118744|13"},{n:"本溪",g:"123.778062,41.325838|12"},{n:"朝阳",g:"120.446163,41.571828|13"},{n:"大连",g:"121.593478,38.94871|12"},{n:"丹东",g:"124.338543,40.129023|12"},{n:"抚顺",g:"123.92982,41.877304|12"},{n:"阜新",g:"121.660822,42.01925|14"},{n:"葫芦岛",g:"120.860758,40.74303|13"},{n:"锦州",g:"121.147749,41.130879|13"},{n:"辽阳",g:"123.172451,41.273339|14"},{n:"盘锦",g:"122.073228,41.141248|13"},{n:"铁岭",g:"123.85485,42.299757|13"},{n:"营口",g:"122.233391,40.668651|13"}]},{n:"内蒙古",g:"114.415868,43.468238|5",cities:[{n:"呼和浩特",g:"111.660351,40.828319|12"},{n:"阿拉善盟",g:"105.695683,38.843075|14"},{n:"包头",g:"109.846239,40.647119|12"},{n:"巴彦淖尔",g:"107.423807,40.76918|12"},{n:"赤峰",g:"118.930761,42.297112|12"},{n:"鄂尔多斯",g:"109.993706,39.81649|12"},{n:"呼伦贝尔",g:"119.760822,49.201636|12"},{n:"通辽",g:"122.260363,43.633756|12"},{n:"乌海",g:"106.831999,39.683177|13"},{n:"乌兰察布",g:"113.112846,41.022363|12"},{n:"锡林郭勒盟",g:"116.02734,43.939705|11"},{n:"兴安盟",g:"122.048167,46.083757|11"}]},{n:"宁夏",g:"106.155481,37.321323|8",cities:[{n:"银川",g:"106.206479,38.502621|12"},{n:"固原",g:"106.285268,36.021523|13"},{n:"石嘴山",g:"106.379337,39.020223|13"},{n:"吴忠",g:"106.208254,37.993561|14"},{n:"中卫",g:"105.196754,37.521124|14"}]},{n:"青海",g:"96.202544,35.499761|7",cities:[{n:"西宁",g:"101.767921,36.640739|12"},{n:"果洛州",g:"100.223723,34.480485|11"},{n:"海东地区",g:"102.085207,36.51761|11"},{n:"海北州",g:"100.879802,36.960654|11"},{n:"海南州",g:"100.624066,36.284364|11"},{n:"海西州",g:"97.342625,37.373799|11"},{n:"黄南州",g:"102.0076,35.522852|11"},{n:"玉树州",g:"97.013316,33.00624|14"}]},{n:"山东",g:"118.527663,36.09929|8",cities:[{n:"济南",g:"117.024967,36.682785|12"},{n:"滨州",g:"117.968292,37.405314|12"},{n:"东营",g:"118.583926,37.487121|12"},{n:"德州",g:"116.328161,37.460826|12"},{n:"菏泽",g:"115.46336,35.26244|13"},{n:"济宁",g:"116.600798,35.402122|13"},{n:"莱芜",g:"117.684667,36.233654|13"},{n:"聊城",g:"115.986869,36.455829|12"},{n:"临沂",g:"118.340768,35.072409|12"},{n:"青岛",g:"120.384428,36.105215|12"},{n:"日照",g:"119.50718,35.420225|12"},{n:"泰安",g:"117.089415,36.188078|13"},{n:"威海",g:"122.093958,37.528787|13"},{n:"潍坊",g:"119.142634,36.716115|12"},{n:"烟台",g:"121.309555,37.536562|12"},{n:"枣庄",g:"117.279305,34.807883|13"},{n:"淄博",g:"118.059134,36.804685|12"}]},{n:"山西",g:"112.515496,37.866566|7",cities:[{n:"太原",g:"112.550864,37.890277|12"},{n:"长治",g:"113.120292,36.201664|12"},{n:"大同",g:"113.290509,40.113744|12"},{n:"晋城",g:"112.867333,35.499834|13"},{n:"晋中",g:"112.738514,37.693362|13"},{n:"临汾",g:"111.538788,36.099745|13"},{n:"吕梁",g:"111.143157,37.527316|14"},{n:"朔州",g:"112.479928,39.337672|13"},{n:"忻州",g:"112.727939,38.461031|12"},{n:"阳泉",g:"113.569238,37.869529|13"},{n:"运城",g:"111.006854,35.038859|13"}]},{n:"陕西",g:"109.503789,35.860026|7",cities:[{n:"西安",g:"108.953098,34.2778|12"},{n:"安康",g:"109.038045,32.70437|13"},{n:"宝鸡",g:"107.170645,34.364081|12"},{n:"汉中",g:"107.045478,33.081569|13"},{n:"商洛",g:"109.934208,33.873907|13"},{n:"铜川",g:"108.968067,34.908368|13"},{n:"渭南",g:"109.483933,34.502358|13"},{n:"咸阳",g:"108.707509,34.345373|13"},{n:"延安",g:"109.50051,36.60332|13"},{n:"榆林",g:"109.745926,38.279439|12"}]},{n:"四川",g:"102.89916,30.367481|7",cities:[{n:"成都",g:"104.067923,30.679943|12"},{n:"阿坝州",g:"102.228565,31.905763|15"},{n:"巴中",g:"106.757916,31.869189|14"},{n:"达州",g:"107.494973,31.214199|14"},{n:"德阳",g:"104.402398,31.13114|13"},{n:"甘孜州",g:"101.969232,30.055144|15"},{n:"广安",g:"106.63572,30.463984|13"},{n:"广元",g:"105.819687,32.44104|13"},{n:"乐山",g:"103.760824,29.600958|13"},{n:"凉山州",g:"102.259591,27.892393|14"},{n:"泸州",g:"105.44397,28.89593|14"},{n:"南充",g:"106.105554,30.800965|13"},{n:"眉山",g:"103.84143,30.061115|13"},{n:"绵阳",g:"104.705519,31.504701|12"},{n:"内江",g:"105.073056,29.599462|13"},{n:"攀枝花",g:"101.722423,26.587571|14"},{n:"遂宁",g:"105.564888,30.557491|12"},{n:"雅安",g:"103.009356,29.999716|13"},{n:"宜宾",g:"104.633019,28.769675|13"},{n:"资阳",g:"104.63593,30.132191|13"},{n:"自贡",g:"104.776071,29.359157|13"}]},{n:"西藏",g:"89.137982,31.367315|6",cities:[{n:"拉萨",g:"91.111891,29.662557|13"},{n:"阿里地区",g:"81.107669,30.404557|11"},{n:"昌都地区",g:"97.185582,31.140576|15"},{n:"林芝地区",g:"94.349985,29.666941|11"},{n:"那曲地区",g:"92.067018,31.48068|14"},{n:"日喀则地区",g:"88.891486,29.269023|14"},{n:"山南地区",g:"91.750644,29.229027|11"}]},{n:"新疆",g:"85.614899,42.127001|6",cities:[{n:"乌鲁木齐",g:"87.564988,43.84038|12"},{n:"阿拉尔",g:"81.291737,40.61568|13"},{n:"阿克苏地区",g:"80.269846,41.171731|12"},{n:"阿勒泰地区",g:"88.137915,47.839744|13"},{n:"巴音郭楞",g:"86.121688,41.771362|12"},{n:"博尔塔拉州",g:"82.052436,44.913651|11"},{n:"昌吉州",g:"87.296038,44.007058|13"},{n:"哈密地区",g:"93.528355,42.858596|13"},{n:"和田地区",g:"79.930239,37.116774|13"},{n:"喀什地区",g:"75.992973,39.470627|12"},{n:"克拉玛依",g:"84.88118,45.594331|13"},{n:"克孜勒苏州",g:"76.137564,39.750346|11"},{n:"石河子",g:"86.041865,44.308259|13"},{n:"塔城地区",g:"82.974881,46.758684|12"},{n:"图木舒克",g:"79.198155,39.889223|13"},{n:"吐鲁番地区",g:"89.181595,42.96047|13"},{n:"五家渠",g:"87.565449,44.368899|13"},{n:"伊犁州",g:"81.297854,43.922248|11"}]},{n:"云南",g:"101.592952,24.864213|7",cities:[{n:"昆明",g:"102.714601,25.049153|12"},{n:"保山",g:"99.177996,25.120489|13"},{n:"楚雄州",g:"101.529382,25.066356|13"},{n:"大理州",g:"100.223675,25.5969|14"},{n:"德宏州",g:"98.589434,24.44124|14"},{n:"迪庆州",g:"99.713682,27.831029|14"},{n:"红河州",g:"103.384065,23.367718|11"},{n:"丽江",g:"100.229628,26.875351|13"},{n:"临沧",g:"100.092613,23.887806|14"},{n:"怒江州",g:"98.859932,25.860677|14"},{n:"普洱",g:"100.980058,22.788778|14"},{n:"曲靖",g:"103.782539,25.520758|12"},{n:"昭通",g:"103.725021,27.340633|13"},{n:"文山",g:"104.089112,23.401781|14"},{n:"西双版纳",g:"100.803038,22.009433|13"},{n:"玉溪",g:"102.545068,24.370447|13"}]},{n:"浙江",g:"119.957202,29.159494|8",cities:[{n:"杭州",g:"120.219375,30.259244|12"},{n:"湖州",g:"120.137243,30.877925|12"},{n:"嘉兴",g:"120.760428,30.773992|13"},{n:"金华",g:"119.652576,29.102899|12"},{n:"丽水",g:"119.929576,28.4563|13"},{n:"宁波",g:"121.579006,29.885259|12"},{n:"衢州",g:"118.875842,28.95691|12"},{n:"绍兴",g:"120.592467,30.002365|13"},{n:"台州",g:"121.440613,28.668283|13"},{n:"温州",g:"120.690635,28.002838|12"},{n:"舟山",g:"122.169872,30.03601|13"}]}],other:[{n:"香港",g:"114.186124,22.293586|11"},{n:"澳门",g:"113.557519,22.204118|13"},{n:"台湾",g:"120.961454,23.80406|8"}]};function o(t){var e=t.split("|");return e[0]=e[0].split(","),{lng:parseFloat(e[0][0]),lat:parseFloat(e[0][1])}}var a={getProvinceNameByCityName:function(t){for(var e=n.provinces,r=0;r<e.length;r++)for(var i=e[r].n,o=e[r].cities,a=0;a<o.length;a++)if(o[a].n==t)return i;return null},getCenterByCityName:function(t){t=t.replace("市","");for(var e=0;e<n.municipalities.length;e++)if(n.municipalities[e].n==t)return o(n.municipalities[e].g);for(e=0;e<n.other.length;e++)if(n.other[e].n==t)return o(n.other[e].g);var r=n.provinces;for(e=0;e<r.length;e++){if(r[e].n==t)return o(r[e].g);for(var i=r[e].cities,a=0;a<i.length;a++)if(i[a].n==t)return o(i[a].g)}return null}},s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},l=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),c=function t(e,r,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,r);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,r,i)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(i):void 0},h=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e};function p(t,e){i.bind(this)(),this._options=e||{},this._data=[],t&&this.add(t)}(p.prototype=i.prototype).add=function(t,e){if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++){if(t[r].time&&14==t[r].time.length&&"20"==t[r].time.substr(0,2)){var n=t[r].time;t[r].time=new Date(n.substr(0,4)+"-"+n.substr(4,2)+"-"+n.substr(6,2)+" "+n.substr(8,2)+":"+n.substr(10,2)+":"+n.substr(12,2)).getTime()}this._data.push(t[r])}else{if(!(t instanceof Object))throw new Error("Unknown dataType");this._data.push(t)}this._dataCache=JSON.parse(JSON.stringify(this._data))},p.prototype.reset=function(){this._data=JSON.parse(JSON.stringify(this._dataCache))},p.prototype.get=function(t){t=t||{},new Date;var e=this._data;if(new Date,t.filter){for(var r=[],i=0;i<e.length;i++)t.filter(e[i])&&r.push(e[i]);e=r}return t.transferCoordinate&&(e=this.transferCoordinate(e,t.transferCoordinate,t.fromColumn,t.toColumn)),e},p.prototype.set=function(t){this._set(t),this._trigger("change")},p.prototype._set=function(t){this.clear(),this.add(t)},p.prototype.clear=function(t){this._data=[]},p.prototype.remove=function(t){},p.prototype.update=function(t,e){for(var r=this._data,i=0;i<r.length;i++)if(e){var n=!0;for(var o in e)r[i][o]!=e[o]&&(n=!1);n&&t&&t(r[i])}else t&&t(r[i]);this._dataCache=JSON.parse(JSON.stringify(this._data)),this._trigger("change")},p.prototype.transferCoordinate=function(t,e,r,i){i=i||"_coordinates",r=r||"coordinates";for(var n=0;n<t.length;n++){var o=t[n].geometry,a=o[r];switch(o.type){case"Point":o[i]=e(a);break;case"LineString":for(var s=[],l=0;l<a.length;l++)s.push(e(a[l]));o[i]=s;break;case"MultiLineString":case"Polygon":s=u(a);o[i]=s;break;case"MultiPolygon":s=[];for(var c=0;c<a.length;c++){var h=u(h=a[c]);s.push(h)}o[i]=s}}function u(t){for(var r=[],i=0;i<t.length;i++){for(var n=t[i],o=[],a=0;a<n.length;a++)o.push(e(n[a]));r.push(o)}return r}return t},p.prototype.initGeometry=function(t){t?this._data.forEach(function(e){e.geometry=t(e)}):this._data.forEach(function(t){if(!t.geometry)if(t.lng&&t.lat)t.geometry={type:"Point",coordinates:[t.lng,t.lat]};else if(t.city){var e=a.getCenterByCityName(t.city);e&&(t.geometry={type:"Point",coordinates:[e.lng,e.lat]})}})},p.prototype.getMax=function(t){var e=this._data;if(e&&!(e.length<=0)){for(var r=parseFloat(e[0][t]),i=1;i<e.length;i++){var n=parseFloat(e[i][t]);r<n&&(r=n)}return r}},p.prototype.getSum=function(t){var e=this._data;if(e&&!(e.length<=0)){for(var r=0,i=0;i<e.length;i++)e[i][t]&&(r+=parseFloat(e[i][t]));return r}},p.prototype.getMin=function(t){var e=this._data;if(e&&!(e.length<=0)){for(var r=parseFloat(e[0][t]),i=1;i<e.length;i++){var n=parseFloat(e[i][t]);n<r&&(r=n)}return r}},p.prototype.getUnique=function(t){if((i=this._data)&&!(i.length<=0)){for(var e={},r=1;r<i.length;r++)e[i[r][t]]=!0;var i=[];for(var n in e)i.push(n);return i}};var f={drawDataSet:function(t,e,r){for(var i=e instanceof p?e.get():e,n=0,o=i.length;n<o;n++){var a=i[n];this.draw(t,a,r)}},draw:function(t,e,r){var i=e.geometry.type,n=e.geometry._coordinates||e.geometry.coordinates,o=r.symbol||"circle";switch(i){case"Point":var a=e._size||e.size||r._size||r.size||5;"circle"===o?("Point"===r.bigData&&t.moveTo(n[0],n[1]),t.arc(n[0],n[1],a,0,2*Math.PI)):"rect"===o?t.rect(n[0]-a/2,n[1]-a/2,a,a):"honeycomb"===o&&function(t,e,r,i){for(var n=0;n<6;n++){var o=(a={x:e,y:r},s=i,l=60*n+30,c=Math.PI/180*l,[a.x+s*Math.cos(c),a.y+s*Math.sin(c)]);t.lineTo(o[0],o[1])}var a,s,l,c}(t,n[0],n[1],a);break;case"LineString":this.drawLineString(t,n);break;case"MultiLineString":for(var s=0;s<n.length;s++){var l=n[s];this.drawLineString(t,l)}break;case"Polygon":this.drawPolygon(t,n);break;case"MultiPolygon":for(s=0;s<n.length;s++){var c=n[s];this.drawPolygon(t,c),r.multiPolygonDraw&&r.multiPolygonDraw()}break;default:console.error("type"+i+"is not support now!")}},drawLineString:function(t,e){for(var r=0;r<e.length;r++){var i=e[r][0],n=e[r][1];0==r?t.moveTo(i,n):t.lineTo(i,n)}},drawPolygon:function(t,e){t.beginPath();for(var r=0;r<e.length;r++){var i=e[r];t.moveTo(i[0][0],i[0][1]);for(var n=1;n<i.length;n++)t.lineTo(i[n][0],i[n][1]);t.lineTo(i[0][0],i[0][1]),t.closePath()}}},y={draw:function(t,e,r){var i=e instanceof p?e.get():e;for(var n in t.save(),r)t[n]=r[n];if(r.bigData){t.save(),t.beginPath();for(var o=0,a=i.length;o<a;o++){var s=i[o];f.draw(t,s,r)}"Point"==(l=r.bigData)||"Polygon"==l||"MultiPolygon"==l?(t.fill(),t.lineDash&&t.setLineDash(t.lineDash),s.lineDash&&t.setLineDash(s.lineDash),(s.strokeStyle||r.strokeStyle)&&r.lineWidth&&t.stroke()):"LineString"!=l&&"MultiLineString"!=l||t.stroke(),t.restore()}else for(o=0,a=i.length;o<a;o++){s=i[o];t.save(),(s.fillStyle||s._fillStyle)&&(t.fillStyle=s.fillStyle||s._fillStyle),(s.strokeStyle||s._strokeStyle)&&(t.strokeStyle=s.strokeStyle||s._strokeStyle),t.lineDash&&t.setLineDash(t.lineDash),s.lineDash&&t.setLineDash(s.lineDash);var l=s.geometry.type;t.beginPath(),r.multiPolygonDraw=function(){t.fill(),(s.strokeStyle||r.strokeStyle)&&r.lineWidth&&t.stroke()},f.draw(t,s,r),"Point"==l||"Polygon"==l||"MultiPolygon"==l?(t.fill(),(s.strokeStyle||r.strokeStyle)&&r.lineWidth&&t.stroke()):"LineString"!=l&&"MultiLineString"!=l||((s.lineWidth||s._lineWidth)&&(t.lineWidth=s.lineWidth||s._lineWidth),t.stroke()),t.restore()}t.restore()}};function d(t,e){if("undefined"==typeof document);else{var r=document.createElement("canvas");t&&(r.width=t),e&&(r.height=e)}return r}function v(t){t=t||{},this.gradient=t.gradient||{.25:"rgba(0, 0, 255, 1)",.55:"rgba(0, 255, 0, 1)",.85:"rgba(255, 255, 0, 1)",1:"rgba(255, 0, 0, 1)"},this.maxSize=t.maxSize||35,this.minSize=t.minSize||0,this.max=t.max||100,this.min=t.min||0,this.initPalette()}v.prototype.setMax=function(t){this.max=t||100},v.prototype.setMin=function(t){this.min=t||0},v.prototype.setMaxSize=function(t){this.maxSize=t||35},v.prototype.setMinSize=function(t){this.minSize=t||0},v.prototype.initPalette=function(){var t=this.gradient,e=new d(256,1),r=this.paletteCtx=e.getContext("2d"),i=r.createLinearGradient(0,0,256,1);for(var n in t)i.addColorStop(parseFloat(n),t[n]);r.fillStyle=i,r.fillRect(0,0,256,1)},v.prototype.getColor=function(t){var e=this.getImageData(t);return"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]/256+")"},v.prototype.getImageData=function(t){var e=this.paletteCtx.getImageData(0,0,256,1).data;if(void 0===t)return e;var r=this.max,i=this.min;r<t&&(t=r),t<i&&(t=i);var n=4*Math.floor((t-i)/(r-i)*255)||1020;return[e[n],e[n+1],e[n+2],e[n+3]]},v.prototype.getSize=function(t){var e=this.max,r=this.min,i=this.maxSize,n=this.minSize;return e<t&&(t=e),t<r&&(t=r),r<e?n+(t-r)/(e-r)*(i-n):i},v.prototype.getLegend=function(t){var e=this.gradient,r=t.width||20,i=t.height||180,n=new d(r,i),o=n.getContext("2d"),a=o.createLinearGradient(0,i,0,0);for(var s in e)a.addColorStop(parseFloat(s),e[s]);return o.fillStyle=a,o.fillRect(0,0,r,i),n};var g=("undefined"==typeof window?{}:window).devicePixelRatio||1;function m(t){return t.max||100}function _(t){return t.min||0}var x={draw:function(t,e,r){if(!(t.canvas.width<=0||t.canvas.height<=0)){var i=r.strength||.3;t.strokeStyle="rgba(0,0,0,"+i+")";var n=new d(t.canvas.width,t.canvas.height),o=n.getContext("2d");o.scale(g,g),r=r||{};var a=e instanceof p?e.get():e;t.save();var s=new v({gradient:r.gradient});if(function(t,e,r){var i=m(r),n=_(r),o=r._size;null==o&&null==(o=r.size)&&(o=13);var a,s,l,c,h,u=new v({gradient:r.gradient,max:i,min:n}),p=((h=(c=new d(2*(l=(a=o)+(s=a/2)),2*l)).getContext("2d")).shadowBlur=s,h.shadowColor="black",h.shadowOffsetX=h.shadowOffsetY=1e4,h.beginPath(),h.arc(l-1e4,l-1e4,a,0,2*Math.PI,!0),h.closePath(),h.fill(),c),y=p.width/2,g=p.height/2,x=e,b={};for(var w in x.forEach(function(t,e){var r=void 0===t.count?1:t.count,n=Math.min(1,r/i).toFixed(2);b[n]=b[n]||[],b[n].push(t)}),b)if(!isNaN(w)){var C=b[w];t.beginPath(),r.withoutAlpha||(t.globalAlpha=w),t.strokeStyle=u.getColor(w*i),C.forEach(function(e,n){if(e.geometry){var o=e.geometry._coordinates||e.geometry.coordinates,a=e.geometry.type;if("Point"===a){var s=void 0===e.count?1:e.count;t.globalAlpha=s/i,t.drawImage(p,o[0]-y,o[1]-g)}else"LineString"===a&&(s=void 0===e.count?1:e.count,t.globalAlpha=s/i,t.beginPath(),f.draw(t,e,r),t.stroke())}})}}(o,a,r),!r.absolute){var l=o.getImageData(0,0,t.canvas.width,t.canvas.height);(function(t,e,r){var i=m(r),n=_(r),o=i-n,a=0,s=1024;(h=r.range||null)&&2===h.length&&(a=(h[0]-n)/o*1024),h&&2===h.length&&(s=(h[1]-n)/o*1024);for(var l,c=r.maxOpacity||.8,h=r.range,u=3,p=t.length;u<p;u+=4)l=4*t[u],t[u]/256>c&&(t[u]=256*c),l&&a<=l&&l<=s?(t[u-3]=e[l],t[u-2]=e[l+1],t[u-1]=e[l+2]):t[u]=0})(l.data,s.getImageData(),r),t.putImageData(l,0,0),t.restore()}n=s=null}}},b={draw:function(t,e,r){t.save();for(var i=e instanceof p?e.get():e,n={},o=r._size||r.size||50,a=r.offset||{x:0,y:0},s=0;s<i.length;s++){var l=i[s].geometry._coordinates||i[s].geometry.coordinates;n[h=Math.floor((l[0]-a.x)/o)+","+Math.floor((l[1]-a.y)/o)]||(n[h]=0),n[h]+=~~(i[s].count||1)}var c=new v({min:r.min||0,max:r.max||100,gradient:r.gradient});for(var h in n)h=h.split(","),t.beginPath(),t.rect(h[0]*o+.5+a.x,h[1]*o+.5+a.y,o,o),t.fillStyle=c.getColor(n[h]),t.fill(),r.strokeStyle&&r.lineWidth&&t.stroke();if(r.label&&!1!==r.label.show)for(var h in t.fillStyle=r.label.fillStyle||"white",r.label.font&&(t.font=r.label.font),r.label.shadowColor&&(t.shadowColor=r.label.shadowColor),r.label.shadowBlur&&(t.shadowBlur=r.label.shadowBlur),n){var u=n[h=h.split(",")],f=t.measureText(u).width;t.fillText(u,h[0]*o+.5+a.x+o/2-f/2,h[1]*o+.5+a.y+o/2+5)}t.restore()}},w={draw:function(t,e,r){t.save();var i=e instanceof p?e.get():e;for(var n in r)t[n]=r[n];for(var o=r.offset||{x:10,y:10},a=r._size||r.size||40,s=2*(a=a/2/Math.sin(Math.PI/3))*Math.sin(Math.PI/3),l=1.5*a,c={},h=0;h<i.length;h++){var u=i[h].geometry._coordinates||i[h].geometry.coordinates,f=(u[1]-o.y)/l,y=Math.round(f),d=(u[0]-o.x)/s-(1&y?.5:0),g=Math.round(d),m=f-y;if(1<3*Math.abs(m)){var _=d-g,x=g+(d<g?-1:1)/2,b=y+(f<y?-1:1),w=d-x,C=f-b;w*w+C*C<_*_+m*m&&(g=x+(1&y?1:-1)/2,y=b)}var S=g+"-"+y,O=c[S];O?O.push(i[h]):((O=c[S]=[i[h]]).i=g,O.j=y,O.x=(g+(1&y?.5:0))*s,O.y=y*l)}var P,T,L,A,M=new v({max:r.max||100,maxSize:a,gradient:r.gradient});for(var n in c){var k=c[n];t.beginPath();for(var E=0;E<6;E++){var D=(P={x:k.x+o.x,y:k.y+o.y},T=a,L=60*E+30,A=Math.PI/180*L,[P.x+T*Math.cos(A),P.y+T*Math.sin(A)]);t.lineTo(D[0],D[1])}t.closePath();var z=0;for(h=0;h<k.length;h++)z+=k[h].count||1;k.count=z,t.fillStyle=M.getColor(z),t.fill(),r.strokeStyle&&r.lineWidth&&t.stroke()}if(r.label&&!1!==r.label.show)for(var n in t.fillStyle=r.label.fillStyle||"white",r.label.font&&(t.font=r.label.font),r.label.shadowColor&&(t.shadowColor=r.label.shadowColor),r.label.shadowBlur&&(t.shadowBlur=r.label.shadowBlur),c){var j=(k=c[n]).count;j=j<0?j.toFixed(2):~~j;var B=t.measureText(j).width;t.fillText(j,k.x+o.x-B/2,k.y+o.y+5)}t.restore()}};function C(t,e,r){var i=t.createShader(r);return t.shaderSource(i,e),t.compileShader(i),i}function S(t,e,r){var i=C(t,e,t.VERTEX_SHADER),n=C(t,r,t.FRAGMENT_SHADER),o=t.createProgram();return t.attachShader(o,i),t.attachShader(o,n),t.linkProgram(o),t.useProgram(o),o}function O(t){var e=document.createElement("canvas"),r=e.getContext("2d");return e.width=1,e.height=1,r.fillStyle=t,r.fillRect(0,0,1,1),r.getImageData(0,0,1,1).data}var T=["attribute vec4 a_Position;","void main() {","gl_Position = a_Position;","gl_PointSize = 30.0;","}"].join(""),A=["precision mediump float;","uniform vec4 u_FragColor;","void main() {","gl_FragColor = u_FragColor;","}"].join(""),M={draw:function(t,e,r){if(e){var i=S(t,T,A);t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE),t.clear(t.COLOR_BUFFER_BIT);var n=t.canvas.width/2,o=t.canvas.height/2,a=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,a);var s=t.getAttribLocation(i,"a_Position");t.vertexAttribPointer(s,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(s);var l=t.getUniformLocation(i,"u_FragColor"),c=O(r.strokeStyle||"red");t.uniform4f(l,c[0]/255,c[1]/255,c[2]/255,c[3]/255),t.lineWidth(r.lineWidth||1);for(var h=0,u=e.length;h<u;h++){for(var p=e[h].geometry._coordinates,f=[],y=0;y<p.length;y++){var d=p[y],v=(d[0]-n)/n,g=(o-d[1])/o;f.push(v,g)}var m=new Float32Array(f);t.bufferData(t.ARRAY_BUFFER,m,t.STATIC_DRAW),t.drawArrays(t.LINE_STRIP,0,p.length)}}}},k=["attribute vec4 a_Position;","attribute float a_PointSize;","void main() {","gl_Position = a_Position;","gl_PointSize = a_PointSize;","}"].join(""),E=["precision mediump float;","uniform vec4 u_FragColor;","void main() {","gl_FragColor = u_FragColor;","}"].join(""),D={draw:function(t,e,r){if(e){var i=S(t,k,E),n=t.getAttribLocation(i,"a_Position"),o=t.getAttribLocation(i,"a_PointSize"),a=t.getUniformLocation(i,"u_FragColor");t.clear(t.COLOR_BUFFER_BIT);for(var s=t.canvas.width/2,l=t.canvas.height/2,c=[],h=0,u=0;u<e.length;u++){var p=e[u].geometry._coordinates,f=(p[0]-s)/s,y=(l-p[1])/l;f<-1||1<f||y<-1||1<y||(c.push(f,y),h++)}var d=new Float32Array(c),v=h,g=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,g),t.bufferData(t.ARRAY_BUFFER,d,t.STATIC_DRAW),t.vertexAttribPointer(n,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(n),t.vertexAttrib1f(o,r._size);var m=O(r.fillStyle||"red");t.uniform4f(a,m[0]/255,m[1]/255,m[2]/255,m[3]/255),t.drawArrays(t.POINTS,0,v)}}};function z(t,e,r){r=r||2;var i,n,o,a,s,l,c,h=e&&e.length,u=h?e[0]*r:t.length,p=j(t,0,u,r,!0),f=[];if(!p)return f;if(h&&(p=function(t,e,r,i){var n,o,a,s=[];for(n=0,o=e.length;n<o;n++)(a=j(t,e[n]*i,n<o-1?e[n+1]*i:t.length,i,!1))===a.next&&(a.steiner=!0),s.push(q(a));for(s.sort(G),n=0;n<s.length;n++)V(s[n],r),r=B(r,r.next);return r}(t,e,p,r)),t.length>80*r){i=o=t[0],n=a=t[1];for(var y=r;y<u;y+=r)(s=t[y])<i&&(i=s),(l=t[y+1])<n&&(n=l),o<s&&(o=s),a<l&&(a=l);c=Math.max(o-i,a-n)}return F(p,f,r,i,n,c),f}function j(t,e,r,i,n){var o,a;if(n===0<et(t,e,r,i))for(o=e;o<r;o+=i)a=Q(o,t[o],t[o+1],a);else for(o=r-i;e<=o;o-=i)a=Q(o,t[o],t[o+1],a);return a&&X(a,a.next)&&(K(a),a=a.next),a}function B(t,e){if(!t)return t;e||(e=t);var r,i=t;do{if(r=!1,i.steiner||!X(i,i.next)&&0!==Z(i.prev,i,i.next))i=i.next;else{if(K(i),(i=e=i.prev)===i.next)return null;r=!0}}while(r||i!==e);return e}function F(t,e,r,i,n,o,a){if(t){!a&&o&&function(t,e,r,i){for(var n=t;null===n.z&&(n.z=H(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,(n=n.next)!==t;);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,r,i,n,o,a,s,l,c=1;do{for(r=t,o=t=null,a=0;r;){for(a++,i=r,e=s=0;e<c&&(s++,i=i.nextZ);e++);for(l=c;0<s||0<l&&i;)0===s?(i=(n=i).nextZ,l--):0!==l&&i?r.z<=i.z?(r=(n=r).nextZ,s--):(i=(n=i).nextZ,l--):(r=(n=r).nextZ,s--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}o.nextZ=null,c*=2}while(1<a)}(n)}(t,i,n,o);for(var s,l,c=t;t.prev!==t.next;)if(s=t.prev,l=t.next,o?I(t,i,n,o):R(t))e.push(s.i/r),e.push(t.i/r),e.push(l.i/r),K(t),t=l.next,c=l.next;else if((t=l)===c){a?1===a?F(t=N(t,e,r),e,r,i,n,o,2):2===a&&W(t,e,r,i,n,o):F(B(t),e,r,i,n,o,1);break}}}function R(t){var e=t.prev,r=t,i=t.next;if(0<=Z(e,r,i))return!1;for(var n=t.next.next;n!==t.prev;){if(U(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&0<=Z(n.prev,n,n.next))return!1;n=n.next}return!0}function I(t,e,r,i){var n=t.prev,o=t,a=t.next;if(0<=Z(n,o,a))return!1;for(var s=n.x<o.x?n.x<a.x?n.x:a.x:o.x<a.x?o.x:a.x,l=n.y<o.y?n.y<a.y?n.y:a.y:o.y<a.y?o.y:a.y,c=n.x>o.x?n.x>a.x?n.x:a.x:o.x>a.x?o.x:a.x,h=n.y>o.y?n.y>a.y?n.y:a.y:o.y>a.y?o.y:a.y,u=H(s,l,e,r,i),p=H(c,h,e,r,i),f=t.nextZ;f&&f.z<=p;){if(f!==t.prev&&f!==t.next&&U(n.x,n.y,o.x,o.y,a.x,a.y,f.x,f.y)&&0<=Z(f.prev,f,f.next))return!1;f=f.nextZ}for(f=t.prevZ;f&&f.z>=u;){if(f!==t.prev&&f!==t.next&&U(n.x,n.y,o.x,o.y,a.x,a.y,f.x,f.y)&&0<=Z(f.prev,f,f.next))return!1;f=f.prevZ}return!0}function N(t,e,r){var i=t;do{var n=i.prev,o=i.next.next;!X(n,o)&&Y(n,i,i.next,o)&&J(n,o)&&J(o,n)&&(e.push(n.i/r),e.push(i.i/r),e.push(o.i/r),K(i),K(i.next),i=t=o),i=i.next}while(i!==t);return i}function W(t,e,r,i,n,o){var a,s,l=t;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&(s=c,(a=l).next.i!==s.i&&a.prev.i!==s.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Y(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(a,s)&&J(a,s)&&J(s,a)&&function(t,e){for(var r=t,i=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;r.y>o!=r.next.y>o&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),(r=r.next)!==t;);return i}(a,s))){var h=$(l,c);return l=B(l,l.next),h=B(h,h.next),F(l,e,r,i,n,o),void F(h,e,r,i,n,o)}c=c.next}l=l.next}while(l!==t)}function G(t,e){return t.x-e.x}function V(t,e){if(e=function(t,e){var r,i=e,n=t.x,o=t.y,a=-1/0;do{if(o<=i.y&&o>=i.next.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=n&&a<s){if((a=s)===n){if(o===i.y)return i;if(o===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!r)return null;if(n===a)return r.prev;var l,c=r,h=r.x,u=r.y,p=1/0;for(i=r.next;i!==c;)n>=i.x&&i.x>=h&&U(o<u?n:a,o,h,u,o<u?a:n,o,i.x,i.y)&&((l=Math.abs(o-i.y)/(n-i.x))<p||l===p&&i.x>r.x)&&J(i,t)&&(r=i,p=l),i=i.next;return r}(t,e)){var r=$(e,t);B(r,r.next)}}function H(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)/n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)/n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function q(t){for(var e=t,r=t;e.x<r.x&&(r=e),(e=e.next)!==t;);return r}function U(t,e,r,i,n,o,a,s){return 0<=(n-a)*(e-s)-(t-a)*(o-s)&&0<=(t-a)*(i-s)-(r-a)*(e-s)&&0<=(r-a)*(o-s)-(n-a)*(i-s)}function Z(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function X(t,e){return t.x===e.x&&t.y===e.y}function Y(t,e,r,i){return!!(X(t,e)&&X(r,i)||X(t,i)&&X(r,e))||0<Z(t,e,r)!=0<Z(t,e,i)&&0<Z(r,i,t)!=0<Z(r,i,e)}function J(t,e){return Z(t.prev,t,t.next)<0?0<=Z(t,e,t.next)&&0<=Z(t,t.prev,e):Z(t,e,t.prev)<0||Z(t,t.next,e)<0}function $(t,e){var r=new tt(t.i,t.x,t.y),i=new tt(e.i,e.x,e.y),n=t.next,o=e.prev;return(t.next=e).prev=t,(r.next=n).prev=r,(i.next=r).prev=i,(o.next=i).prev=o,i}function Q(t,e,r,i){var n=new tt(t,e,r);return i?(n.next=i.next,(n.prev=i).next.prev=n,i.next=n):(n.prev=n).next=n,n}function K(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function tt(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function et(t,e,r,i){for(var n=0,o=e,a=r-i;o<r;o+=i)n+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return n}z.deviation=function(t,e,r,i){var n=e&&e.length,o=n?e[0]*r:t.length,a=Math.abs(et(t,0,o,r));if(n)for(var s=0,l=e.length;s<l;s++){var c=e[s]*r,h=s<l-1?e[s+1]*r:t.length;a-=Math.abs(et(t,c,h,r))}var u=0;for(s=0;s<i.length;s+=3){var p=i[s]*r,f=i[s+1]*r,y=i[s+2]*r;u+=Math.abs((t[p]-t[y])*(t[f+1]-t[p+1])-(t[p]-t[f])*(t[y+1]-t[p+1]))}return 0===a&&0===u?0:Math.abs((u-a)/a)},z.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var a=0;a<e;a++)r.vertices.push(t[n][o][a]);0<n&&(i+=t[n-1].length,r.holes.push(i))}return r};var rt=["attribute vec4 a_Position;","void main() {","gl_Position = a_Position;","gl_PointSize = 30.0;","}"].join(""),it=["precision mediump float;","uniform vec4 u_FragColor;","void main() {","gl_FragColor = u_FragColor;","}"].join(""),nt={draw:function(t,e,r){if(e){t.clear(t.COLOR_BUFFER_BIT),t.viewport(0,0,t.canvas.width,t.canvas.height);var i=S(t,rt,it);t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE);var n=t.canvas.width/2,o=t.canvas.height/2;t.bindBuffer(t.ARRAY_BUFFER,t.createBuffer()),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,t.createBuffer());var a=t.getAttribLocation(i,"a_Position");t.vertexAttribPointer(a,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(a);var s=t.getUniformLocation(i,"u_FragColor"),l=O(r.fillStyle||"red");t.uniform4f(s,l[0]/255,l[1]/255,l[2]/255,l[3]/255),t.lineWidth(r.lineWidth||1);for(var c=[],h=[],u=0,p=0,f=e.length;p<f;p++){var y=z.flatten(e[p].geometry._coordinates||e[p].geometry.coordinates),d=y.vertices;u=c.length/2;for(var v=0;v<d.length;v+=2)d[v]=(d[v]-n)/n,d[v+1]=(o-d[v+1])/o;65536<(c.length+d.length)/2&&(t.bufferData(t.ARRAY_BUFFER,new Float32Array(c),t.STATIC_DRAW),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(h),t.STATIC_DRAW),t.drawElements(t.TRIANGLES,h.length,t.UNSIGNED_SHORT,0),c.length=0,h.length=0,u=0);for(v=0;v<d.length;v++)c.push(d[v]);var g=z(d,y.holes,y.dimensions);for(v=0;v<g.length;v++)h.push(g[v]+u)}t.bufferData(t.ARRAY_BUFFER,new Float32Array(c),t.STATIC_DRAW),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(h),t.STATIC_DRAW),t.drawElements(t.TRIANGLES,h.length,t.UNSIGNED_SHORT,0),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}}},ot={draw:function(t,e,r){var i=e instanceof p?e.get():e;0<i.length&&("LineString"==i[0].geometry.type?M.draw(t,i,r):"Polygon"==i[0].geometry.type||"MultiPolygon"==i[0].geometry.type?nt.draw(t,i,r):D.draw(t,i,r))}};function at(t,e,r){if(!t||!e)return null;var i,n,o,a,s,l,c=function(t){return 1-2*t+t*t},h=function(t){return 2*t-2*t*t},u=function(t){return t*t},p=[],f=(r=r||40,0),y=0;if(void 0!==e){var d=parseFloat(t.lat),v=parseFloat(e.lat),g=parseFloat(t.lng),m=parseFloat(e.lng);for(g<m&&180<parseFloat(m-g)&&g<0&&(g=parseFloat(360+g),m=parseFloat(360+m)),l=0,n=v==d?(i=0,g-m):m==g?(i=Math.PI/2,d-v):(i=Math.atan((v-d)/(m-g)),(v-d)/Math.sin(i)),0==l&&(l=i+Math.PI/5),s=(o=n/2)*Math.cos(l)+g,a=o*Math.sin(l)+d,f=0;f<r+1;f++){var _=g*c(y)+s*h(y)+m*u(y),x=d*c(y)+a*h(y)+v*u(y),b=t.lng,w=e.lng;p.push([b<0&&0<w?_-360:_,x]),y+=1/r}return p}void 0!==p&&(p=[])}var st={getPoints:function(t,e){e=e||{};for(var r=[],i=0;i<t.length-1;i++){var n=at(t[i],t[i+1],e.count);n&&0<n.length&&(r=r.concat(n))}return r}};function lt(t){this.splitList=t||{other:1}}function ct(t){this.splitList=t||[{start:0,value:"red"}]}lt.prototype.get=function(t){var e=this.splitList,r=e.other;for(var i in e)if(t==i){r=e[i];break}return r},lt.prototype.generateByDataSet=function(t,e){var r=e||["rgba(255, 255, 0, 0.8)","rgba(253, 98, 104, 0.8)","rgba(255, 146, 149, 0.8)","rgba(255, 241, 193, 0.8)","rgba(110, 176, 253, 0.8)","rgba(52, 139, 251, 0.8)","rgba(17, 102, 252, 0.8)"],i=t.get();this.splitList={};for(var n=0,o=0;o<i.length&&(void 0===this.splitList[i[o].count]&&(this.splitList[i[o].count]=r[n],n++),!(n>=r.length-1));o++);this.splitList.other=r[r.length-1]},lt.prototype.getLegend=function(t){var e=this.splitList,r=document.createElement("div");r.style.cssText="background:#fff; padding: 5px; border: 1px solid #ccc;";var i="";for(var n in e)i+='<div style="line-height: 19px;" value="'+n+'"><span style="vertical-align: -2px; display: inline-block; width: 30px;height: 19px;background:'+e[n]+';"></span><span style="margin-left: 3px;">'+n+"<span></div>";return r.innerHTML=i,r},ct.prototype.get=function(t){for(var e=this.splitList,r=!1,i=0;i<e.length;i++)if((void 0===e[i].start||void 0!==e[i].start&&t>=e[i].start)&&(void 0===e[i].end||void 0!==e[i].end&&t<e[i].end)){r=e[i].value;break}return r},ct.prototype.generateByDataSet=function(t){var e=t.getMin("count"),r=t.getMax("count");this.generateByMinMax(e,r)},ct.prototype.generateByMinMax=function(t,e){var r=["rgba(255, 255, 0, 0.8)","rgba(253, 98, 104, 0.8)","rgba(255, 146, 149, 0.8)","rgba(255, 241, 193, 0.8)","rgba(110, 176, 253, 0.8)","rgba(52, 139, 251, 0.8)","rgba(17, 102, 252, 0.8)"],i=Number((e-t)/7);e=Number(e);var n=Number(t);this.splitList=[];for(var o=0;n<e;)this.splitList.push({start:n,end:n+i,value:r[o]}),o++,n+=i},ct.prototype.getLegend=function(t){this.splitList};var ht=function(){function t(e,r,i){if(s(this,t),!e||!r)return console.warn("id 和 type 为必填项"),!1;if("baidu"==r){if(!BMap)return console.warn("请先引入百度地图JS API"),!1}else console.warn("暂不支持你的地图类型");this.type=r;var n=i&&i.center?i.center:[106.962497,38.208726],o=i&&i.zoom?i.zoom:5,a=this.map=new BMap.Map(e,{enableMapClick:!1});a.centerAndZoom(new BMap.Point(n[0],n[1]),o),a.enableScrollWheelZoom(!0),a.setMapStyle({style:"light"})}return l(t,[{key:"addLayer",value:function(t,e){if("baidu"==this.type)return new mapv.baiduMapLayer(this.map,dataSet,e)}},{key:"getMap",value:function(){return this.map}}]),t}();function ut(t){this.options=t||{},this.paneName=this.options.paneName||"mapPane",this.context=this.options.context||"2d",this.zIndex=this.options.zIndex||0,this.mixBlendMode=this.options.mixBlendMode||null,this.enableMassClear=this.options.enableMassClear,this._map=t.map,this._lastDrawTime=null,this.show()}var pt="undefined"==typeof window?{}:window;pt.BMap&&((ut.prototype=new BMap.Overlay).initialize=function(t){this._map=t;var e=this.canvas=document.createElement("canvas");e.style.cssText="position:absolute;left:0;top:0;z-index:"+this.zIndex+";user-select:none;",e.style.mixBlendMode=this.mixBlendMode,this.adjustSize(),t.getPanes()[this.paneName].appendChild(e);var r=this;return t.addEventListener("resize",function(){r.adjustSize(),r._draw()}),this.canvas},ut.prototype.adjustSize=function(){var t=this._map.getSize(),e=this.canvas,r=this.devicePixelRatio=pt.devicePixelRatio||1;e.width=t.width*r,e.height=t.height*r,"2d"==this.context&&e.getContext(this.context).scale(r,r),e.style.width=t.width+"px",e.style.height=t.height+"px"},ut.prototype.draw=function(){var t=this;clearTimeout(t.timeoutID),t.timeoutID=setTimeout(function(){t._draw()},15)},ut.prototype._draw=function(){var t=this._map,e=t.getSize(),r=t.getCenter();if(r){var i=t.pointToOverlayPixel(r);this.canvas.style.left=i.x-e.width/2+"px",this.canvas.style.top=i.y-e.height/2+"px",this.dispatchEvent("draw"),this.options.update&&this.options.update.call(this)}},ut.prototype.getContainer=function(){return this.canvas},ut.prototype.show=function(){this.canvas||this._map.addOverlay(this),this.canvas.style.display="block"},ut.prototype.hide=function(){this.canvas.style.display="none"},ut.prototype.setZIndex=function(t){this.zIndex=t,this.canvas.style.zIndex=this.zIndex},ut.prototype.getZIndex=function(){return this.zIndex});var ft,yt,dt=dt||(ft=[],{getAll:function(){return ft},removeAll:function(){ft=[]},add:function(t){ft.push(t)},remove:function(t){var e=ft.indexOf(t);-1!==e&&ft.splice(e,1)},update:function(t,e){if(0===ft.length)return!1;var r=0;for(t=void 0!==t?t:dt.now();r<ft.length;)ft[r].update(t)||e?r++:ft.splice(r,1);return!0}});function vt(t,e){var r=e[0]-t[0],i=e[1]-t[1],n=360*Math.atan(i/r)/(2*Math.PI);return e[0]<t[0]&&(n+=180),n}"undefined"==typeof window&&void 0!==t?dt.now=function(){var e=t.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?dt.now=window.performance.now.bind(window.performance):void 0!==Date.now?dt.now=Date.now:dt.now=function(){return(new Date).getTime()},dt.Tween=function(t){var e,r=t,i={},n={},o={},a=1e3,s=0,l=!1,c=!1,h=!1,u=0,p=null,f=dt.Easing.Linear.None,y=dt.Interpolation.Linear,d=[],v=null,g=!1,m=null,_=null,x=null;this.to=function(t,e){return n=t,void 0!==e&&(a=e),this},this.start=function(t){for(var e in dt.add(this),g=!(c=!0),p=void 0!==t?t:dt.now(),p+=u,n){if(n[e]instanceof Array){if(0===n[e].length)continue;n[e]=[r[e]].concat(n[e])}void 0!==r[e]&&(i[e]=r[e],i[e]instanceof Array==0&&(i[e]*=1),o[e]=i[e]||0)}return this},this.stop=function(){return c&&(dt.remove(this),c=!1,null!==x&&x.call(r,r),this.stopChainedTweens()),this},this.end=function(){return this.update(p+a),this},this.stopChainedTweens=function(){for(var t=0,e=d.length;t<e;t++)d[t].stop()},this.delay=function(t){return u=t,this},this.repeat=function(t){return s=t,this},this.repeatDelay=function(t){return e=t,this},this.yoyo=function(t){return l=t,this},this.easing=function(t){return f=t,this},this.interpolation=function(t){return y=t,this},this.chain=function(){return d=arguments,this},this.onStart=function(t){return v=t,this},this.onUpdate=function(t){return m=t,this},this.onComplete=function(t){return _=t,this},this.onStop=function(t){return x=t,this},this.update=function(t){var c,x,b;if(t<p)return!0;for(c in!1===g&&(null!==v&&v.call(r,r),g=!0),b=f(x=1<(x=(t-p)/a)?1:x),n)if(void 0!==i[c]){var w=i[c]||0,C=n[c];C instanceof Array?r[c]=y(C,b):("string"==typeof C&&(C="+"===C.charAt(0)||"-"===C.charAt(0)?w+parseFloat(C):parseFloat(C)),"number"==typeof C&&(r[c]=w+(C-w)*b))}if(null!==m&&m.call(r,b),1!==x)return!0;if(0<s){for(c in isFinite(s)&&s--,o){if("string"==typeof n[c]&&(o[c]=o[c]+parseFloat(n[c])),l){var S=o[c];o[c]=n[c],n[c]=S}i[c]=o[c]}return l&&(h=!h),p=void 0!==e?t+e:t+u,!0}null!==_&&_.call(r,r);for(var O=0,P=d.length;O<P;O++)d[O].start(p+a);return!1}},dt.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){return t*t*(2.70158*t-1.70158)},Out:function(t){return--t*t*(2.70158*t+1.70158)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-dt.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*dt.Easing.Bounce.In(2*t):.5*dt.Easing.Bounce.Out(2*t-1)+.5}}},dt.Interpolation={Linear:function(t,e){var r=t.length-1,i=r*e,n=Math.floor(i),o=dt.Interpolation.Utils.Linear;return e<0?o(t[0],t[1],i):1<e?o(t[r],t[r-1],r-i):o(t[n],t[r<n+1?r:n+1],i-n)},Bezier:function(t,e){for(var r=0,i=t.length-1,n=Math.pow,o=dt.Interpolation.Utils.Bernstein,a=0;a<=i;a++)r+=n(1-e,i-a)*n(e,a)*t[a]*o(i,a);return r},CatmullRom:function(t,e){var r=t.length-1,i=r*e,n=Math.floor(i),o=dt.Interpolation.Utils.CatmullRom;return t[0]===t[r]?(e<0&&(n=Math.floor(i=r*(1+e))),o(t[(n-1+r)%r],t[n],t[(n+1)%r],t[(n+2)%r],i-n)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-i)-t[0]):1<e?t[r]-(o(t[r],t[r],t[r-1],t[r-1],i-r)-t[r]):o(t[n?n-1:0],t[n],t[r<n+1?r:n+1],t[r<n+2?r:n+2],i-n)},Utils:{Linear:function(t,e,r){return(e-t)*r+t},Bernstein:function(t,e){var r=dt.Interpolation.Utils.Factorial;return r(t)/r(e)/r(t-e)},Factorial:(yt=[1],function(t){var e=1;if(yt[t])return yt[t];for(var r=t;1<r;r--)e*=r;return yt[t]=e}),CatmullRom:function(t,e,r,i,n){var o=.5*(r-t),a=.5*(i-e),s=n*n;return(2*e-2*r+o+a)*(n*s)+(-3*e+3*r-2*o-a)*s+o*n+e}}};var gt={},mt={draw:function(t,e,r){var i="http://huiyan.baidu.com/github/tools/gis-drawing/static/images/direction.png";r.arrow&&r.arrow.url&&(i=r.arrow.url),gt[i]||(gt[i]=null);var n=gt[i];if(!n){var o=Array.prototype.slice.call(arguments),a=new Image;return a.onload=function(){gt[i]=a,mt.draw.apply(null,o)},void(a.src=i)}var s=e instanceof p?e.get():e;for(var l in t.save(),r)t[l]=r[l];for(var c,h,u=[],f=null,y=0,d=s.length;y<d;y++){var v=s[y];t.save(),(v.fillStyle||v._fillStyle)&&(t.fillStyle=v.fillStyle||v._fillStyle),(v.strokeStyle||v._strokeStyle)&&(t.strokeStyle=v.strokeStyle||v._strokeStyle);var g=v.geometry.type;if(t.beginPath(),"LineString"===g)for(var m=v.geometry._coordinates||v.geometry.coordinates,_=void 0!==r.arrow.interval?r.arrow.interval:1,x=0;x<m.length;x+=_)if(m[x]&&m[x+1]){var b=m[x];if(f&&(c=b,h=f,Math.sqrt(Math.pow(c[0]-h[0],2)+Math.pow(c[1]-h[1],2))<30))continue;t.save();var w=vt(m[x],m[x+1]);t.translate(b[0],b[1]),t.rotate(w*Math.PI/180),t.drawImage(n,-n.width/2/2,-n.height/2/2,n.width/2,n.height/2),t.restore(),u.push(b),f=b}t.restore()}t.restore()}},_t=function(t,e,i){var n=e instanceof p?e.get():e;t.save(),t.fillStyle=i.fillStyle||"rgba(0, 0, 0, 0.5)",t.fillRect(0,0,t.canvas.width,t.canvas.height),i.multiPolygonDraw=function(){t.save(),t.clip(),r(t),t.restore()};for(var o=0,a=n.length;o<a;o++)t.beginPath(),f.drawDataSet(t,[n[o]],i),t.save(),t.clip(),r(t),t.restore();t.restore()},xt=function(t,e,r){t.save();for(var i,n,o=e instanceof p?e.get():e,a=0;a<o.length;a++){(u=o[a]).properties&&u.properties.cluster&&(void 0===i&&(i=u.properties.point_count),void 0===n&&(n=u.properties.point_count),i=Math.max(i,u.properties.point_count),n=Math.min(n,u.properties.point_count))}var s=new v({min:n,max:i,minSize:r.minSize||8,maxSize:r.maxSize||30,gradient:r.gradient}),l=null,c=r.iconWidth||16,h=r.iconHeight||16;for(a=0;a<o.length;a++){var u=o[a],f=o[a].geometry._coordinates||o[a].geometry.coordinates;if(t.beginPath(),u.properties&&u.properties.cluster){if(t.arc(f[0],f[1],s.getSize(u.properties.point_count),0,2*Math.PI),t.fillStyle=s.getColor(u.properties.point_count),t.fill(),r.label&&!1!==r.label.show){t.fillStyle=r.label.fillStyle||"white",r.label.font&&(t.font=r.label.font),r.label.shadowColor&&(t.shadowColor=r.label.shadowColor),r.label.shadowBlur&&(t.shadowBlur=r.label.shadowBlur);var y=u.properties.point_count,d=t.measureText(y).width;t.fillText(y,f[0]+.5-d/2,f[1]+.5+3)}}else if(l=u[r.iconFieldName]){var g=f[0]-c/2,m=f[1]-h/2;t.drawImage(l,g,m,c,h)}else t.arc(f[0],f[1],r.size||5,0,2*Math.PI),t.fillStyle=r.fillStyle||"red",t.fill()}t.restore()},bt=function(t,e,r){var i=e instanceof p?e.get():e;for(var n in t.save(),r)t[n]=r[n];var o=r.offset||{x:0,y:0},a=[],s=r._size||r.size;s?t.font="bold "+s+"px Arial":s=12;var l=r.textKey||"text";if(r.textAlign||(t.textAlign="center"),r.textBaseline||(t.textBaseline="middle"),r.avoid)for(var c=0,h=i.length;c<h;c++){var u=(_=i[c].geometry._coordinates||i[c].geometry.coordinates)[0]+o.x,f=_[1]+o.y,y=i[c][l],d=t.measureText(y).width,v=u-d/2,g=f-s/2,m={sw:{x:v,y:g+s},ne:{x:v+d,y:g}};wt(a,m)||(a.push(m),v+=d/2,g+=s/2,t.fillText(y,v,g))}else for(c=0,h=i.length;c<h;c++){var _;u=(_=i[c].geometry._coordinates||i[c].geometry.coordinates)[0]+o.x,f=_[1]+o.y,y=i[c][l];t.fillText(y,u,f)}t.restore()};function wt(t,e){for(var r=0;r<t.length;r++)if(Ct(t[r],e))return!0;return!1}function Ct(t,e){var r=Math.min(t.ne.x,e.ne.x),i=Math.min(t.sw.y,e.sw.y),n=Math.max(t.sw.x,e.sw.x),o=Math.max(t.ne.y,e.ne.y);return n<r&&o<i}var St=function(t,e,r){var i=e instanceof p?e.get():e;t.fillStyle="white",t.textAlign="center",t.textBaseline="middle";for(var n=r.offset||{x:0,y:0},o=0,a=i.length;o<a;o++)if(i[o].geometry){var s=i[o].deg||r.deg,l=i[o].icon||r.icon,c=i[o].geometry._coordinates||i[o].geometry.coordinates,h=c[0],u=c[1];s&&(t.save(),t.translate(h,u),t.rotate(s*Math.PI/180),t.translate(-h,-u));var f=r._width||r.width||l.width,y=r._height||r.height||l.height;h=h-f/2+n.x,u=u-y/2+n.y,r.sx&&r.sy&&r.swidth&&r.sheight&&r.width&&r.height?t.drawImage(l,r.sx,r.sy,r.swidth,r.sheight,h,u,f,y):r.width&&r.height?t.drawImage(l,h,u,f,y):t.drawImage(l,h,u),s&&t.restore()}};function Ot(t,e,r,i){Pt(t,r,i),Pt(e,2*r,2*i),Pt(e,2*r+1,2*i+1)}function Pt(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}function Tt(t,e,r,i){var n=t-r,o=e-i;return n*n+o*o}var Lt=function(t){return t[0]},At=function(t){return t[1]},Mt=function(t,e,r,i,n){void 0===e&&(e=Lt),void 0===r&&(r=At),void 0===i&&(i=64),void 0===n&&(n=Float64Array),this.nodeSize=i;for(var o=(this.points=t).length<65536?Uint16Array:Uint32Array,a=this.ids=new o(t.length),s=this.coords=new n(2*t.length),l=0;l<t.length;l++)a[l]=l,s[2*l]=e(t[l]),s[2*l+1]=r(t[l]);!function t(e,r,i,n,o,a){if(!(o-n<=i)){var s=n+o>>1;!function t(e,r,i,n,o,a){for(;n<o;){if(600<o-n){var s=o-n+1,l=i-n+1,c=Math.log(s),h=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*h*(s-h)/s)*(l-s/2<0?-1:1);t(e,r,i,Math.max(n,Math.floor(i-l*h/s+u)),Math.min(o,Math.floor(i+(s-l)*h/s+u)),a)}var p=r[2*i+a],f=n,y=o;for(Ot(e,r,n,i),r[2*o+a]>p&&Ot(e,r,n,o);f<y;){for(Ot(e,r,f,y),f++,y--;r[2*f+a]<p;)f++;for(;r[2*y+a]>p;)y--}r[2*n+a]===p?Ot(e,r,n,y):Ot(e,r,++y,o),y<=i&&(n=y+1),i<=y&&(o=y-1)}}(e,r,s,n,o,a%2),t(e,r,i,n,s-1,a+1),t(e,r,i,s+1,o,a+1)}}(a,s,i,0,a.length-1,0)};Mt.prototype.range=function(t,e,r,i){return function(t,e,r,i,n,o,a){for(var s,l,c=[0,t.length-1,0],h=[];c.length;){var u=c.pop(),p=c.pop(),f=c.pop();if(p-f<=a)for(var y=f;y<=p;y++)s=e[2*y],l=e[2*y+1],r<=s&&s<=n&&i<=l&&l<=o&&h.push(t[y]);else{var d=Math.floor((f+p)/2);s=e[2*d],l=e[2*d+1],r<=s&&s<=n&&i<=l&&l<=o&&h.push(t[d]);var v=(u+1)%2;(0===u?r<=s:i<=l)&&(c.push(f),c.push(d-1),c.push(v)),(0===u?s<=n:l<=o)&&(c.push(d+1),c.push(p),c.push(v))}}return h}(this.ids,this.coords,t,e,r,i,this.nodeSize)};var kt={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!(Mt.prototype.within=function(t,e,r){return function(t,e,r,i,n,o){for(var a=[0,t.length-1,0],s=[],l=n*n;a.length;){var c=a.pop(),h=a.pop(),u=a.pop();if(h-u<=o)for(var p=u;p<=h;p++)Tt(e[2*p],e[2*p+1],r,i)<=l&&s.push(t[p]);else{var f=Math.floor((u+h)/2),y=e[2*f],d=e[2*f+1];Tt(y,d,r,i)<=l&&s.push(t[f]);var v=(c+1)%2;(0===c?r-n<=y:i-n<=d)&&(a.push(u),a.push(f-1),a.push(v)),(0===c?y<=r+n:d<=i+n)&&(a.push(f+1),a.push(h),a.push(v))}}return s}(this.ids,this.coords,t,e,r,this.nodeSize)}),reduce:null,map:function(t){return t}},Et=function(t){this.options=Ft(Object.create(kt),t),this.trees=new Array(this.options.maxZoom+1),this.maxLng=t.maxLng};function Dt(t,e){return{type:"Feature",id:t.id,properties:zt(t),geometry:{type:"Point",coordinates:[(a=t.x,s=e,(a-.5)*(s||180)*2),(r=t.y,i=e,n=i||180,o=(n-r*n*2)*Math.PI/n,2*n*Math.atan(Math.exp(o))/Math.PI-n/2)]}};var r,i,n,o,a,s}function zt(t){var e=t.numPoints,r=1e4<=e?Math.round(e/1e3)+"k":1e3<=e?Math.round(e/100)/10+"k":e;return Ft(Ft({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:r})}function jt(t,e){return t/(2*(e||180))+.5}function Bt(t,e){var r=e||180,i=Math.sin(t*Math.PI/r),n=.5-.25*Math.log((1+i)/(1-i))/Math.PI;return n<0?0:1<n?1:n}function Ft(t,e){for(var r in e)t[r]=e[r];return t}function Rt(t){return t.x}function It(t){return t.y}Et.prototype.load=function(t){var e=this.options,r=(e.log,e.minZoom),i=e.maxZoom,n=e.nodeSize;t.length,this.points=t;for(var o,a,s,l,c,h,u=[],p=0;p<t.length;p++)t[p].geometry&&u.push((o=t[p],a=p,s=this.maxLng,c=(l=o.geometry.coordinates)[0],h=l[1],{x:jt(c,s),y:Bt(h,s),zoom:1/0,index:a,parentId:-1}));this.trees[i+1]=new Mt(u,Rt,It,n,Float32Array);for(var f=i;r<=f;f--)Date.now(),u=this._cluster(u,f),this.trees[f]=new Mt(u,Rt,It,n,Float32Array);return this},Et.prototype.getClusters=function(t,e){var r=this.maxLng||180,i=((t[0]+r)%(2*r)+2*r)%(2*r)-r,n=Math.max(-r/2,Math.min(r/2,t[1])),o=t[2]===r?r:((t[2]+r)%(2*r)+2*r)%(2*r)-r,a=Math.max(-r/2,Math.min(r/2,t[3]));if(t[2]-t[0]>=2*r)i=-r,o=r;else if(o<i){var s=this.getClusters([i,n,r,a],e),l=this.getClusters([-r,n,o,a],e);return s.concat(l)}for(var c=this.trees[this._limitZoom(e)],h=[],u=0,p=c.range(jt(i,r),Bt(a,r),jt(o,r),Bt(n,r));u<p.length;u+=1){var f=p[u],y=c.points[f];h.push(y.numPoints?Dt(y,r):this.points[y.index])}return h},Et.prototype.getChildren=function(t){var e=t>>5,r=t%32,i="No cluster with the specified id.",n=this.trees[r];if(!n)throw new Error(i);var o=n.points[e];if(!o)throw new Error(i);for(var a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),s=[],l=0,c=n.within(o.x,o.y,a);l<c.length;l+=1){var h=c[l],u=n.points[h];u.parentId===t&&s.push(u.numPoints?Dt(u,this.maxLng):this.points[u.index])}if(0===s.length)throw new Error(i);return s},Et.prototype.getLeaves=function(t,e,r){e=e||10,r=r||0;var i=[];return this._appendLeaves(i,t,e,r,0),i},Et.prototype.getTile=function(t,e,r){var i=this.trees[this._limitZoom(t)],n=Math.pow(2,t),o=this.options,a=o.extent,s=o.radius/a,l=(r-s)/n,c=(r+1+s)/n,h={features:[]};return this._addTileFeatures(i.range((e-s)/n,l,(e+1+s)/n,c),i.points,e,r,n,h),0===e&&this._addTileFeatures(i.range(1-s/n,l,1,c),i.points,n,r,n,h),e===n-1&&this._addTileFeatures(i.range(0,l,s/n,c),i.points,-1,r,n,h),h.features.length?h:null},Et.prototype.getClusterExpansionZoom=function(t){for(var e=t%32-1;e<=this.options.maxZoom;){var r=this.getChildren(t);if(e++,1!==r.length)break;t=r[0].properties.cluster_id}return e},Et.prototype._appendLeaves=function(t,e,r,i,n){for(var o=0,a=this.getChildren(e);o<a.length;o+=1){var s=a[o],l=s.properties;if(l&&l.cluster?n+l.point_count<=i?n+=l.point_count:n=this._appendLeaves(t,l.cluster_id,r,i,n):n<i?n++:t.push(s),t.length===r)break}return n},Et.prototype._addTileFeatures=function(t,e,r,i,n,o){for(var a=0,s=t;a<s.length;a+=1){var l=e[s[a]],c={type:1,geometry:[[Math.round(this.options.extent*(l.x*n-r)),Math.round(this.options.extent*(l.y*n-i))]],tags:l.numPoints?zt(l):this.points[l.index].properties},h=l.numPoints?l.id:this.points[l.index].id;void 0!==h&&(c.id=h),o.features.push(c)}},Et.prototype._limitZoom=function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},Et.prototype._cluster=function(t,e){for(var r=[],i=this.options,n=i.radius,o=i.extent,a=i.reduce,s=n/(o*Math.pow(2,e)),l=0;l<t.length;l++){var c=t[l];if(!(c.zoom<=e)){c.zoom=e;for(var h=this.trees[e+1],u=h.within(c.x,c.y,s),p=c.numPoints||1,f=c.x*p,y=c.y*p,d=a&&1<p?this._map(c,!0):null,v=(l<<5)+(e+1),g=0,m=u;g<m.length;g+=1){var _=m[g],x=h.points[_];if(!(x.zoom<=e)){x.zoom=e;var b=x.numPoints||1;f+=x.x*b,y+=x.y*b,p+=b,x.parentId=v,a&&(d||(d=this._map(c,!0)),a(d,this._map(x)))}}1===p?r.push(c):(c.parentId=v,r.push({x:f/p,y:y/p,zoom:1/0,id:v,parentId:-1,numPoints:p,properties:d}))}}return r},Et.prototype._map=function(t,e){if(t.numPoints)return e?Ft({},t.properties):t.properties;var r=this.points[t.index].properties,i=this.options.map(r);return e&&i===r?Ft({},i):i},"undefined"!=typeof window&&requestAnimationFrame(function t(e){requestAnimationFrame(t),dt.update(e)});var Nt=function(){function t(e,r,i){if(s(this,t),r instanceof p||(r=new p(r)),this.dataSet=r,this.map=e,"cluster"===i.draw&&!this.supercluster){var n=i.hasOwnProperty("projection")?i.projection:"EPSG:4326",o=this.getMaxLng(n);this.supercluster=new Et({maxZoom:i.maxZoom||19,radius:i.clusterRadius||100,maxLng:o}),this.supercluster.load(r.get()),this.clusterDataSet=new p}}return l(t,[{key:"getDefaultContextConfig",value:function(){return{globalAlpha:1,globalCompositeOperation:"source-over",imageSmoothingEnabled:!0,strokeStyle:"#000000",fillStyle:"#000000",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0)",lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,lineDashOffset:0,font:"10px sans-serif",textAlign:"start",textBaseline:"alphabetic"}}},{key:"initDataRange",value:function(t){var e=this;if(e.intensity=new v({maxSize:e.options.maxSize,minSize:e.options.minSize,gradient:e.options.gradient,max:e.options.max||this.dataSet.getMax("count")}),e.category=new lt(e.options.splitList),e.choropleth=new ct(e.options.splitList),void 0===e.options.splitList&&e.category.generateByDataSet(this.dataSet,e.options.color),void 0===e.options.splitList){var r=e.options.min||this.dataSet.getMin("count"),i=e.options.max||this.dataSet.getMax("count");e.choropleth.generateByMinMax(r,i)}}},{key:"getLegend",value:function(t){return this.options.draw,"intensity"==this.options.draw||"heatmap"==this.options.draw?this.intensity.getLegend(t):"category"==this.options.draw?this.category.getLegend(t):void 0}},{key:"processData",value:function(t){var e=this,r=e.options.draw;if("bubble"==r||"intensity"==r||"category"==r||"choropleth"==r||"simple"==r)for(var i=0;i<t.length;i++){var n=t[i];"bubble"==e.options.draw?t[i]._size=e.intensity.getSize(n.count):t[i]._size=void 0;var o="_fillStyle";"LineString"!==t[i].geometry.type&&"stroke"!==e.options.styleType||(o="_strokeStyle"),"intensity"==e.options.draw?t[i][o]=e.intensity.getColor(n.count):"category"==e.options.draw?t[i][o]=e.category.get(n.count):"choropleth"==e.options.draw&&(t[i][o]=e.choropleth.get(n.count))}}},{key:"isEnabledTime",value:function(){var t=this.options.animation;return t&&!(!1===t.enabled)}},{key:"argCheck",value:function(t){"heatmap"==t.draw&&t.strokeStyle&&console.warn("[heatmap] options.strokeStyle is discard, pleause use options.strength [eg: options.strength = 0.1]")}},{key:"drawContext",value:function(t,e,r,i){var n=this;switch(n.options.draw){case"heatmap":x.draw(t,e,n.options);break;case"grid":case"cluster":case"honeycomb":n.options.offset={x:i.x,y:i.y},"grid"===n.options.draw?b.draw(t,e,n.options):"cluster"===n.options.draw?xt(t,e,n.options):w.draw(t,e,n.options);break;case"text":bt(t,e,n.options);break;case"icon":St(t,e,n.options);break;case"clip":_t(t,e,n.options);break;default:"webgl"==n.options.context?ot.draw(n.canvasLayer.canvas.getContext("webgl"),e,n.options):y.draw(t,e,n.options)}n.options.arrow&&!1!==n.options.arrow.show&&mt.draw(t,e,n.options)}},{key:"isPointInPath",value:function(t,e){var r;t=this.canvasLayer.canvas.getContext(this.context);r="cluster"===this.options.draw?this.clusterDataSet.get():this.dataSet.get();for(var i=0;i<r.length;i++){t.beginPath(),f.draw(t,r[i],this.options);var n=e.x*this.canvasLayer.devicePixelRatio,o=e.y*this.canvasLayer.devicePixelRatio;if(-1<(r[i].geometry&&r[i].geometry.type).indexOf("LineString")){if(t.isPointInStroke&&t.isPointInStroke(n,o))return r[i]}else if(t.isPointInPath(n,o))return r[i]}}},{key:"clickEvent",value:function(t,e){if(this.options.methods){var r=this.isPointInPath(this.getContext(),t),i=null;if(r)for(var n in i={},r)"_"!=n.charAt(0)&&"geometry"!=n&&"type"!=n&&("properties"==n?i.gvCount=r.properties.point_count:i[n]=r[n]);this.options.methods.click({screenX:t.x,screenY:t.y,lng:e.coordinate[0],lat:e.coordinate[1],property:i})}}},{key:"mousemoveEvent",value:function(t,e){if(this.options.methods){var r=this.isPointInPath(this.getContext(),t);r?this.options.methods.mousemove(r,e):this.options.methods.mousemove(null,e)}}},{key:"tapEvent",value:function(t,e){if(this.options.methods){var r=this.isPointInPath(this.getContext(),t);r?this.options.methods.tap(r,e):this.options.methods.tap(null,e)}}},{key:"update",value:function(t,e){var r=t.options,i=this.options;for(var n in r)i[n]=r[n];this.init(i),!1!==e&&this.draw()}},{key:"setOptions",value:function(t){this.dataSet.reset(),this.init(t),this.draw()}},{key:"set",value:function(t){var e=this.getContext(),r=this.getDefaultContextConfig();for(var i in r)e[i]=r[i];this.init(t.options),this.draw()}},{key:"destroy",value:function(){this.unbindEvent(),this.hide()}},{key:"initAnimator",value:function(){var t=this,e=t.options.animation;if("time"==t.options.draw||t.isEnabledTime()){e.stepsRange||(e.stepsRange={start:this.dataSet.getMin("time")||0,end:this.dataSet.getMax("time")||0}),this.steps={step:e.stepsRange.start},t.animator=new dt.Tween(this.steps).onUpdate(function(){t.canvasLayer.canvas&&t._canvasUpdate(this.step)}).repeat(1/0),this.addAnimatorEvent();var r=1e3*e.duration||5e3;t.animator.to({step:e.stepsRange.end},r),t.animator.start()}else t.animator&&t.animator.stop()}},{key:"addAnimatorEvent",value:function(){}},{key:"animatorMovestartEvent",value:function(){var t=this.options.animation;this.isEnabledTime()&&this.animator&&(this.steps.step=t.stepsRange.start,this.animator.stop())}},{key:"animatorMoveendEvent",value:function(){this.isEnabledTime()&&this.animator&&this.animator.start()}},{key:"getMaxLng",value:function(t){var e;switch(t){case"EPSG:3857":e=20026376.39;break;case"EPSG:2436":case"EPSG:4509":e=20037508.342789244;break;default:e=180}return e}}]),t}(),Wt=function(t){function e(t,r,i){s(this,e);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,i));n.map=t,n.options=i||{},n.dataSet=r;var o=new ut({map:t,zIndex:n.options.zIndex,update:n._canvasUpdate.bind(n)});n.init(n.options),n.canvasLayer=o,n.transferToMercator();var a=n;return r.on("change",function(){a.transferToMercator(),o.draw()}),n.ctx=o.canvas.getContext("2d"),n.start(),n}return h(e,Nt),l(e,[{key:"draw",value:function(){this.canvasLayer.draw()}},{key:"init",value:function(t){this.options=t,this.initDataRange(t),this.context=this.options.context||"2d",this.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(this.options.zIndex),this.options.max&&this.intensity.setMax(this.options.max),this.options.min&&this.intensity.setMin(this.options.min),this.initAnimator()}},{key:"transferToMercator",value:function(){var t=this.map.getMapType().getProjection();if("bd09mc"!==this.options.coordType){var e=this.dataSet.get();e=this.dataSet.transferCoordinate(e,function(e){var r=t.lngLatToPoint({lng:e[0],lat:e[1]});return[r.x,r.y]},"coordinates","coordinates_mercator"),this.dataSet._set(e)}}},{key:"_canvasUpdate",value:function(){var t=this.ctx;if(t){var e=this.map,i=Math.pow(2,18-e.getZoom()),n=e.getMapType().getProjection().lngLatToPoint(e.getCenter()),o=new BMap.Pixel(n.x-e.getSize().width/2*i,n.y+e.getSize().height/2*i);r(t);var a={fromColumn:"bd09mc"==this.options.coordType?"coordinates":"coordinates_mercator",transferCoordinate:function(t){if(t)return[(t[0]-o.x)/i,(o.y-t[1])/i]}};this.data=this.dataSet.get(a),this.processData(this.data),this.drawAnimation()}}},{key:"drawAnimation",value:function(){var t=this.ctx,e=this.data;if(e){t.save(),t.globalCompositeOperation="destination-out",t.fillStyle="rgba(0, 0, 0, .1)",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.restore(),t.save(),this.options.shadowColor&&(t.shadowColor=this.options.shadowColor),this.options.shadowBlur&&(t.shadowBlur=this.options.shadowBlur),this.options.globalAlpha&&(t.globalAlpha=this.options.globalAlpha),this.options.globalCompositeOperation&&(t.globalCompositeOperation=this.options.globalCompositeOperation);for(var r=this.options,i=0;i<e.length;i++)if("Point"===e[i].geometry.type){t.beginPath();var n=e[i].size||this.options.size,o=e[i].minSize||this.options.minSize||0;void 0===e[i]._size&&(e[i]._size=o),t.arc(e[i].geometry._coordinates[0],e[i].geometry._coordinates[1],e[i]._size,0,2*Math.PI,!0),t.closePath(),e[i]._size++,e[i]._size>n&&(e[i]._size=o),t.lineWidth=1,t.strokeStyle=e[i].strokeStyle||e[i]._strokeStyle||r.strokeStyle||"yellow",t.stroke(),(c=e[i].fillStyle||e[i]._fillStyle||r.fillStyle)&&(t.fillStyle=c,t.fill())}else if("LineString"===e[i].geometry.type){t.beginPath();var a=e[i].size||this.options.size||5;o=e[i].minSize||this.options.minSize||0;void 0===e[i]._index&&(e[i]._index=0);var s=e[i]._index;t.arc(e[i].geometry._coordinates[s][0],e[i].geometry._coordinates[s][1],a,0,2*Math.PI,!0),t.closePath(),e[i]._index++,e[i]._index>=e[i].geometry._coordinates.length&&(e[i]._index=0);var l=e[i].strokeStyle||r.strokeStyle,c=e[i].fillStyle||r.fillStyle||"yellow";t.fillStyle=c,t.fill(),l&&r.lineWidth&&(t.lineWidth=r.lineWidth||1,t.strokeStyle=l,t.stroke())}t.restore()}}},{key:"animate",value:function(){this.drawAnimation();var t=this.options.animateTime||100;this.timeout=setTimeout(this.animate.bind(this),t)}},{key:"start",value:function(){this.stop(),this.animate()}},{key:"stop",value:function(){clearTimeout(this.timeout)}},{key:"unbindEvent",value:function(){}},{key:"hide",value:function(){this.canvasLayer.hide(),this.stop()}},{key:"show",value:function(){this.start()}}]),e}(),Gt=function(t){function e(t,r,i){s(this,e);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,i)),o=n;i=i||{},n.clickEvent=n.clickEvent.bind(n),n.mousemoveEvent=n.mousemoveEvent.bind(n),n.tapEvent=n.tapEvent.bind(n),o.init(i),o.argCheck(i),o.transferToMercator();var a=n.canvasLayer=new ut({map:t,context:n.context,paneName:i.paneName,mixBlendMode:i.mixBlendMode,enableMassClear:i.enableMassClear,zIndex:i.zIndex,update:function(){o._canvasUpdate()}});return r.on("change",function(){o.transferToMercator(),a.draw()}),n}return h(e,Nt),l(e,[{key:"clickEvent",value:function(t){var r=t.pixel;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clickEvent",this).call(this,r,t)}},{key:"mousemoveEvent",value:function(t){var r=t.pixel;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mousemoveEvent",this).call(this,r,t)}},{key:"tapEvent",value:function(t){var r=t.pixel;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"tapEvent",this).call(this,r,t)}},{key:"bindEvent",value:function(t){this.unbindEvent();var e=this.map,r=0,i=this;this.options.methods&&(this.options.methods.click&&(e.setDefaultCursor("default"),e.addEventListener("click",this.clickEvent)),this.options.methods.mousemove&&e.addEventListener("mousemove",this.mousemoveEvent),"ontouchend"in window.document&&this.options.methods.tap&&(e.addEventListener("touchstart",function(t){r=new Date}),e.addEventListener("touchend",function(t){new Date-r<300&&i.tapEvent(t)})))}},{key:"unbindEvent",value:function(t){var e=this.map;this.options.methods&&(this.options.methods.click&&e.removeEventListener("click",this.clickEvent),this.options.methods.mousemove&&e.removeEventListener("mousemove",this.mousemoveEvent))}},{key:"transferToMercator",value:function(t){t||(t=this.dataSet);var e=this.map.getMapType().getProjection();if("bd09mc"!==this.options.coordType){var r=t.get();r=t.transferCoordinate(r,function(t){if(t[0]<-180||180<t[0]||t[1]<-90||90<t[1])return t;var r=e.lngLatToPoint({lng:t[0],lat:t[1]});return[r.x,r.y]},"coordinates","coordinates_mercator"),t._set(r)}}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"_canvasUpdate",value:function(t){if(this.canvasLayer){var e=this,i=e.options.animation,n=this.canvasLayer._map,o=Math.pow(2,18-n.getZoom()),a=n.getMapType().getProjection().lngLatToPoint(n.getCenter()),s=new BMap.Pixel(a.x-n.getSize().width/2*o,a.y+n.getSize().height/2*o),l=this.getContext();if(e.isEnabledTime()){if(void 0===t)return void r(l);"2d"==this.context&&(l.save(),l.globalCompositeOperation="destination-out",l.fillStyle="rgba(0, 0, 0, .1)",l.fillRect(0,0,l.canvas.width,l.canvas.height),l.restore())}else r(l);if("2d"==this.context)for(var c in e.options)l[c]=e.options[c];else l.clear(l.COLOR_BUFFER_BIT);if(!(e.options.minZoom&&n.getZoom()<e.options.minZoom||e.options.maxZoom&&n.getZoom()>e.options.maxZoom)){var h=1;"2d"!=this.context&&(h=this.canvasLayer.devicePixelRatio);var u,p={fromColumn:"bd09mc"==e.options.coordType?"coordinates":"coordinates_mercator",transferCoordinate:function(t){return[(t[0]-s.x)/o*h,(s.y-t[1])/o*h]}};if(void 0!==t&&(p.filter=function(e){var r=i.trails||10;return!!(t&&e.time>t-r&&e.time<t)}),"cluster"===e.options.draw){var f=this.map.getBounds(),y=f.getNorthEast(),d=f.getSouthWest(),v=this.supercluster.getClusters([d.lng,d.lat,y.lng,y.lat],this.getZoom());this.clusterDataSet.set(v),this.transferToMercator(this.clusterDataSet),u=this.clusterDataSet.get(p)}else u=e.dataSet.get(p);this.processData(u);var g=n.pointToPixel(new BMap.Point(0,0));"m"==e.options.unit?(e.options.size&&(e.options._size=e.options.size/o),e.options.width&&(e.options._width=e.options.width/o),e.options.height&&(e.options._height=e.options.height/o)):(e.options._size=e.options.size,e.options._height=e.options.height,e.options._width=e.options.width),this.drawContext(l,u,e.options,g),e.options.updateCallback&&e.options.updateCallback(t)}}}},{key:"init",value:function(t){this.options=t,this.initDataRange(t),this.context=this.options.context||"2d",this.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(this.options.zIndex),this.options.max&&this.intensity.setMax(this.options.max),this.options.min&&this.intensity.setMin(this.options.min),this.initAnimator(),this.bindEvent()}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"addAnimatorEvent",value:function(){this.map.addEventListener("movestart",this.animatorMovestartEvent.bind(this)),this.map.addEventListener("moveend",this.animatorMoveendEvent.bind(this))}},{key:"show",value:function(){this.map.addOverlay(this.canvasLayer)}},{key:"hide",value:function(){this.map.removeOverlay(this.canvasLayer)}},{key:"draw",value:function(){this.canvasLayer.draw()}}]),e}();function Vt(t){this.isAdded_=!1,this.isAnimated_=!1,this.paneName_=Vt.DEFAULT_PANE_NAME_,this.updateHandler_=null,this.resizeHandler_=null,this.topLeft_=null,this.centerListener_=null,this.resizeListener_=null,this.needsResize_=!0,this.requestAnimationFrameId_=null;var e=document.createElement("canvas");function r(t,e){return function(){e.apply(t)}}e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.pointerEvents="none",this.canvas=e,this.canvasCssWidth_=300,this.canvasCssHeight_=150,this.resolutionScale_=1,this.repositionFunction_=r(this,this.repositionCanvas_),this.resizeFunction_=r(this,this.resize_),this.requestUpdateFunction_=r(this,this.update_),t&&this.setOptions(t)}var Ht="undefined"==typeof window?{}:window;Ht.google&&Ht.google.maps&&(Vt.prototype=new google.maps.OverlayView,Vt.DEFAULT_PANE_NAME_="overlayLayer",Vt.CSS_TRANSFORM_=function(){for(var t=document.createElement("div"),e=["transform","WebkitTransform","MozTransform","OTransform","msTransform"],r=0;r<e.length;r++){var i=e[r];if(void 0!==t.style[i])return i}return e[0]}(),Vt.prototype.requestAnimFrame_=Ht.requestAnimationFrame||Ht.webkitRequestAnimationFrame||Ht.mozRequestAnimationFrame||Ht.oRequestAnimationFrame||Ht.msRequestAnimationFrame||function(t){return Ht.setTimeout(t,1e3/60)},Vt.prototype.cancelAnimFrame_=Ht.cancelAnimationFrame||Ht.webkitCancelAnimationFrame||Ht.mozCancelAnimationFrame||Ht.oCancelAnimationFrame||Ht.msCancelAnimationFrame||function(t){},Vt.prototype.setOptions=function(t){void 0!==t.animate&&this.setAnimate(t.animate),void 0!==t.paneName&&this.setPaneName(t.paneName),void 0!==t.updateHandler&&this.setUpdateHandler(t.updateHandler),void 0!==t.resizeHandler&&this.setResizeHandler(t.resizeHandler),void 0!==t.resolutionScale&&this.setResolutionScale(t.resolutionScale),void 0!==t.map&&this.setMap(t.map)},Vt.prototype.setAnimate=function(t){this.isAnimated_=!!t,this.isAnimated_&&this.scheduleUpdate()},Vt.prototype.isAnimated=function(){return this.isAnimated_},Vt.prototype.setPaneName=function(t){this.paneName_=t,this.setPane_()},Vt.prototype.getPaneName=function(){return this.paneName_},Vt.prototype.setPane_=function(){if(this.isAdded_){var t=this.getPanes();if(!t[this.paneName_])throw new Error('"'+this.paneName_+'" is not a valid MapPane name.');t[this.paneName_].appendChild(this.canvas)}},Vt.prototype.setResizeHandler=function(t){this.resizeHandler_=t},Vt.prototype.setResolutionScale=function(t){"number"==typeof t&&(this.resolutionScale_=t,this.resize_())},Vt.prototype.setUpdateHandler=function(t){this.updateHandler_=t},Vt.prototype.onAdd=function(){this.isAdded_||(this.isAdded_=!0,this.setPane_(),this.resizeListener_=google.maps.event.addListener(this.getMap(),"resize",this.resizeFunction_),this.centerListener_=google.maps.event.addListener(this.getMap(),"center_changed",this.repositionFunction_),this.resize_(),this.repositionCanvas_())},Vt.prototype.onRemove=function(){this.isAdded_&&(this.isAdded_=!1,this.topLeft_=null,this.canvas.parentElement.removeChild(this.canvas),this.centerListener_&&(google.maps.event.removeListener(this.centerListener_),this.centerListener_=null),this.resizeListener_&&(google.maps.event.removeListener(this.resizeListener_),this.resizeListener_=null),this.requestAnimationFrameId_&&(this.cancelAnimFrame_.call(Ht,this.requestAnimationFrameId_),this.requestAnimationFrameId_=null))},Vt.prototype.resize_=function(){if(this.isAdded_){var t=this.getMap(),e=t.getDiv().offsetWidth,r=t.getDiv().offsetHeight,i=e*this.resolutionScale_,n=r*this.resolutionScale_,o=this.canvas.width,a=this.canvas.height;o===i&&a===n||(this.canvas.width=i,this.canvas.height=n,this.needsResize_=!0,this.scheduleUpdate()),this.canvasCssWidth_===e&&this.canvasCssHeight_===r||(this.canvasCssWidth_=e,this.canvasCssHeight_=r,this.canvas.style.width=e+"px",this.canvas.style.height=r+"px")}},Vt.prototype.draw=function(){this.repositionCanvas_()},Vt.prototype.repositionCanvas_=function(){var t=this.getMap(),e=t.getBounds().getNorthEast().lat(),r=t.getCenter(),i=Math.pow(2,t.getZoom()),n=r.lng()-180*this.canvasCssWidth_/(256*i);this.topLeft_=new google.maps.LatLng(e,n);var o=this.getProjection().fromLatLngToDivPixel(r),a=-Math.round(this.canvasCssWidth_/2-o.x),s=-Math.round(this.canvasCssHeight_/2-o.y);this.canvas.style[Vt.CSS_TRANSFORM_]="translate("+a+"px,"+s+"px)",this.scheduleUpdate()},Vt.prototype.update_=function(){this.requestAnimationFrameId_=null,this.isAdded_&&(this.isAnimated_&&this.scheduleUpdate(),this.needsResize_&&this.resizeHandler_&&(this.needsResize_=!1,this.resizeHandler_()),this.updateHandler_&&this.updateHandler_())},Vt.prototype.getTopLeft=function(){return this.topLeft_},Vt.prototype.scheduleUpdate=function(){this.isAdded_&&!this.requestAnimationFrameId_&&(this.requestAnimationFrameId_=this.requestAnimFrame_.call(Ht,this.requestUpdateFunction_))});var qt=function(t){function e(t,r,i){s(this,e);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,i)),o=n;i=i||{},o.init(i),o.argCheck(i);var a={map:t,animate:!1,updateHandler:function(){o._canvasUpdate()},resolutionScale:resolutionScale};return n.canvasLayer=new Vt(a),n.clickEvent=n.clickEvent.bind(n),n.mousemoveEvent=n.mousemoveEvent.bind(n),n.bindEvent(),n}return h(e,Nt),l(e,[{key:"clickEvent",value:function(t){var r=t.pixel;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clickEvent",this).call(this,r,t)}},{key:"mousemoveEvent",value:function(t){var r=t.pixel;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mousemoveEvent",this).call(this,r,t)}},{key:"bindEvent",value:function(t){var e=this.map;this.options.methods&&(this.options.methods.click&&(e.setDefaultCursor("default"),e.addListener("click",this.clickEvent)),this.options.methods.mousemove&&e.addListener("mousemove",this.mousemoveEvent))}},{key:"unbindEvent",value:function(t){var e=this.map;this.options.methods&&(this.options.methods.click&&e.removeListener("click",this.clickEvent),this.options.methods.mousemove&&e.removeListener("mousemove",this.mousemoveEvent))}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"_canvasUpdate",value:function(t){if(this.canvasLayer){var e=this,i=e.options.animation,n=this.getContext();if(e.isEnabledTime()){if(void 0===t)return void r(n);"2d"==this.context&&(n.save(),n.globalCompositeOperation="destination-out",n.fillStyle="rgba(0, 0, 0, .1)",n.fillRect(0,0,n.canvas.width,n.canvas.height),n.restore())}else r(n);if("2d"==this.context)for(var o in e.options)n[o]=e.options[o];else n.clear(n.COLOR_BUFFER_BIT);if(!(e.options.minZoom&&s.getZoom()<e.options.minZoom||e.options.maxZoom&&s.getZoom()>e.options.maxZoom)){var a=1;"2d"!=this.context&&(a=this.canvasLayer.devicePixelRatio);var s=this.map,l=s.getProjection(),c=(a=Math.pow(2,s.zoom)*resolutionScale,l.fromLatLngToPoint(this.canvasLayer.getTopLeft())),h={transferCoordinate:function(t){var e=new google.maps.LatLng(t[1],t[0]),r=l.fromLatLngToPoint(e),i={x:(r.x-c.x)*a,y:(r.y-c.y)*a};return[i.x,i.y]}};void 0!==t&&(h.filter=function(e){var r=i.trails||10;return!!(t&&e.time>t-r&&e.time<t)});var u=e.dataSet.get(h);this.processData(u);var f=new google.maps.LatLng(0,0),y=l.fromLatLngToPoint(f),d={x:(y.x-c.x)*a,y:(y.y-c.y)*a};"m"==e.options.unit&&e.options.size?e.options._size=e.options.size/zoomUnit:e.options._size=e.options.size,this.drawContext(n,new p(u),e.options,d),e.options.updateCallback&&e.options.updateCallback(t)}}}},{key:"init",value:function(t){this.options=t,this.initDataRange(t),this.context=this.options.context||"2d",this.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(this.options.zIndex),this.initAnimator()}},{key:"addAnimatorEvent",value:function(){this.map.addListener("movestart",this.animatorMovestartEvent.bind(this)),this.map.addListener("moveend",this.animatorMoveendEvent.bind(this))}},{key:"show",value:function(){this.map.addOverlay(this.canvasLayer)}},{key:"hide",value:function(){this.map.removeOverlay(this.canvasLayer)}},{key:"draw",value:function(){self.canvasLayer.draw()}}]),e}(),Ut=void 0;if("undefined"!=typeof maptalks){Ut=function(t){function e(t,r,i){s(this,e);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.options_=i,n.dataSet=r,n._initBaseLayer(i),n}return h(e,t),l(e,[{key:"_initBaseLayer",value:function(t){var e=this.baseLayer=new Nt(null,this.dataSet,t);this.init(t),e.argCheck(t)}},{key:"clickEvent",value:function(t){if(this.baseLayer){var e=t.containerPoint;this.baseLayer.clickEvent(e,t.domEvent)}}},{key:"mousemoveEvent",value:function(t){if(this.baseLayer){var e=t.containerPoint;this.baseLayer.mousemoveEvent(e,t.domEvent)}}},{key:"getEvents",value:function(){return{click:this.clickEvent,mousemove:this.mousemoveEvent}}},{key:"init",value:function(t){var e=this.baseLayer;e.options=t,e.initDataRange(t),e.context=e.options.context||"2d",e.initAnimator()}},{key:"addAnimatorEvent",value:function(){this.map.addListener("movestart",this.animatorMovestartEvent.bind(this)),this.map.addListener("moveend",this.animatorMoveendEvent.bind(this))}}]),e}(maptalks.Layer);var Zt=function(t){function e(){return s(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),l(e,[{key:"needToRedraw",value:function(){return!!this.layer.baseLayer.isEnabledTime()||c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"needToRedraw",this).call(this)}},{key:"draw",value:function(){var t=this.layer.baseLayer;this.canvas&&t.isEnabledTime()&&!this._shouldClear||(this.prepareCanvas(),this._shouldClear=!1),this._update(this.gl||this.context,this._mapvFrameTime),delete this._mapvFrameTime,this.completeRender()}},{key:"drawOnInteracting",value:function(){this.draw(),this._shouldClear=!1}},{key:"onSkipDrawOnInteracting",value:function(){this._shouldClear=!0}},{key:"_canvasUpdate",value:function(t){this.setToRedraw(),this._mapvFrameTime=t}},{key:"_update",value:function(t,e){if(this.canvas){var i=this.layer.baseLayer,n=i.options.animation,o=this.getMap();if(i.isEnabledTime()){if(void 0===e)return void r(t);"2d"==i.context&&(t.save(),t.globalCompositeOperation="destination-out",t.fillStyle="rgba(0, 0, 0, .1)",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.restore())}else r(t);if("2d"==i.context)for(var a in i.options)t[a]=i.options[a];else t.clear(t.COLOR_BUFFER_BIT);var s=1;"2d"===i.context&&"heatmap"!==i.options.draw&&(s=i.canvasLayer.devicePixelRatio);var l=new maptalks.Coordinate(0,0),c={fromColumn:"bd09mc"===i.options.coordType?"coordinates_mercator":"coordinates",transferCoordinate:function(t){return l.x=t[0],l.y=t[1],o.coordToContainerPoint(l)._multi(s).toArray()}};void 0!==e&&(c.filter=function(t){var r=n.trails||10;return!!(e&&t.time>e-r&&t.time<e)});var h=i.dataSet.get(c);i.processData(h),"m"==i.options.unit?(i.options.size&&(i.options._size=i.options.size/zoomUnit),i.options.width&&(i.options._width=i.options.width/zoomUnit),i.options.height&&(i.options._height=i.options.height/zoomUnit)):(i.options._size=i.options.size,i.options._height=i.options.height,i.options._width=i.options.width);var u=new maptalks.Point(0,0),p=o._pointToContainerPoint(u)._multi(s);i.drawContext(t,h,i.options,p),i.options.updateCallback&&i.options.updateCallback(e)}}},{key:"createCanvas",value:function(){if(!this.canvas){var t=this.getMap(),e=t.getSize(),r=maptalks.Browser.retina?2:1,i=r*e.width,n=r*e.height;this.canvas=maptalks.Canvas.createCanvas(i,n,t.CanvasClass),"2d"===this.layer.baseLayer.context?(this.context=this.canvas.getContext("2d"),this.layer.options.globalCompositeOperation&&(this.context.globalCompositeOperation=this.layer.options.globalCompositeOperation)):this.gl=this.canvas.getContext("webgl",{alpha:!0,preserveDrawingBuffer:!0,antialias:!1}),this.onCanvasCreate(),this._bindToMapv(),this.layer.fire("canvascreate",{context:this.context,gl:this.gl})}}},{key:"_bindToMapv",value:function(){var t=this.layer.baseLayer;this.devicePixelRatio=maptalks.Browser.retina?2:1,t.canvasLayer=this,t._canvasUpdate=this._canvasUpdate.bind(this),t.getContext=function(){var t=self.getRenderer();return t.gl||t.context}}}]),e}(maptalks.renderer.CanvasRenderer);Ut.registerRenderer("canvas",Zt)}var Xt,Yt=Ut,Jt=function(t){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,r=arguments[1],i=arguments[2];s(this,e);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,i));return n.options=i,n.canvasLayer={canvas:null,devicePixelRatio:window.devicePixelRatio},n.layer_=null,n.initDataRange(i),n.initAnimator(),n.onEvents(),t.on("complete",function(){this.init(t,i),this.argCheck(i)},n),n}return h(e,Nt),l(e,[{key:"init",value:function(t,e){if(!t)throw new Error("not map object");this.map=t,this.context=this.options.context||"2d",this.getCanvasLayer()}},{key:"_canvasUpdate",value:function(t){this.render(this.canvasLayer.canvas,t)}},{key:"render",value:function(t,e){if(t){var i=this.map,n=t.getContext(this.context),o=this.options.animation;if(this.isEnabledTime()){if(void 0===e)return r(n),this;"2d"===this.context&&(n.save(),n.globalCompositeOperation="destination-out",n.fillStyle="rgba(0, 0, 0, .1)",n.fillRect(0,0,n.canvas.width,n.canvas.height),n.restore())}else r(n);if("2d"===this.context)for(var a in this.options)n[a]=this.options[a];else n.clear(n.COLOR_BUFFER_BIT);var s={transferCoordinate:function(t){var e=i.lngLatToContainer(new AMap.LngLat(t[0],t[1]));return[e.x,e.y]}};void 0!==e&&(s.filter=function(t){var r=o.trails||10;return!!(e&&t.time>e-r&&t.time<e)});var l=this.dataSet.get(s);return this.processData(l),"m"===this.options.unit?(this.options.size&&(this.options._size=this.options.size/zoomUnit),this.options.width&&(this.options._width=this.options.width/zoomUnit),this.options.height&&(this.options._height=this.options.height/zoomUnit)):(this.options._size=this.options.size,this.options._height=this.options.height,this.options._width=this.options.width),this.drawContext(n,new p(l),this.options,{x:0,y:0}),this.options.updateCallback&&this.options.updateCallback(e),this}}},{key:"getCanvasLayer",value:function(){if(!this.canvasLayer.canvas&&!this.layer_){var t=this.canvasFunction(),e=this.map.getBounds();this.layer_=new AMap.CanvasLayer({canvas:t,bounds:this.options.bounds||e,zooms:this.options.zooms||[0,22]}),this.layer_.setMap(this.map),this.map.on("mapmove",this.canvasFunction,this),this.map.on("zoomchange",this.canvasFunction,this)}}},{key:"canvasFunction",value:function(){var t=[this.map.getSize().width,this.map.getSize().height],e=t[0],r=t[1];if(this.canvasLayer.canvas){this.canvasLayer.canvas.width=e,this.canvasLayer.canvas.height=r;var i=this.map.getBounds();this.layer_&&this.layer_.setBounds(this.options.bounds||i)}else this.canvasLayer.canvas=function(t,e,r){if("undefined"==typeof document)return new(void 0)(t,e);var i=document.createElement("canvas");return i.width=t,i.height=e,i}(e,r);return this.render(this.canvasLayer.canvas),this.canvasLayer.canvas}},{key:"removeLayer",value:function(){this.map&&(this.unEvents(),this.map.removeLayer(this.layer_),delete this.map,delete this.layer_,delete this.canvasLayer.canvas)}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"clickEvent",value:function(t){var r=t.pixel;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clickEvent",this).call(this,r,t)}},{key:"mousemoveEvent",value:function(t){var r=t.pixel;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mousemoveEvent",this).call(this,r,t)}},{key:"addAnimatorEvent",value:function(){this.map.on("movestart",this.animatorMovestartEvent,this),this.map.on("moveend",this.animatorMoveendEvent,this)}},{key:"onEvents",value:function(){var t=this.map;this.unEvents(),this.options.methods&&(this.options.methods.click&&t.on("click",this.clickEvent,this),this.options.methods.mousemove&&t.on("mousemove",this.mousemoveEvent,this))}},{key:"unEvents",value:function(){var t=this.map;this.options.methods&&(this.options.methods.click&&t.off("click",this.clickEvent,this),this.options.methods.mousemove&&t.off("mousemove",this.mousemoveEvent,this))}}]),e}(),$t=function(t){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,r=arguments[1],i=arguments[2];s(this,e);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,i));return n.options=i,n.canvasLayer={canvas:null,devicePixelRatio:window.devicePixelRatio},n.layer_=null,n.previousCursor_=void 0,n.init(t,i),n.argCheck(i),n}return h(e,Nt),l(e,[{key:"init",value:function(t,e){if(!t)throw new Error("not map object");this.$Map=t,this.context=this.options.context||"2d",this.getCanvasLayer(),this.initDataRange(e),this.initAnimator(),this.onEvents()}},{key:"_canvasUpdate",value:function(t){this.render(this.canvasLayer.canvas,t)}},{key:"render",value:function(t,e){var i=this.$Map,n=t.getContext(this.context),o=this.options.animation;if(this.options.hasOwnProperty("projection")&&this.options.projection,this.isEnabledTime()){if(void 0===e)return r(n),this;"2d"===this.context&&(n.save(),n.globalCompositeOperation="destination-out",n.fillStyle="rgba(0, 0, 0, .1)",n.fillRect(0,0,n.canvas.width,n.canvas.height),n.restore())}else r(n);if("2d"===this.context)for(var a in this.options)n[a]=this.options[a];else n.clear(n.COLOR_BUFFER_BIT);var s,l=this,c={transferCoordinate:function(t){var e=l.canvasLayer.devicePixelRatio||1,r=i.getPixelFromCoordinate(t);return[r[0]*e,r[1]*e]}};void 0!==e&&(c.filter=function(t){var r=o.trails||10;return!!(e&&t.time>e-r&&t.time<e)});var h=this.map.getView().getZoom(),u=this.options.maxZoom;if("cluster"===this.options.draw&&h<=u){var f=this.getMapExtent(),y=this.supercluster.getClusters(f,h);this.clusterDataSet.set(y),s=this.clusterDataSet.get(c)}else s=this.dataSet.get(c);return this.processData(s),"m"===this.options.unit?(this.options.size&&(this.options._size=this.options.size/zoomUnit),this.options.width&&(this.options._width=this.options.width/zoomUnit),this.options.height&&(this.options._height=this.options.height/zoomUnit)):(this.options._size=this.options.size,this.options._height=this.options.height,this.options._width=this.options.width),this.drawContext(n,new p(s),this.options,{x:0,y:0}),this.options.updateCallback&&this.options.updateCallback(e),this}},{key:"getCanvasLayer",value:function(){if(!this.canvasLayer.canvas&&!this.layer_){var t=this.getMapExtent();this.layer_=new ol.layer.Image({layerName:this.options.layerName,minResolution:this.options.minResolution,maxResolution:this.options.maxResolution,zIndex:this.options.zIndex,extent:t,source:new ol.source.ImageCanvas({canvasFunction:this.canvasFunction.bind(this),projection:this.options.hasOwnProperty("projection")?this.options.projection:"EPSG:4326",ratio:this.options.hasOwnProperty("ratio")?this.options.ratio:1})}),this.$Map.addLayer(this.layer_),this.$Map.un("precompose",this.reRender,this),this.$Map.on("precompose",this.reRender,this)}}},{key:"reRender",value:function(){if(this.layer_){var t=this.getMapExtent();this.layer_.setExtent(t)}}},{key:"canvasFunction",value:function(t,e,r,i,n){return this.canvasLayer.canvas?(this.canvasLayer.canvas.width=i[0],this.canvasLayer.canvas.height=i[1]):this.canvasLayer.canvas=function(t,e){if("undefined"!=typeof document){var r=document.createElement("canvas");return r.width=t,r.height=e,r}}(i[0],i[1]),this.render(this.canvasLayer.canvas),this.canvasLayer.canvas}},{key:"getMapExtent",value:function(){var t=this.$Map.getSize();return this.$Map.getView().calculateExtent(t)}},{key:"addTo",value:function(t){this.init(t,this.options)}},{key:"removeLayer",value:function(){this.$Map&&(this.unEvents(),this.$Map.un("precompose",this.reRender,this),this.$Map.removeLayer(this.layer_),delete this.$Map,delete this.layer_,delete this.canvasLayer.canvas)}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"clickEvent",value:function(t){var r=t.pixel;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clickEvent",this).call(this,{x:r[0],y:r[1]},t)}},{key:"mousemoveEvent",value:function(t){var r=t.pixel;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mousemoveEvent",this).call(this,{x:r[0],y:r[1]},t)}},{key:"addAnimatorEvent",value:function(){this.$Map.on("movestart",this.animatorMovestartEvent,this),this.$Map.on("moveend",this.animatorMoveendEvent,this)}},{key:"onEvents",value:function(){var t=this.$Map;this.unEvents(),this.options.methods&&(this.options.methods.click&&t.on("click",this.clickEvent,this),this.options.methods.mousemove&&t.on("pointermove",this.mousemoveEvent,this))}},{key:"unEvents",value:function(){var t=this.$Map;this.options.methods&&(this.options.methods.click&&t.un("click",this.clickEvent,this),this.options.methods.pointermove&&t.un("pointermove",this.mousemoveEvent,this))}},{key:"setDefaultCursor",value:function(t,e){if(this.$Map){var r=this.$Map.getTargetElement();e?r.style.cursor!==t&&(this.previousCursor_=r.style.cursor,r.style.cursor=t):void 0!==this.previousCursor_&&(r.style.cursor=this.previousCursor_,this.previousCursor_=void 0)}}}]),e}(),Qt=function(t){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,r=arguments[1],i=arguments[2];s(this,e);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,i));return n.options=i||{},n.dataSet=r,n.canvasLayer={canvas:null,devicePixelRatio:window.devicePixelRatio},n.layer_=null,n.previousCursor_=void 0,n.init(t,i),n.start(),n}return h(e,Nt),l(e,[{key:"init",value:function(t,e){if(!t)throw new Error("not map object");this.$Map=t,this.context=this.options.context||"2d",this.getCanvasLayer(),this.initDataRange(e),this.initAnimator()}},{key:"_canvasUpdate",value:function(t){this.render(this.canvasLayer.canvas,t)}},{key:"render",value:function(t,e){var i=this.ctx;if(i){var n=this.$Map;r(i);var o=this,a={transferCoordinate:function(t){var e=o.canvasLayer.devicePixelRatio||1,r=n.getPixelFromCoordinate(t);return[r[0]*e,r[1]*e]}};return this.data=this.dataSet.get(a),this.processData(this.data),this.drawAnimation(),this}}},{key:"getCanvasLayer",value:function(){if(!this.canvasLayer.canvas&&!this.layer_){var t=this.getMapExtent();this.layer_=new ol.layer.Image({layerName:this.options.layerName,minResolution:this.options.minResolution,maxResolution:this.options.maxResolution,zIndex:this.options.zIndex,extent:t,source:new ol.source.ImageCanvas({canvasFunction:this.canvasFunction.bind(this),projection:this.options.hasOwnProperty("projection")?this.options.projection:"EPSG:4326",ratio:this.options.hasOwnProperty("ratio")?this.options.ratio:1})}),this.$Map.addLayer(this.layer_),this.$Map.un("precompose",this.reRender,this),this.$Map.on("precompose",this.reRender,this)}}},{key:"reRender",value:function(){if(this.layer_){var t=this.getMapExtent();this.layer_.setExtent(t)}}},{key:"canvasFunction",value:function(t,e,r,i,n){return this.canvasLayer.canvas?(this.canvasLayer.canvas.width=i[0],this.canvasLayer.canvas.height=i[1]):(this.canvasLayer.canvas=function(t,e){if("undefined"!=typeof document){var r=document.createElement("canvas");return r.width=t,r.height=e,r}}(i[0],i[1]),this.ctx=this.canvasLayer.canvas.getContext("2d")),this.render(this.canvasLayer.canvas),this.canvasLayer.canvas}},{key:"getMapExtent",value:function(){var t=this.$Map.getSize();return this.$Map.getView().calculateExtent(t)}},{key:"addTo",value:function(t){this.init(t,this.options)}},{key:"removeLayer",value:function(){this.$Map&&(this.unEvents(),this.$Map.un("precompose",this.reRender,this),this.$Map.removeLayer(this.layer_),delete this.$Map,delete this.layer_,delete this.canvasLayer.canvas)}},{key:"setDefaultCursor",value:function(t,e){if(this.$Map){var r=this.$Map.getTargetElement();e?r.style.cursor!==t&&(this.previousCursor_=r.style.cursor,r.style.cursor=t):void 0!==this.previousCursor_&&(r.style.cursor=this.previousCursor_,this.previousCursor_=void 0)}}},{key:"drawAnimation",value:function(){var t=this.ctx,e=this.data;if(e){t.save(),t.globalCompositeOperation="destination-out",t.fillStyle="rgba(0, 0, 0, .1)",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.restore(),t.save(),this.options.shadowColor&&(t.shadowColor=this.options.shadowColor),this.options.shadowBlur&&(t.shadowBlur=this.options.shadowBlur),this.options.globalAlpha&&(t.globalAlpha=this.options.globalAlpha),this.options.globalCompositeOperation&&(t.globalCompositeOperation=this.options.globalCompositeOperation);for(var r=this.options,i=0;i<e.length;i++)if("Point"===e[i].geometry.type){t.beginPath();var n=e[i].size||this.options.size,o=e[i].minSize||this.options.minSize||0;void 0===e[i]._size&&(e[i]._size=o),t.arc(e[i].geometry._coordinates[0],e[i].geometry._coordinates[1],e[i]._size,0,2*Math.PI,!0),t.closePath(),e[i]._size++,e[i]._size>n&&(e[i]._size=o),t.lineWidth=1,t.strokeStyle=e[i].strokeStyle||e[i]._strokeStyle||r.strokeStyle||"yellow",t.stroke(),(c=e[i].fillStyle||e[i]._fillStyle||r.fillStyle)&&(t.fillStyle=c,t.fill())}else if("LineString"===e[i].geometry.type){t.beginPath();var a=e[i].size||this.options.size||5;o=e[i].minSize||this.options.minSize||0;void 0===e[i]._index&&(e[i]._index=0);var s=e[i]._index;t.arc(e[i].geometry._coordinates[s][0],e[i].geometry._coordinates[s][1],a,0,2*Math.PI,!0),t.closePath(),e[i]._index++,e[i]._index>=e[i].geometry._coordinates.length&&(e[i]._index=0);var l=e[i].strokeStyle||r.strokeStyle,c=e[i].fillStyle||r.fillStyle||"yellow";t.fillStyle=c,t.fill(),l&&r.lineWidth&&(t.lineWidth=r.lineWidth||1,t.strokeStyle=l,t.stroke())}t.restore()}}},{key:"animate",value:function(){this.drawAnimation();var t=this.options.animateTime||100;this.timeout=setTimeout(this.animate.bind(this),t)}},{key:"start",value:function(){this.stop(),this.animate()}},{key:"stop",value:function(){clearTimeout(this.timeout)}}]),e}(),Kt=function(t){function e(t,r,i,n){s(this,e);var o=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n));if(!Nt)return u(o);var a=o;return n=n||{},a.init(n),a.argCheck(n),o.canvasLayer=r,o.clickEvent=o.clickEvent.bind(o),o.mousemoveEvent=o.mousemoveEvent.bind(o),o._moveStartEvent=o.moveStartEvent.bind(o),o._moveEndEvent=o.moveEndEvent.bind(o),o._zoomStartEvent=o.zoomStartEvent.bind(o),o.bindEvent(),o}return h(e,Nt),l(e,[{key:"clickEvent",value:function(t){var r=this.map.containerPointToLayerPoint([0,0]),i=this.devicePixelRatio=this.canvasLayer.devicePixelRatio=window.devicePixelRatio,n=t.layerPoint;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clickEvent",this).call(this,L.point((n.x-r.x)/i,(n.y-r.y)/i),t)}},{key:"mousemoveEvent",value:function(t){var r=t.layerPoint;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mousemoveEvent",this).call(this,r,t)}},{key:"bindEvent",value:function(){var t=this.map;this.options.methods&&(this.options.methods.click&&t.on("click",this.clickEvent),this.options.methods.mousemove&&t.on("mousemove",this.mousemoveEvent)),this.map.on("movestart",this._moveStartEvent),this.map.on("moveend",this._moveEndEvent),this.map.on("zoomstart",this._zoomStartEvent)}},{key:"destroy",value:function(){this.unbindEvent(),this.clearData(),this.animator&&this.animator.stop(),this.animator=null,this.canvasLayer=null}},{key:"unbindEvent",value:function(){var t=this.map;this.options.methods&&(this.options.methods.click&&t.off("click",this.clickEvent),this.options.methods.mousemove&&t.off("mousemove",this.mousemoveEvent)),this.map.off("movestart",this._moveStartEvent),this.map.off("moveend",this._moveEndEvent),this.map.off("zoomstart",this._zoomStartEvent)}},{key:"getContext",value:function(){return this.canvasLayer.getCanvas().getContext(this.context)}},{key:"addData",value:function(t,e){var r=t;t&&t.get&&(r=t.get()),this.dataSet.add(r),this.update({options:e})}},{key:"update",value:function(t){var r=t||{},i=r.data;i&&i.get&&(i=i.get()),null!=i&&this.dataSet.set(i),c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,{options:r.options})}},{key:"getData",value:function(){return this.dataSet}},{key:"removeData",value:function(t){if(this.dataSet){var e=this.dataSet.get({filter:function(e){return null==t||"function"!=typeof t||!t(e)}});this.dataSet.set(e),this.update({options:null})}}},{key:"clearData",value:function(){this.dataSet&&this.dataSet.clear(),this.update({options:null})}},{key:"_canvasUpdate",value:function(t){if(this.canvasLayer){var e=this,r=e.options.animation,i=this.getContext(),n=this.map;if(e.isEnabledTime()){if(void 0===t)return void this.clear(i);"2d"===this.context&&(i.save(),i.globalCompositeOperation="destination-out",i.fillStyle="rgba(0, 0, 0, .1)",i.fillRect(0,0,i.canvas.width,i.canvas.height),i.restore())}else this.clear(i);if("2d"===this.context)for(var o in e.options)i[o]=e.options[o];else i.clear(i.COLOR_BUFFER_BIT);if(!(e.options.minZoom&&n.getZoom()<e.options.minZoom||e.options.maxZoom&&n.getZoom()>e.options.maxZoom)){var a=n.getBounds(),s=a.getEast()-a.getWest(),l=a.getNorth()-a.getSouth(),c=n.getSize(),h=s/c.x,u=l/c.y,p=this.canvasLayer.getTopLeft(),f=n.latLngToContainerPoint(p),y={transferCoordinate:function(t){var r,i={x:(r="2d"===e.context?n.latLngToContainerPoint(L.latLng(t[1],t[0])):{x:(t[0]-p.lng)/h,y:(p.lat-t[1])/u}).x-f.x,y:r.y-f.y};return[i.x,i.y]}};void 0!==t&&(y.filter=function(e){var i=r.trails||10;return t&&e.time>t-i&&e.time<t});var d=e.dataSet.get(y);this.processData(d),e.options._size=e.options.size;var v=n.latLngToContainerPoint(L.latLng(0,0)),g={x:v.x-f.x,y:v.y-f.y};this.drawContext(i,d,e.options,g),e.options.updateCallback&&e.options.updateCallback(t)}}}},{key:"init",value:function(t){this.options=t,this.initDataRange(t),this.context=this.options.context||"2d",this.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(this.options.zIndex),this.initAnimator()}},{key:"addAnimatorEvent",value:function(){}},{key:"moveStartEvent",value:function(){var t=this.options.animation;this.isEnabledTime()&&this.animator&&(this.steps.step=t.stepsRange.start,this._hide())}},{key:"moveEndEvent",value:function(){this.canvasLayer.draw(),this._show()}},{key:"zoomStartEvent",value:function(){this._hide()}},{key:"clear",value:function(t){t&&t.clearRect&&t.clearRect(0,0,t.canvas.width,t.canvas.height)}},{key:"_hide",value:function(){this.canvasLayer.canvas.style.display="none"}},{key:"_show",value:function(){this.canvasLayer.canvas.style.display="block"}},{key:"draw",value:function(){this.canvasLayer.draw()}}]),e}();if("undefined"!=typeof L){var te=L.Layer.extend({options:{attributionPrefix:null,attribution:""},initialize:function(t,e,r){r=r||{},this.dataSet=t||{},this.mapVOptions=e||{},this.render=this.render.bind(this),L.Util.setOptions(this,r),this.options.attributionPrefix&&(this.options.attribution=this.options.attributionPrefix+this.options.attribution),this.canvas=this._createCanvas(),L.stamp(this)},onAdd:function(t){this._map=t;var e=this.getPane(),r=this.container=L.DomUtil.create("div","leaflet-layer leaflet-zoom-animated",e);r.appendChild(this.canvas);var i=t.getSize();r.style.width=i.x+"px",r.style.height=i.y+"px",this.renderer=new Kt(t,this,this.dataSet,this.mapVOptions),this.draw(),this.fire("loaded")},onRemove:function(){L.DomUtil.remove(this.container),this.renderer.destroy()},addData:function(t,e){this.renderer.addData(t,e)},update:function(t){this.renderer.update(t)},getData:function(){return this.renderer&&(this.dataSet=this.renderer.getData()),this.dataSet},removeData:function(t){this.renderer&&this.renderer.removeData(t)},clearData:function(){this.renderer.clearData()},draw:function(){return this._reset()},setZIndex:function(t){this.canvas.style.zIndex=t},render:function(){this.renderer._canvasUpdate()},getCanvas:function(){return this.canvas},getContainer:function(){return this.container},getTopLeft:function(){var t,e=this._map;e&&(t=e.getBounds().getNorthWest());return t},_createCanvas:function(){var t=document.createElement("canvas");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=this.options.zIndex||600;var e="undefined"==typeof window?{}:window,r=this.devicePixelRatio=e.devicePixelRatio;return this.mapVOptions.context&&"2d"!==this.mapVOptions.context||t.getContext("2d").scale(r,r),t},_resize:function(){var t=this.canvas;if(t){var e=this._map,r=e.getSize();t.width=r.x,t.height=r.y,t.style.width=r.x+"px",t.style.height=r.y+"px";var i=e.getBounds(),n=e.latLngToLayerPoint(i.getNorthWest());L.DomUtil.setPosition(t,n)}},_reset:function(){this._resize(),this._render()},redraw:function(){this._resize(),this._render()},_render:function(){this.render()}});Xt=function(t,e,r){return new te(t,e,r)}}var ee,re=Xt,ie=function(t){function e(t,r,i,n){s(this,e);var o=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,i));return Nt?(o.map=t,o.scene=t.scene,o.dataSet=r,i=i||{},o.init(i),o.argCheck(i),o.initDevicePixelRatio(),o.canvasLayer=n,o.stopAniamation=!1,o.animation=i.animation,o.clickEvent=o.clickEvent.bind(o),o.mousemoveEvent=o.mousemoveEvent.bind(o),o.bindEvent(),o):u(o)}return h(e,Nt),l(e,[{key:"initDevicePixelRatio",value:function(){this.devicePixelRatio=window.devicePixelRatio||1}},{key:"clickEvent",value:function(t){var r=t.point;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clickEvent",this).call(this,r,t)}},{key:"mousemoveEvent",value:function(t){var r=t.point;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mousemoveEvent",this).call(this,r,t)}},{key:"addAnimatorEvent",value:function(){}},{key:"animatorMovestartEvent",value:function(){var t=this.options.animation;this.isEnabledTime()&&this.animator&&(this.steps.step=t.stepsRange.start)}},{key:"animatorMoveendEvent",value:function(){this.isEnabledTime()&&this.animator}},{key:"bindEvent",value:function(){this.map,this.options.methods&&(this.options.methods.click,this.options.methods.mousemove)}},{key:"unbindEvent",value:function(){var t=this.map;this.options.methods&&(this.options.methods.click&&t.off("click",this.clickEvent),this.options.methods.mousemove&&t.off("mousemove",this.mousemoveEvent))}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"init",value:function(t){this.options=t,this.initDataRange(t),this.context=this.options.context||"2d",this.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(this.options.zIndex),this.initAnimator()}},{key:"_canvasUpdate",value:function(t){var e=this.map,r=this.scene,i=this.options.hasOwnProperty("flowAnimation");r=this.scene;if(this.canvasLayer&&!this.stopAniamation){var n=this.options.animation,o=this.getContext();if(this.isEnabledTime()){if(void 0===t)return void this.clear(o);"2d"===this.context&&(o.save(),o.globalCompositeOperation="destination-out",o.fillStyle="rgba(0, 0, 0, .1)",o.fillRect(0,0,o.canvas.width,o.canvas.height),o.restore())}else this.clear(o);if("2d"===this.context)for(var a in this.options)o[a]=this.options[a];else o.clear(o.COLOR_BUFFER_BIT);var s,l={transferCoordinate:function(t){var r=e.scene,n=Cesium.Cartesian3.fromDegrees(t[0],t[1]),o=[];if(!n)return[0,0];if(o=Array.isArray(n)?[-n[0],-n[1],-n[2]]:[-n.x,-n.y,-n.z],i&&(o=!1),r.mode===Cesium.SceneMode.SCENE3D&&Cesium.Cartesian3.angleBetween(r.camera.position,n)>Cesium.Math.toRadians(80))return o;var a=r.cartesianToCanvasCoordinates(n);return[a.x,a.y]}};if(void 0!==t&&(l.filter=function(e){var r=n.trails||10;return!!(t&&e.time>t-r&&e.time<t)}),"cluster"===this.options.draw){var c=e.camera.computeViewRectangle(),h=Cesium.Math.toDegrees(c.west),u=Cesium.Math.toDegrees(c.north),f=[h,Cesium.Math.toDegrees(c.south),Cesium.Math.toDegrees(c.east),u],y=Math.ceil(e.camera.positionCartographic.height),d=Math.round(5*(8e7-y)/8e7),v=this.supercluster.getClusters(f,d);this.clusterDataSet.set(v),s=this.clusterDataSet.get(l)}else s=this.dataSet.get(l);this.processData(s),"m"==this.options.unit&&this.options.size,this.options._size=this.options.size;var g=Cesium.SceneTransforms.wgs84ToWindowCoordinates(r,Cesium.Cartesian3.fromDegrees(0,0));this.drawContext(o,new p(s),this.options,g),this.options.updateCallback&&this.options.updateCallback(t)}}},{key:"updateData",value:function(t,r){var i=t;i&&i.get&&(i=i.get()),null!=i&&this.dataSet.set(i),c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,{options:r})}},{key:"addData",value:function(t,e){var r=t;t&&t.get&&(r=t.get()),this.dataSet.add(r),this.update({options:e})}},{key:"getData",value:function(){return this.dataSet}},{key:"removeData",value:function(t){if(this.dataSet){var e=this.dataSet.get({filter:function(e){return null==t||"function"!=typeof t||!t(e)}});this.dataSet.set(e),this.update({options:null})}}},{key:"clearData",value:function(){this.dataSet&&this.dataSet.clear(),this.update({options:null})}},{key:"draw",value:function(){this.canvasLayer.draw()}},{key:"clear",value:function(t){t&&t.clearRect&&t.clearRect(0,0,t.canvas.width,t.canvas.height)}}]),e}();if("undefined"!=typeof Cesium){var ne=0,oe=(Cesium,function(){function t(e,r,i,n){if(s(this,t),this.map=e,this.scene=e.scene,this.mapvBaseLayer=new ie(e,r,i,this),this.mapVOptions=i,this.initDevicePixelRatio(),this.canvas=this._createCanvas(),this.render=this.render.bind(this),n)this.container=n;else{var o=e.container.querySelector(".cesium-viewer-cesiumWidgetContainer");this.container=o||e.container}this.addInnerContainer(),this.bindEvent(),this._reset()}return l(t,[{key:"initDevicePixelRatio",value:function(){this.devicePixelRatio=window.devicePixelRatio||1}},{key:"addInnerContainer",value:function(){this.container.appendChild(this.canvas)}},{key:"bindEvent",value:function(){var t=this;this.innerMoveStart=this.moveStartEvent.bind(this),this.innerMoveEnd=this.moveEndEvent.bind(this),this.scene.camera.moveStart.addEventListener(this.innerMoveStart,this),this.scene.camera.moveEnd.addEventListener(this.innerMoveEnd,this);var e=new Cesium.ScreenSpaceEventHandler(this.scene.canvas);e.setInputAction(function(t){},Cesium.ScreenSpaceEventType.LEFT_UP),e.setInputAction(function(e){t.innerMoveEnd()},Cesium.ScreenSpaceEventType.MIDDLE_UP),this.handler=e}},{key:"unbindEvent",value:function(){this.scene.camera.moveStart.removeEventListener(this.innerMoveStart,this),this.scene.camera.moveEnd.removeEventListener(this.innerMoveEnd,this),this.scene.postRender.removeEventListener(this._reset,this),this.handler&&(this.handler.destroy(),this.handler=null)}},{key:"moveStartEvent",value:function(){this.mapvBaseLayer&&(this.mapvBaseLayer.animatorMovestartEvent(),this.scene.postRender.addEventListener(this._reset,this))}},{key:"moveEndEvent",value:function(){this.mapvBaseLayer&&(this.scene.postRender.removeEventListener(this._reset,this),this.mapvBaseLayer.animatorMoveendEvent(),this._reset())}},{key:"zoomStartEvent",value:function(){this._unvisiable()}},{key:"zoomEndEvent",value:function(){this._unvisiable()}},{key:"addData",value:function(t,e){null!=this.mapvBaseLayer&&this.mapvBaseLayer.addData(t,e)}},{key:"updateData",value:function(t,e){null!=this.mapvBaseLayer&&this.mapvBaseLayer.updateData(t,e)}},{key:"getData",value:function(){return this.mapvBaseLayer&&(this.dataSet=this.mapvBaseLayer.getData()),this.dataSet}},{key:"removeData",value:function(t){null!=this.mapvBaseLayer&&this.mapvBaseLayer&&this.mapvBaseLayer.removeData(t)}},{key:"removeAllData",value:function(){null!=this.mapvBaseLayer&&this.mapvBaseLayer.clearData()}},{key:"_visiable",value:function(){return this.canvas.style.display="block",this}},{key:"_unvisiable",value:function(){return this.canvas.style.display="none",this}},{key:"_createCanvas",value:function(){var t=document.createElement("canvas");t.id=this.mapVOptions.layerid||"mapv"+ne++,t.style.position="absolute",t.style.top=this.map.canvas.offsetTop+"px",t.style.left=this.map.canvas.offsetLeft+"px",t.style.pointerEvents="none",t.style.zIndex=this.mapVOptions.zIndex||0,t.width=parseInt(this.map.canvas.width),t.height=parseInt(this.map.canvas.height),t.style.width=this.map.canvas.width+"px",t.style.height=this.map.canvas.height+"px";var e=this.devicePixelRatio;return"2d"==this.mapVOptions.context&&t.getContext(this.mapVOptions.context).scale(e,e),t}},{key:"_reset",value:function(){this.resizeCanvas(),this.fixPosition(),this.onResize(),this.render()}},{key:"draw",value:function(){this._reset()}},{key:"show",value:function(){this._visiable()}},{key:"hide",value:function(){this._unvisiable()}},{key:"destroy",value:function(){this.remove()}},{key:"remove",value:function(){null!=this.mapvBaseLayer&&(this.removeAllData(),this.mapvBaseLayer.clear(this.mapvBaseLayer.getContext()),this.mapvBaseLayer=void 0,this.canvas.parentElement.removeChild(this.canvas))}},{key:"update",value:function(t){null!=t&&this.updateData(t.data,t.options)}},{key:"resizeCanvas",value:function(){if(null!=this.canvas&&null!=this.canvas){var t=this.canvas;t.style.position="absolute",t.style.top=this.map.canvas.offsetTop+"px",t.style.left=this.map.canvas.offsetLeft+"px",t.width=parseInt(this.map.canvas.width),t.height=parseInt(this.map.canvas.height),t.style.width=this.map.canvas.width+"px",t.style.height=this.map.canvas.height+"px"}}},{key:"fixPosition",value:function(){}},{key:"onResize",value:function(){}},{key:"render",value:function(){null!=this.mapvBaseLayer&&this.mapvBaseLayer._canvasUpdate()}}]),t}());ee=function(t,e,r,i){return new oe(t,e,r,i)}}var ae=ee,se={getDataSet:function(t){var e=[],r=t.features;if(r)for(var i=0;i<r.length;i++){var n=r[i],o=n.geometry,a=n.properties,s={};for(var l in a)s[l]=a[l];s.geometry=o,e.push(s)}return new p(e)}},le={CSVToArray:function(t,e){e=e||",";for(var r=new RegExp("(\\"+e+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+e+"\\r\\n]*))","gi"),i=[[]],n=null;n=r.exec(t);){var o,a=n[1];a.length&&a!==e&&i.push([]),o=n[2]?n[2].replace(new RegExp('""',"g"),'"'):n[3],i[i.length-1].push(o)}return i},getDataSet:function(t,e){for(var r=this.CSVToArray(t,e||","),i=[],n=r[0],o=1;o<r.length-1;o++){for(var a=r[o],s={},l=0;l<a.length;l++){var c=a[l];"geometry"==n[l]&&(c=JSON.parse(c)),s[n[l]]=c}i.push(s)}return new p(i)}};e.version="2.0.38",e.canvasClear=r,e.canvasResolutionScale=function(t){var e=window.devicePixelRatio||1;t.canvas.width=t.canvas.width*e,t.canvas.height=t.canvas.height*e,t.canvas.style.width=t.canvas.width/e+"px",t.canvas.style.height=t.canvas.height/e+"px",t.scale(e,e)},e.canvasDrawSimple=y,e.canvasDrawHeatmap=x,e.canvasDrawGrid=b,e.canvasDrawHoneycomb=w,e.webglDrawSimple=ot,e.webglDrawPoint=D,e.webglDrawLine=M,e.webglDrawPolygon=nt,e.utilCityCenter=a,e.utilCurve=st,e.utilForceEdgeBundling=function(){var t={},e=[],r=[],i=[],n=.1,o=.1,a=2,s=6,l=70,c=.6666667,h=.6,u=1e-8;function p(e){return{x:t[e.target].x-t[e.source].x,y:t[e.target].y-t[e.source].y}}function f(e){return Math.sqrt(Math.pow(t[e.source].x-t[e.target].x,2)+Math.pow(t[e.source].y-t[e.target].y,2))}function y(t){for(var e=0,r=1;r<i[t].length;r++){e+=d(i[t][r],i[t][r-1])}return e}function d(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function v(t,e){var r=Math.sqrt((e.target.x-e.source.x)*(e.target.x-e.source.x)+(e.target.y-e.source.y)*(e.target.y-e.source.y)),i=((e.source.y-t.y)*(e.source.y-e.target.y)-(e.source.x-t.x)*(e.target.x-e.source.x))/(r*r);return{x:e.source.x+i*(e.target.x-e.source.x),y:e.source.y+i*(e.target.y-e.source.y)}}function g(t,e,r){var n=i[t][e-1],o=i[t][e+1],a=i[t][e],s=n.x-a.x+o.x-a.x,l=n.y-a.y+o.y-a.y;return{x:s*=r,y:l*=r}}function m(t,e,n){for(var o,a={x:0,y:0},s=r[t],l=0;l<s.length;l++){var c={x:i[s[l]][e].x-i[t][e].x,y:i[s[l]][e].y-i[t][e].y};if(Math.abs(c.x)>u||Math.abs(c.y)>u){var h=1/Math.pow((o={source:i[s[l]][e],target:i[t][e]},Math.sqrt(Math.pow(o.source.x-o.target.x,2)+Math.pow(o.source.y-o.target.y,2))),1);a.x+=c.x*h,a.y+=c.y*h}}return a}function _(t,r,i){for(var o=n/(f(e[t])*(r+1)),a=[{x:0,y:0}],s=1;s<r+1;s++){var l={x:0,y:0},c=g(t,s,o),h=m(t,s);l.x=i*(c.x+h.x),l.y=i*(c.y+h.y),a.push(l)}return a.push({x:0,y:0}),a}function x(r){for(var n=0;n<e.length;n++)if(1==r)i[n].push(t[e[n].source]),i[n].push((f=e[n],{x:(t[f.source].x+t[f.target].x)/2,y:(t[f.source].y+t[f.target].y)/2})),i[n].push(t[e[n].target]);else{var o=y(n)/(r+1),a=o,s=[];s.push(t[e[n].source]);for(var l=1;l<i[n].length;l++){for(var c=d(i[n][l],i[n][l-1]);a<c;){var h=a/c,u=i[n][l-1].x,p=i[n][l-1].y;u+=h*(i[n][l].x-i[n][l-1].x),p+=h*(i[n][l].y-i[n][l-1].y),s.push({x:u,y:p}),c-=a,a=o}a-=c}s.push(t[e[n].target]),i[n]=s}var f}function b(e,r){var i=v(t[r.source],{source:t[e.source],target:t[e.target]}),n=v(t[r.target],{source:t[e.source],target:t[e.target]}),o={x:(i.x+n.x)/2,y:(i.y+n.y)/2},a={x:(t[e.source].x+t[e.target].x)/2,y:(t[e.source].y+t[e.target].y)/2};return Math.max(0,1-2*d(a,o)/d(i,n))}function w(e,r){var i,n,o,a,s,l,c,h,u,y,v,g;return v=e,g=r,Math.abs((l=p(v),c=p(g),(l.x*c.x+l.y*c.y)/(f(v)*f(g))))*(u=r,2/((y=(f(h=e)+f(u))/2)/Math.min(f(h),f(u))+Math.max(f(h),f(u))/y))*(a=r,(s=(f(o=e)+f(a))/2)/(s+d({x:(t[o.source].x+t[o.target].x)/2,y:(t[o.source].y+t[o.target].y)/2},{x:(t[a.source].x+t[a.target].x)/2,y:(t[a.source].y+t[a.target].y)/2})))*(i=e,n=r,Math.min(b(i,n),b(n,i)))}function C(){for(var t=0;t<e.length-1;t++)for(var i=t+1;i<e.length;i++)t!=i&&(w(e[t],e[i])>=h&&(r[t].push(i),r[i].push(t)))}var S=function(){var t=o,n=l,a=1;(function(){for(var t=0;t<e.length;t++)i[t]=[]})(),function(){for(var t=0;t<e.length;t++)r[t]=[]}(),x(a),C();for(var h=0;h<s;h++){for(var u=0;u<n;u++){for(var p=[],f=0;f<e.length;f++)p[f]=_(f,a,t);for(var y=0;y<e.length;y++)for(var d=0;d<a+1;d++)i[y][d].x+=p[y][d].x,i[y][d].y+=p[y][d].y}t/=2,n*=c,x(a*=2)}return i};return S.nodes=function(e){return 0==arguments.length?t:(t=e,S)},S.edges=function(r){return 0==arguments.length?e:(e=function(e){for(var r=[],i=0;i<e.length;i++)t[e[i].source].x!=t[e[i].target].x&&t[e[i].source].y!=t[e[i].target].y&&r.push(e[i]);return r}(r),S)},S.bundling_stiffness=function(t){return 0==arguments.length?n:(n=t,S)},S.step_size=function(t){return 0==arguments.length?o:(o=t,S)},S.cycles=function(t){return 0==arguments.length?s:(s=t,S)},S.iterations=function(t){return 0==arguments.length?l:(l=t,S)},S.iterations_rate=function(t){return 0==arguments.length?c:(c=t,S)},S.subdivision_points_seed=function(t){return 0==arguments.length?P:(P=t,S)},S.subdivision_rate=function(t){return 0==arguments.length?a:(a=t,S)},S.compatbility_threshold=function(t){return 0==arguments.length?compatbility_threshold:(h=t,S)},S},e.utilDataRangeIntensity=v,e.utilDataRangeCategory=lt,e.utilDataRangeChoropleth=ct,e.Map=ht,e.baiduMapCanvasLayer=ut,e.baiduMapAnimationLayer=Wt,e.baiduMapLayer=Gt,e.googleMapCanvasLayer=Vt,e.googleMapLayer=qt,e.MaptalksLayer=Yt,e.AMapLayer=Jt,e.OpenlayersLayer=$t,e.OpenlayersAnimationLayer=Qt,e.leafletMapLayer=re,e.cesiumMapLayer=ae,e.DataSet=p,e.geojson=se,e.csv=le,Object.defineProperty(e,"__esModule",{value:!0})}(e)}).call(this,r(76))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.option=t}return t.prototype.createToolTip=function(){var t=document.createElement("div");t.setAttribute("class","tooltip"),t.style.cssText=["position: absolute;","z-index: 1","display: none;","background: "+(this.option.backgroundColor||"rgba(50, 50, 50, 0.7)")+";","opacity: "+(this.option.opacity||1)+";","border-radius: 0.2em;","padding: 5px;","white-space: nowrap;"].join("");var e=document.createElement("span");e.style.cssText=["display: inline-block;","margin-right: 5px;","border-radius: 10px;","width: 10px;","height: 10px;","background-color: #f4e925;"].join(""),t.appendChild(e);var r=document.createElement("label");if(r.style.cssText=["font-size: 15px;","color: rgb(238, 238, 238);"].join(""),this.option.hasOwnProperty("textStyle")){var i=this.option.textStyle;r.style.fontSize=i.fontSize||"15px",r.style.color=i.color||"rgb(238, 238, 238)"}return t.appendChild(r),this.tooltipDom=t},t.prototype.updateTooltip=function(t,e,r,i,n){t?(this.tooltipDom.style.display="block",this.tooltipDom.getElementsByTagName("span")[0].style.backgroundColor=n||"#f4e925",this.tooltipDom.getElementsByTagName("label")[0].innerText=e,this.tooltipDom.style.left=r+"px",this.tooltipDom.style.top=i+"px"):this.tooltipDom.style.display="none"},t.prototype.getStr=function(t,e,r,i){var n=t;return t.match(/{(.+?)}/g).forEach(function(t){var o=t.replace("{","").replace("}","");o==r&&(o=i),n=n.replace(t,e[o])}),n},t}();e.ToolTip=i},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(116),s=r(33),l=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.onEventArr=[],i.unEventArr=[],i.tooltipEve=null,i.pixelRatio=1,i.setDefaultConfig(),i.shapes=new a.Grid,i}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"weight",gradient:{.3:"#FF0000",1:"#0000FF"},size:10,offset:[0,0],strokeStyle:"rgba(255,255,0,1)",lineWidth:1,shadowColor:"rgba(255,255,0,1)",shadowBlur:3,label:{show:!0,fillStyle:"rgba(255,255,0,1)",fontSize:"15px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal",shadowColor:"rgba(255,255,0,1)",shadowBlur:3},globalAlpha:1,legend:{show:!0,width:20,height:180},tooltip:{formatter:"{name}:{weight}"}},e)},e.prototype.setData=function(t){this._data=t.asArray(),this._layer.updateLayer()},e.prototype.draw=function(t,e,r,i){if(this._data){this.pixelRatio=i;var n=this.findAll(),o=new s.Intensity({gradient:n.gradient,maxSize:n.maxSize,minSize:n.minSize,max:n.max,min:n.min});return this.shapes.draw(t,e,this._data,r,this.findAll(),o),this.setInteractions(o),t}return t},e.prototype.setInteractions=function(e){var r=this.findAll();r.hasOwnProperty("legend")&&t.prototype.Legend.call(this,e,r),r.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,r.tooltip),this.dispatchFun||(this.dispatchFun=this.dispatchClick.bind(this),this._layer.getLayer().map.on("click",this.dispatchFun));var i=this.shapes.zrGroup,n=this;this.onEventArr.forEach(function(t){i.on(t.eventName,function(e){var r=[e.event.offsetX,e.event.offsetY],i=n._layer.getLayer().map.getCoordinateFromPixel(r),o={screenX:r[0],screenY:r[1],lng:i[0],lat:i[1],property:e.target.data};t.handler(o)},t.query)})},e.prototype.startToolTip=function(){this.tooltipEve||(this.tooltipEve=this.tooltipEvent.bind(this),this._layer.getLayer().map.on("mousemove",this.tooltipEve))},e.prototype.stopToolTip=function(){this.tooltipEve&&(this._layer.getLayer().map.un("mousemove",this.tooltipEve),this.tooltipEve=null)},e.prototype.dispatchClick=function(t,e,r,i){var n=this.shapes.zr.handler,o=this.pixelRatio,a=n.findHover(r*o,i*o);n.dispatchToElement(a,"click",event)},e.prototype.tooltipEvent=function(t,e,r,i){var n=this.shapes.zr.handler,o=this.pixelRatio,a=n.findHover(r*o,i*o);if(n.dispatchToElement(a,"mousemove",event),a.target){var s=this.findAll(),l=this.tooltip.getStr(s.tooltip.formatter,a.target.data,s.fieldName,"gvCount"),c=a.target.style.fill;this.tooltip.updateTooltip(!0,l,r+10,i+10,c)}else this.tooltip.updateTooltip(!1)},e.prototype.on=function(t,e,r){this.onEventArr.push({eventName:t,handler:e,query:r})},e.prototype.un=function(t,e){var r=this;this.onEventArr.forEach(function(i,n){i.eventName==t&&i.handler==e&&r.onEventArr.splice(n,1)})},e.prototype.unbind=function(){t.prototype.unbind.call(this),this._layer.getLayer().map.un("click",this.dispatchFun),this.tooltipEve&&this._layer.getLayer().map.un("mousemove",this.tooltipEve)},e}(o.MapVChart);e.GridChart=l},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(115),s=r(33),l=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.onEventArr=[],i.unEventArr=[],i.pixelRatio=1,i.setDefaultConfig(),i.shapes=new a.HoneyComb,i}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"weight",gradient:{.3:"#FF0000",1:"#0000FF"},size:10,offset:[0,0],strokeStyle:"rgba(255,255,0,1)",lineWidth:1,shadowColor:"rgba(255,255,0,1)",shadowBlur:3,label:{show:!1,fillStyle:"rgba(255,255,0,1)",fontSize:"15px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal",shadowColor:"rgba(255,255,0,1)",shadowBlur:3},legend:{show:!0,width:20,height:180},tooltip:{formatter:"{name}:{weight}"},globalAlpha:1},e)},e.prototype.setData=function(t){this._data=t.asArray(),this._layer.updateLayer()},e.prototype.draw=function(t,e,r,i){if(this._data){this.pixelRatio=i;var n=this.findAll(),o=new s.Intensity({gradient:n.gradient,maxSize:n.maxSize,minSize:n.minSize,max:n.max,min:n.min});return this.shapes.draw(t,e,this._data,r,this.findAll(),o),this.setInteractions(o),t}return t},e.prototype.setInteractions=function(e){var r=this.findAll();r.hasOwnProperty("legend")&&t.prototype.Legend.call(this,e,r),r.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,r.tooltip),this.dispatchFun||(this.dispatchFun=this.dispatchClick.bind(this),this._layer.getLayer().map.on("click",this.dispatchFun));var i=this.shapes.zrGroup,n=this;this.onEventArr.forEach(function(t){i.on(t.eventName,function(e){var r=[e.event.offsetX,e.event.offsetY],i=n._layer.getLayer().map.getCoordinateFromPixel(r),o={screenX:r[0],screenY:r[1],lng:i[0],lat:i[1],property:e.target.data};t.handler(o)},t.query)})},e.prototype.startToolTip=function(){this.tooltipEve||(this.tooltipEve=this.tooltipEvent.bind(this),this._layer.getLayer().map.on("mousemove",this.tooltipEve))},e.prototype.stopToolTip=function(){this.tooltipEve&&(this._layer.getLayer().map.un("mousemove",this.tooltipEve),this.tooltipEve=null)},e.prototype.dispatchClick=function(t,e,r,i){var n=this.shapes.zr.handler,o=this.pixelRatio,a=n.findHover(r*o,i*o);n.dispatchToElement(a,"click",event)},e.prototype.tooltipEvent=function(t,e,r,i){var n=this.shapes.zr.handler,o=this.pixelRatio,a=n.findHover(r*o,i*o);if(n.dispatchToElement(a,"mousemove",event),a.target){var s=this.findAll(),l=this.tooltip.getStr(s.tooltip.formatter,a.target.data,s.fieldName,"gvCount"),c=a.target.style.fill;this.tooltip.updateTooltip(!0,l,r+10,i+10,c)}else this.tooltip.updateTooltip(!1)},e.prototype.on=function(t,e,r){this.onEventArr.push({eventName:t,handler:e,query:r})},e.prototype.un=function(t,e){var r=this;this.onEventArr.forEach(function(i,n){i.eventName==t&&i.handler==e&&r.onEventArr.splice(n,1)})},e.prototype.unbind=function(){t.prototype.unbind.call(this),this._layer.getLayer().map.un("click",this.dispatchFun),this.tooltipEve&&this._layer.getLayer().map.un("mousemove",this.tooltipEve)},e}(o.MapVChart);e.HoneyCombChart=l},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(119),s=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.onEventArr=[],i.unEventArr=[],i.pixelRatio=1,i.setDefaultConfig(),i.shapes=new a.Bubble,i}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{maxSize:25,minSize:10,fieldName:"weight",fillStyle:"rgba(55,50,250,0.6)",offset:[0,0],shadowColor:"rgba(55,50,250,0.8)",shadowBlur:10,label:{show:!1,fillStyle:"rgba(255,255,0,1)",fontSize:"15px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal",shadowColor:"rgba(255,255,0,1)",shadowBlur:3},tooltip:{formatter:"{name}:{weight}"},globalAlpha:1},e)},e.prototype.setData=function(t){this._data=t.asArray(),this._layer.updateLayer()},e.prototype.draw=function(t,e,r,i){return this._data&&(this.pixelRatio=i,this.shapes.draw(t,e,r,this._data,this.findAll()),this.setInteractions()),t},e.prototype.setInteractions=function(){var e=this.findAll();e.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,e.tooltip),this.dispatchFun||(this.dispatchFun=this.dispatchClick.bind(this),this._layer.getLayer().map.on("click",this.dispatchFun));var r=this.shapes.zrGroup,i=this;this.onEventArr.forEach(function(t){r.on(t.eventName,function(e){var r=[e.event.offsetX,e.event.offsetY],n=i._layer.getLayer().map.getCoordinateFromPixel(r),o={screenX:r[0],screenY:r[1],lng:n[0],lat:n[1],property:e.target.data};t.handler(o)},t.query)})},e.prototype.startToolTip=function(){this.tooltipEve||(this.tooltipEve=this.tooltipEvent.bind(this),this._layer.getLayer().map.on("mousemove",this.tooltipEve))},e.prototype.stopToolTip=function(){this.tooltipEve&&(this._layer.getLayer().map.un("mousemove",this.tooltipEve),this.tooltipEve=null)},e.prototype.dispatchClick=function(t,e,r,i){var n=this.shapes.zr.handler,o=this.pixelRatio,a=n.findHover(r*o,i*o);n.dispatchToElement(a,"click",event)},e.prototype.tooltipEvent=function(t,e,r,i){var n=this.shapes.zr.handler,o=this.pixelRatio,a=n.findHover(r*o,i*o);if(n.dispatchToElement(a,"mousemove",event),a.target){var s=this.findAll(),l=this.tooltip.getStr(s.tooltip.formatter,a.target.data,s.fieldName,"gvCount"),c=a.target.style.fill;this.tooltip.updateTooltip(!0,l,r+10,i+10,c)}else this.tooltip.updateTooltip(!1)},e.prototype.on=function(t,e,r){this.onEventArr.push({eventName:t,handler:e,query:r})},e.prototype.un=function(t,e){var r=this;this.onEventArr.forEach(function(i,n){i.eventName==t&&i.handler==e&&r.onEventArr.splice(n,1)})},e.prototype.unbind=function(){t.prototype.unbind.call(this),this._layer.getLayer().map.un("click",this.dispatchFun),this.tooltipEve&&this._layer.getLayer().map.un("mousemove",this.tooltipEve)},e}(o.MapVChart);e.BubbleChart=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(6),s=r(1),l=r(33),c=r(27),h=r(28),u=r(29),p=function(t){function e(e,r){var i=t.call(this,e,r,a.MapVChartType.Boundary)||this;return i.isSelect=!1,i.tooltipEve=null,i.selectEve=null,i.classifyRender=null,i.option=null,i.setDefaultConfig(),i}return n(e,t),e.prototype.setData=function(t){this._layer.getLayer().clear(),this._layer.getLayer().addFeatureCollection(t.toGFeatureCollection()),this.option=this.findAll();var e=this.createClassBreaksRenderer();this._layer.getLayer().render(e)},e.prototype.startToolTip=function(){this.tooltipEve||(this.tooltipEve=this.tooltipEvent.bind(this),this._layer.getLayer().map.on("mousemove",this.tooltipEve))},e.prototype.stopToolTip=function(){this._layer.getLayer().map.un("mousemove",this.tooltipEve),this.tooltipEve=null},e.prototype.startSelect=function(){this.selectEve||(this.selectEve=this.selectEvent.bind(this),this._layer.getLayer().map.on("mousemove",this.selectEve))},e.prototype.stopSelect=function(){this._layer.getLayer().map.un("mousemove",this.selectEve),this.selectEve=null},e.prototype.tooltipEvent=function(t,e,r,i){var n=this._layer.getLayer().hitTest(r,i),o=this.findAll();if(n){var a=n.feature,s=this.getMarkColor(a.getProperty(this.fieldName).value),l={};l.name=a.getProperty("name").value,l[this.fieldName]=a.getProperty(this.fieldName).value,l.x=r,l.y=i;var c=this.tooltip.getStr(o.tooltip.formatter,l);this.tooltip.updateTooltip(!0,c,r+10,i+10,s)}else this.tooltip.updateTooltip(!1)},e.prototype.selectEvent=function(t,e,r,i,n,o){var a=this._layer.getLayer(),l=a.hitTest(r,i);if(l){var c=l.feature;this.featureEvent(r,i,n,o,c)}else a.unSelect(new s.carto.Graphic({feature:this.selectFeature}))},e.prototype.featureEvent=function(t,e,r,i,n){var o=this._layer.getLayer();this.isSelect=!0,this.selectFeature&&o.unSelect(new s.carto.Graphic({feature:this.selectFeature}));var a=new s.carto.Graphic({feature:n});o.select(a),o.selectSymbol=this.createCurrencySymbol(this.option),this.selectFeature=n;var l=this.toFeature(n).properties;return delete l.shape,{screenX:t,screenY:e,lan:r,lng:i,property:l}},e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"",strokeStyle:"rgba(255,255,0,1)",lineWidth:2,legend:{show:!0,width:20,height:180},emphasis:{strokeStyle:"#222",fillStyle:"#f0f",lineWidth:1},tooltip:{formatter:"{name}:{weight}"},label:{show:!0,fillStyle:"rgb(0,114,114)",fontSize:"15px",fontWeight:"normal",fontFamily:"黑体",textAlign:"center",rotation:0,offsetX:0,offsetY:0,shadowBlur:.5,shadowColor:"rgba(3,63,120,1)"},globalAlpha:1,gradient:{1:"#ffffe5",.125:"#d8efa2",.25:"#f2fc33",.375:"#addd8e",.5:"#72c679",.625:"#41ab5d",.75:"#238342",.875:"#11ffe5"}},e)},e.prototype.createClassBreaksRenderer=function(){var t=this.option;this._layer.getLayer().setOpacity(t.globalAlpha);for(var e=[],r=Object.keys(t.gradient),i=[],n=t.min?t.min:0,o=t.max?t.max:100,a=r.length,c=[],h=0;h<r.length;h++){var u=this.toColor(t.gradient[r[h]]);c.push(t.gradient[r[h]]),i[h]=new s.sfs.SimpleFillSymbol({fillColor:u,borderColor:this.toColor(t.strokeStyle),borderThickness:t.lineWidth})}var p,f=this.autoGrade(n,o,a,c),y=new s.sfs.SimpleMarkerSymbol({fillColor:new s.sfs.Color({r:255,g:0,b:0,a:255}),borderColor:new s.sfs.Color({r:255,g:0,b:0,a:255}),size:5,borderThickness:1,style:"circle"}),d=parseInt(t.label.fontSize.replace("px",""));t.label.show&&(p=new s.sfs.TextSymbol({text:"weight",fontSize:d,borderThickness:t.label.shadowBlur,fontWeight:t.label.fontWeight,fontFamilyName:t.label.fontFamily,foreground:this.toColor(t.label.fillStyle),borderColor:this.toColor(t.label.shadowColor),textAlign:t.label.textAlign,rotation:t.label.rotation,offsetX:t.label.offsetX,offsetY:t.label.offsetY}));for(var v=[],g=0,m=f.length;g<m;++g){var _;_=f[g-1]?f[g-1].value:n;var x=f[g].value;v[g]=new s.sfs.CurrencySymbol({fillSymbol:i[g],markerSymbol:y,textSymbol:p}),e.push({startValue:_,endValue:x,symbol:v[g]})}this.fieldName=t.fieldName?t.fieldName:"weight";var b=new s.render.ClassBreaksRenderer({symbol:v[0],showLabel:t.label.show||!1,labelField:this.fieldName,fieldName:this.fieldName,classfications:e});this.classifyRender=b;var w=new l.Intensity({gradient:t.gradient,maxSize:t.maxSize,minSize:t.minSize,max:t.max,min:t.min});return this.setLegend(w,t),this.setToolTip(t),b},e.prototype.getMarkColor=function(t){if(this.classifyRender)for(var e=this.classifyRender.classfications,r=0;r<e.length;r++)if(t<=e[r].endValue&&t>=e[r].startValue)return e[r].symbol.fillSymbol.fillColor.toHex()},e.prototype.createCurrencySymbol=function(t){var e=new s.sfs.SimpleMarkerSymbol({fillColor:new s.sfs.Color({r:255,g:0,b:0,a:255}),borderColor:new s.sfs.Color({r:255,g:0,b:0,a:255}),size:5,borderThickness:1,style:"circle"}),r=this.isSelect?this.toColor(t.emphasis.fillStyle):this.toColor(t.fillStyle),i=this.isSelect?this.toColor(t.emphasis.strokeStyle):this.toColor(t.strokeStyle),n=this.isSelect?t.emphasis.lineWidth:t.lineWidth,o=new s.sfs.SimpleFillSymbol({fillColor:r,borderColor:i,borderThickness:n}),a=parseInt(t.label.fontSize.replace("px","")),l=new s.sfs.TextSymbol({text:"",fontSize:a,borderThickness:t.label.shadowBlur,fontWeight:t.label.fontWeight,fontFamilyName:t.label.fontFamily,foreground:this.toColor(t.label.fillStyle),borderColor:this.toColor(t.label.shadowColor),textAlign:t.label.textAlign,rotation:t.label.rotation,offsetX:t.label.offsetX,offsetY:t.label.offsetY});return new s.sfs.CurrencySymbol({fillSymbol:o,markerSymbol:e,textSymbol:l})},e.prototype.toColor=function(t){if(/^(rgb|RGB)/.test(t)){if(/^(rgba|RGBA)/.test(t)){var e=t.replace(/(?:\(|\)|rgba|RGBA)*/g,"").split(","),r=parseFloat(e[3])||1,i=Math.floor(r*parseInt(e[0])+255*(1-r)),n=Math.floor(r*parseInt(e[1])+255*(1-r)),o=Math.floor(r*parseInt(e[2])+255*(1-r)),a="#"+("0"+i.toString(16)).slice(-2)+("0"+n.toString(16)).slice(-2)+("0"+o.toString(16)).slice(-2);return new s.sfs.Color.fromHex(a)}var l=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",");return new s.sfs.Color({r:l[0],g:l[1],b:l[2],a:255})}return new s.sfs.Color.fromHex(t)},e.prototype.autoGrade=function(t,e,r,i){for(var n=Math.floor((e-t)/r),o=[],a=i,s=[],l=0;l<=r;l++){var c=t+l*n;o.push(c),0<l&&s.push({value:c,color:a[l-1],content:o[l-1]+"-"+o[l]})}return t+r*n<e&&(o.pop(),o.push(e),s.pop(),s.push({value:e,color:a[r-1],content:o[l-2]+"-"+o[l-1]})),s},e.prototype.setLegend=function(e,r){r.hasOwnProperty("legend")&&t.prototype.Legend.call(this,e,r)},e.prototype.setToolTip=function(e){e.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,e.tooltip)},e.prototype.on=function(t,e){var r=this;this._layer.getLayer().on(t,function(t,i,n,o,a){var s=r.featureEvent(t,i,n,o,a);e(s)})},e.prototype.un=function(t,e){this._layer.getLayer().un(t,e)},e.prototype.toFeature=function(t){var e=new c.Fields,r=new u.Feature(e);r.setGeometry(t.getGeometry().asWkt(4));for(var i=0,n=t.fields.fields,o=t.properties;i<n.length;i++){var a=new h.Field;a.name=n[i].name,a.dataType=n[i].dataType,e.addField(a),r.setValue(a.name,o[i].value)}return r},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.tooltipEve&&this._layer.getLayer().map.un("mousemove",this.tooltipEve),this.selectEve&&this._layer.getLayer().map.un("mousemove",this.selectEve)},e}(o.MapVChart);e.BoundaryChart=p},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(300),s=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.onEventArr=[],i.unEventArr=[],i.pixelRatio=1,i.setDefaultConfig(),i.shapes=new a.SimplePoint,i}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{size:13,fillStyle:"rgba(55,50,250,1)",offset:[0,0],shadowColor:"rgba(55,50,250,0.8)",shadowBlur:10,label:{show:!1,fillStyle:"rgba(255,255,0,1)",fontSize:"15px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal",shadowColor:"rgba(255,255,0,1)",shadowBlur:3},tooltip:{formatter:"{name}"},globalAlpha:1},e)},e.prototype.setData=function(t){this._data=t.asArray(),this._layer.updateLayer()},e.prototype.draw=function(t,e,r,i){return this._data&&(this.pixelRatio=i,this.shapes.draw(t,e,r,this._data,this.findAll()),this.setInteractions()),t},e.prototype.setInteractions=function(){var e=this.findAll();e.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,e.tooltip),this.dispatchFun||(this.dispatchFun=this.dispatchClick.bind(this),this._layer.getLayer().map.on("click",this.dispatchFun));var r=this.shapes.zrGroup,i=this;this.onEventArr.forEach(function(t){r.on(t.eventName,function(e){var r=[e.event.offsetX,e.event.offsetY],n=i._layer.getLayer().map.getCoordinateFromPixel(r),o={screenX:r[0],screenY:r[1],lng:n[0],lat:n[1],property:e.target.data};t.handler(o)},t.query)})},e.prototype.startToolTip=function(){this.tooltipEve||(this.tooltipEve=this.tooltipEvent.bind(this),this._layer.getLayer().map.on("mousemove",this.tooltipEve))},e.prototype.stopToolTip=function(){this.tooltipEve&&(this._layer.getLayer().map.un("mousemove",this.tooltipEve),this.tooltipEve=null)},e.prototype.setToolTip=function(e){e.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,e.tooltip)},e.prototype.dispatchClick=function(t,e,r,i){var n=this.shapes.zr.handler,o=this.pixelRatio,a=n.findHover(r*o,i*o);n.dispatchToElement(a,"click",event)},e.prototype.tooltipEvent=function(t,e,r,i){var n=this.shapes.zr.handler,o=this.pixelRatio,a=n.findHover(r*o,i*o);if(n.dispatchToElement(a,"mousemove",event),a.target){var s=this.findAll(),l=this.tooltip.getStr(s.tooltip.formatter,a.target.data,s.fieldName,"gvCount"),c=a.target.style.fill;this.tooltip.updateTooltip(!0,l,r+10,i+10,c)}else this.tooltip.updateTooltip(!1)},e.prototype.on=function(t,e,r){this.onEventArr.push({eventName:t,handler:e,query:r})},e.prototype.un=function(t,e){var r=this;this.onEventArr.forEach(function(i,n){i.eventName==t&&i.handler==e&&r.onEventArr.splice(n,1)})},e.prototype.unbind=function(){t.prototype.unbind.call(this),this._layer.getLayer().map.un("click",this.dispatchFun),this.tooltipEve&&this._layer.getLayer().map.un("mousemove",this.tooltipEve)},e}(o.MapVChart);e.DensityChart=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(73),n=r(7),o=function(){function t(){}return t.prototype.draw=function(t,e,r,i,o){this.zr||(this.zr=n.init(t)),this.zr.clear();var a=this.getNewData(i,2*o.size,r);this.drawSimplePoint(e,a,r,o)},t.prototype.getNewData=function(t,e,r){for(var i={},n=e*r,o=function(e){var r=t[e].shape,o=Math.floor(r[0]/n),a=Math.floor(r[1]/n),s=o+"-"+a,l=i[s];l=i[s]={},Object.keys(t[e]).forEach(function(r){"shape"!==r&&(l[r]=t[e][r])}),l.i=o,l.j=a,l.x=r[0],l.y=r[1]},a=0;a<t.length;a++)o(a);return i},t.prototype.drawSimplePoint=function(t,e,r,o){var a=t[0],s=t[3],l=this.getZrStyle(o),c=o.offset,h=new n.Group;for(var u in e){var p=(e[u].x-a)/r+c[0],f=(s-e[u].y)/r+c[1],y=o.size,d=new i.Circle(p,f,y);o.label.show&&(l.text=e[u].name),d.setAttr("style",l),d.setAttr("data",this.getProperty(e[u])),h.add(d.getElement())}this.zr.add(h),this.zrGroup=h},t.prototype.getProperty=function(t){var e={};for(var r in t)"i"!=r&&"j"!=r&&"x"!=r&&"y"!=r&&(e[r]=t[r]);return e},t.prototype.getZrStyle=function(t){return{fill:t.fillStyle,stroke:t.strokeStyle,lineWidth:t.lineWidth,shadowColor:t.shadowColor,shadowBlur:t.shadowBlur,opacity:t.globalAlpha,textFill:t.label.fillStyle,fontStyle:t.label.fontStyle,fontWeight:t.label.fontWeight,fontSize:t.label.fontSize.replace("px",""),fontFamily:t.label.fontFamily,textShadowColor:t.label.shadowColor,textShadowBlur:t.label.shadowBlur}},t}();e.SimplePoint=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(6),s=r(1),l=r(33),c=function(t){function e(e,r){var i=t.call(this,e,r,a.MapVChartType.Heat)||this;return i.isSelect=!1,i.setDefaultConfig(),i}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"weight",shadowBlur:10,radius:10,globalAlpha:1,legend:{show:!0,width:20,height:180},gradient:{.2:"#00f",.4:"#0ff",.6:"#0f0",.8:"#ff0",1:"#f00"}},e)},e.prototype.setData=function(t){this._data=t.asArray(),this.createHeatRender()},e.prototype.createHeatRender=function(){var t=this.findAll(),e=this._layer.getLayer();e.clear();var r=[];Object.keys(t.gradient).forEach(function(e){r.push(t.gradient[e])}),e.setBlur(t.shadowBlur),e.setRadius(t.radius),e.setOpacity(t.globalAlpha),e.setGradient(r);for(var i=[],n=t.fieldName,o=this.getNewData(this._data,n),a=0;a<o.length;a++){var c=new s.sfs.Point({x:o[a].x,y:o[a].y,spatialReference:s.sfs.EnumSpatialReference.EPSG4326}),h=new s.carto.Heat({geometry:c,weight:o[a][n]});i.push(h)}e.addHeats(i);var u=new l.Intensity({gradient:t.gradient,maxSize:t.maxSize,minSize:t.minSize,max:t.max,min:t.min});t.legend.text=[1,0],this.setLegend(u,t)},e.prototype.setLegend=function(e,r){r.hasOwnProperty("legend")&&t.prototype.Legend.call(this,e,r)},e.prototype.getNewData=function(t,e){for(var r=[],i=0;i<t.length;i++){var n=t[i].shape,o={};o.x=n[0],o.y=n[1],t[i].hasOwnProperty(e)&&(o[e]=t[i][e]),r.push(o)}return r},e}(o.MapVChart);e.HeatChart=c},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(14),s=r(51),l=r(6),c=function(t){function e(e,r){var i=t.call(this,e,r,l.MapVChartType.LineAnimation)||this;return i._lineData=[],i._pointData=[],i.setDefaultConfig(),i}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{strokeStyle:"rgba(53,57,255,0.5)",lineWidth:3,shadowColor:"rgba(53,57,255,0.2)",shadowBlur:3,globalAlpha:1,flowAnimation:{show:!0,fillStyle:"rgba(255, 250, 250, 0.5)",size:3,trails:3,duration:10,stepsRange:{start:0,end:100}},tooltip:{formatter:"{gvCoordinate}"}},e)},e.prototype.getFlowAnimationOption=function(){var t=this.findAll().flowAnimation,e={animation:{}};for(var r in t)"duration"===r||"trails"===r||"stepsRange"===r?e.animation[r]=t[r]:e[r]=t[r];return e},e.prototype.setData=function(t){var e=t.asArray();this.getData(e);var r=this.findAll(),i=this._layer.getOpacity(),n=this._layer.getZIndex();if(this._layer instanceof s.CompositeLayer){var o=this._layer.get("line");if(o instanceof a.MapVLayer){var l=this._lineData,c=o.toDataSet(l);o.getLayer()?o.updateLayer(r,c):o.createLayer(r,c)}var h=this._layer.get("flowAnimation");if(h instanceof a.MapVLayer){var u=this._pointData,p=h.toDataSet(u),f=this.getFlowAnimationOption();r.hasOwnProperty("globalAlpha")&&!f.hasOwnProperty("globalAlpha")&&(f.globalAlpha=r.globalAlpha),h.getLayer()?h.updateLayer(f,p):h.createLayer(f,p),f.show?h.setOpacity(i):h.setOpacity(0),h.setZIndex(n)}}this.setInteractions()},e.prototype.setInteractions=function(){var e=this.findAll();e.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,e.tooltip)},e.prototype.startToolTip=function(){this.tooltipEve||(this.tooltipEve=this.tooltipEvent.bind(this),this._layer.getLayer().get("line").getLayer().map.on("pointermove",this.tooltipEve))},e.prototype.stopToolTip=function(){this.tooltipEve&&(this._layer.getLayer().get("line").getLayer().map.un("pointermove",this.tooltipEve),this.tooltipEve=null)},e.prototype.getData=function(t){var e=this;this._lineData=[],this._pointData=[],t.forEach(function(t){var r=Object.keys(t),i={};r.forEach(function(r){"shape"===r?(t[r].forEach(function(t,r){e._pointData.push({geometry:{type:"Point",coordinates:t},count:1,time:2*r})}),i.geometry={type:"LineString",coordinates:t[r]}):i[r]=t[r]}),e._lineData.push(i)})},e.prototype.tooltipEvent=function(t){var e=this._layer.getLayer().get("line").getLayer(),r=t.pixel[0],i=t.pixel[1],n=e.isPointInPath(e.getContext(),{x:r,y:i});if(n){var o=this.findAll();n.gvCoordinate=t.coordinate;var a=this.tooltip.getStr(o.tooltip.formatter,n);this.tooltip.updateTooltip(!0,a,r+10,i+10,o.strokeStyle)}else this.tooltip.updateTooltip(!1)},e.prototype.on=function(t,e){this.config("methods."+t,e)},e.prototype.un=function(t,e){this.config("methods."+t,void 0)},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.tooltipEve&&this._layer.getLayer().get("line").getLayer().map.un("pointermove",this.tooltipEve)},e}(o.MapVChart);e.LineAnimationChart=c},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(6),s=r(14),l=function(t){function e(e,r){var i=t.call(this,e,r,a.MapVChartType.DynamicPoint)||this;return i._pointData=[],i.setDefaultConfig(),i}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"time",fillStyle:"rgba(0,255,0,1)",shadowColor:"rgba(53,57,255,0.2)",shadowBlur:3,size:3,globalAlpha:1,draw:"simple",animation:{stepsRange:{start:0,end:10},trails:3,duration:5},tooltip:{formatter:"{gvCoordinate}"}},e)},e.prototype.setData=function(t){var e=this.findAll();this.fieldName=e.fieldName;var r=t.asArray();if(this.getData(r),e.draw="simple",this._layer instanceof s.MapVLayer){var i=this._layer.getLayer(),n=this._pointData,o=this._layer.toDataSet(n);i?this._layer.updateLayer(e,o):this._layer.createLayer(e,o)}this.setInteractions()},e.prototype.setInteractions=function(){var e=this.findAll();e.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,e.tooltip)},e.prototype.startToolTip=function(){this.tooltipEve||(this.tooltipEve=this.tooltipEvent.bind(this),this._layer.getLayer().map.on("pointermove",this.tooltipEve))},e.prototype.stopToolTip=function(){this.tooltipEve&&(this._layer.getLayer().map.un("pointermove",this.tooltipEve),this.tooltipEve=null)},e.prototype.getData=function(t){var e=this;this._pointData=[],t.forEach(function(t){e._pointData.push({geometry:{type:"Point",coordinates:t.shape},time:t[e.fieldName]})})},e.prototype.tooltipEvent=function(t){var e=this._layer.getLayer();console.log(t);var r=t.pixel[0],i=t.pixel[1],n=e.isPointInPath(e.getContext(),{x:r,y:i});if(n){var o=this.findAll();n.gvCoordinate=t.coordinate;var a=this.tooltip.getStr(o.tooltip.formatter,n);this.tooltip.updateTooltip(!0,a,r+10,i+10,o.fillStyle)}else this.tooltip.updateTooltip(!1)},e.prototype.on=function(t,e){this.config("methods."+t,e)},e.prototype.un=function(t,e){this.config("methods."+t,void 0)},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.tooltipEve&&this._layer.getLayer().map.un("pointermove",this.tooltipEve)},e}(o.MapVChart);e.DynamicPointChart=l},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(14),s=r(51),l=r(6),c=function(t){function e(e,r){var i=t.call(this,e,r,l.MapVChartType.QianXi)||this;return i._lineData=[],i._pointData=[],i._textData=[],i.setDefaultConfig(),i}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{strokeStyle:"rgba(53,57,255,0.5)",lineWidth:3,shadowColor:"rgba(53,57,255,0.2)",shadowBlur:10,globalAlpha:1,flowAnimation:{show:!0,fillStyle:"rgba(255, 250, 250, 0.5)",size:3,trails:10,duration:2,stepsRange:{start:0,end:40}},label:{show:!0,fontSize:"15px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal",fillStyle:"pink"},tooltip:{formatter:"{gvCoordinate}"}},e)},e.prototype.getFlowAnimationOption=function(){var t=this.findAll().flowAnimation,e={animation:{}};for(var r in t)"duration"===r||"trails"===r||"stepsRange"===r||"time"===r?e.animation[r]=t[r]:e[r]=t[r];return e.draw="simple",e},e.prototype.setData=function(t){var e=t.asArray(),r=this.findAll(),i=this._layer.getOpacity(),n=this._layer.getZIndex();if(this._layer instanceof s.CompositeLayer){var o=this._layer.get("line");if(this.getData(e,o),o instanceof a.MapVLayer){var l=this._lineData,c=o.toDataSet(l);o.getLayer()?o.updateLayer(r,c):o.createLayer(r,c)}var h=this._layer.get("flowAnimation");if(h instanceof a.MapVLayer){var u=this._pointData,p=h.toDataSet(u),f=this.getFlowAnimationOption();r.hasOwnProperty("globalAlpha")&&!f.hasOwnProperty("globalAlpha")&&(f.globalAlpha=r.globalAlpha),h.getLayer()?h.updateLayer(f,p):h.createLayer(f,p),f.show?h.setOpacity(i):h.setOpacity(0),h.setZIndex(n)}var y=this._layer.get("text");if(y instanceof a.MapVLayer){var d=this._textData,v=y.toDataSet(d);f=r.label,r.hasOwnProperty("globalAlpha")&&!f.hasOwnProperty("globalAlpha")&&(f.globalAlpha=r.globalAlpha),f.draw="text",f.font=(f.fontStyle+" "||!1)+(f.fontWeight+" "||!1)+(f.fontSize+" "||!1)+(f.fontFamily||""),y.getLayer()?y.updateLayer(f,v):y.createLayer(f,v),f.show?y.setVisible(!0):y.setVisible(!1),y.setZIndex(n)}}this.setInteractions()},e.prototype.setInteractions=function(){var e=this.findAll();e.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,e.tooltip)},e.prototype.startToolTip=function(){this.tooltipEve||(this.tooltipEve=this.tooltipEvent.bind(this),this._layer.getLayer().get("line").getLayer().map.on("pointermove",this.tooltipEve))},e.prototype.stopToolTip=function(){this.tooltipEve&&(this._layer.getLayer().get("line").getLayer().map.un("pointermove",this.tooltipEve),this.tooltipEve=null)},e.prototype.getData=function(t,e){var r=this;this._lineData=[],this._pointData=[];var i=this.getEndCity(t),n=i.shape;t.forEach(function(t){var o=t.shape,a=e.getCurvePoints(o,n);Object.keys(t).forEach(function(t){"shape"===t&&a.forEach(function(t,e){r._pointData.push({geometry:{type:"Point",coordinates:t},count:1,time:2*e})})}),r._lineData.push({geometry:{type:"LineString",coordinates:a}});var s=t.from;t.hasOwnProperty("to")&&(s=i.to),r._textData.push({geometry:{type:"Point",coordinates:o},text:s})})},e.prototype.getEndCity=function(t){var e={};return t.forEach(function(t){t.hasOwnProperty("to")&&(e=t)}),e},e.prototype.tooltipEvent=function(t){var e=this._layer.getLayer().get("line").getLayer(),r=t.pixel[0],i=t.pixel[1],n=e.isPointInPath(e.getContext(),{x:r,y:i});if(n){var o=this.findAll();n.gvCoordinate=t.coordinate;var a=this.tooltip.getStr(o.tooltip.formatter,n);this.tooltip.updateTooltip(!0,a,r+10,i+10,o.strokeStyle)}else this.tooltip.updateTooltip(!1)},e.prototype.on=function(t,e,r){this.config("methods."+t,e),this.config("label.methods."+t,e)},e.prototype.un=function(t,e){this.config("methods."+t,void 0),this.config("label.methods."+t,void 0)},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.tooltipEve&&this._layer.getLayer().get("line").getLayer().map.un("pointermove",this.tooltipEve)},e}(o.MapVChart);e.QianXiChart=c},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(14),s=r(51),l=r(6),c=function(t){function e(e,r){var i=t.call(this,e,r,l.MapVChartType.LineAnimation)||this;return i._lineData=[],i._pointData=[],i.setDefaultConfig(),i}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{strokeStyle:"rgba(25, 12, 25, 0.6)",globalCompositeOperation:"lighter",shadowColor:"rgba(55, 50, 250, 0.5)",shadowBlur:10,lineWidth:1,globalAlpha:1,flowAnimation:{show:!0,fillStyle:"rgba(255, 250, 250, 0.9)",size:1.5,stepsRange:{start:0,end:100},trails:1,duration:5},tooltip:{formatter:"{gvCoordinate}"}},e)},e.prototype.getFlowAnimationOption=function(){var t=this.findAll().flowAnimation,e={animation:{}};for(var r in t)"duration"===r||"trails"===r||"stepsRange"===r?e.animation[r]=t[r]:e[r]=t[r];return e},e.prototype.setData=function(t){var e=t.asArray();this.getData(e);var r=this.findAll(),i=this._layer.getOpacity(),n=this._layer.getZIndex();if(this._layer instanceof s.CompositeLayer){var o=this._layer.get("line");if(o instanceof a.MapVLayer){var l=this._lineData,c=o.toDataSet(l);o.getLayer()?o.updateLayer(r,c):o.createLayer(r,c)}var h=this._layer.get("flowAnimation");if(h instanceof a.MapVLayer){var u=this._pointData,p=h.toDataSet(u),f=this.getFlowAnimationOption();h.getLayer()?h.updateLayer(f,p):h.createLayer(f,p),f.show?h.setOpacity(i):h.setOpacity(0),h.setZIndex(n)}}this.setInteractions()},e.prototype.setInteractions=function(){var e=this.findAll();e.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,e.tooltip)},e.prototype.startToolTip=function(){this.tooltipEve||(this.tooltipEve=this.tooltipEvent.bind(this),this._layer.getLayer().get("line").getLayer().map.on("pointermove",this.tooltipEve))},e.prototype.stopToolTip=function(){this.tooltipEve&&(this._layer.getLayer().get("line").getLayer().map.un("pointermove",this.tooltipEve),this.tooltipEve=null)},e.prototype.getData=function(t){this._lineData=[],this._pointData=[];for(var e={},r=[],i=0;i<t.length;i++){var n=t[i].shape;e[i]={x:n[0],y:n[1]},r.push({source:i,target:0})}if(this._layer instanceof s.CompositeLayer){var o=this._layer.get("line");if(o instanceof a.MapVLayer){var l=o.utilForceEdgeBundling().nodes(e).edges(r)();for(i=0;i<l.length;i++){for(var c=l[i],h=[],u=0;u<c.length;u++)h.push([c[u].x,c[u].y]),this._pointData.push({geometry:{type:"Point",coordinates:[c[u].x,c[u].y]},count:1,time:u});this._lineData.push({geometry:{type:"LineString",coordinates:h}})}}}},e.prototype.tooltipEvent=function(t){var e=this._layer.getLayer().get("line").getLayer(),r=t.pixel[0],i=t.pixel[1],n=e.isPointInPath(e.getContext(),{x:r,y:i});if(n){var o=this.findAll();n.gvCoordinate=t.coordinate;var a=this.tooltip.getStr(o.tooltip.formatter,n);this.tooltip.updateTooltip(!0,a,r+10,i+10,o.strokeStyle)}else this.tooltip.updateTooltip(!1)},e.prototype.on=function(t,e){this.config("methods."+t,e)},e.prototype.un=function(t,e){this.config("methods."+t,void 0)},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.tooltipEve&&this._layer.getLayer().get("line").getLayer().map.un("pointermove",this.tooltipEve)},e}(o.MapVChart);e.ForceEdgeBundlingChart=c},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(6),s=r(16),l=function(t){function e(e,r){var i=t.call(this,e,r,a.MapVChartType.Situation)||this;return i.setDefaultConfig(),i}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"weight",strokeStyle:"#f4e925",strokShadowColor:"",strokShadowBlur:0,fillStyle:"#FF8C00",shadowColor:"#EE0000",shadowBlur:50,offset:[0,0],label:{show:!1,fillStyle:"rgba(255,255,0,1)",fontSize:"15px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal",shadowColor:"rgba(255,255,0,1)",shadowBlur:3},tooltip:{trigger:"item"},bar:{itemStyle:{color:"#ddb926",opacity:1},label:{show:!1,position:"inside",color:"rgba(255,255,0,1)",fontSize:"15px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal",shadowColor:"rgba(255,255,0,1)",shadowBlur:3},emphasis:{label:{},itemStyle:{}}},grid:{right:40,top:100,bottom:40,width:"30%"},xAxis:{type:"value",scale:!0,position:"top",boundaryGap:!1,splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{margin:2,textStyle:{color:"#aaa"}}},yAxis:{type:"category",nameGap:16,axisLine:{show:!0,lineStyle:{color:"#ddd"}},axisTick:{show:!1,lineStyle:{color:"#ddd"}},axisLabel:{interval:0,textStyle:{color:"#111"}},data:[]},series:[{type:"scatter",encode:{lng:1,lat:2,itemName:0},label:{normal:{formatter:"{b}",position:"right",show:!1},emphasis:{show:!0}},itemStyle:{color:"#FF8C00",position:"right",show:!0,shadowBlur:0,shadowColor:"",opacity:1},animation:!1},{type:"effectScatter",encode:{lng:1,lat:2,itemName:0},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,animation:!1,label:{formatter:"{b}",position:"right",show:!0},itemStyle:{color:"#f4e925",shadowBlur:50,shadowColor:"#EE0000",opacity:1},zlevel:1},{id:"bar",zlevel:2,type:"bar",animation:!1,itemStyle:{color:"#ddb926",opacity:1},label:{show:!1,position:"inside",color:"rgba(255,255,0,1)",fontSize:"15px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal",shadowColor:"rgba(255,255,0,1)",shadowBlur:3},emphasis:{label:{},itemStyle:{}},encode:{y:0,x:3,itemName:0}}],globalAlpha:1},e)},e.prototype.setData=function(t){this._data=t.asArray();var e=this._layer,r=this.getEchartOption();e instanceof s.EChartsLayer&&(e.getLayer()?e.updateLayer(r):e.createLayer(r),e.getLayer().setOpacity(this.findAll().globalAlpha))},e.prototype.getEchartOption=function(){var t=this.findAll(),e=this.getNumberLeght(t),r=1;1<e&&(r=Math.pow(10,e-1)/15);var i;i=/^\+?[1-9][0-9]*$/.test(t.label.fontSize)?t.label.fontSize:parseInt(t.label.fontSize.replace("px","")),t.series[0].symbolSize=function(t){return Math.max(t[3]/(2*r),8)},t.series[1].symbolSize=function(t){return Math.max(t[3]/(3*r),8)};var n=[];this._data.map(function(t){n.push(t.name)}),t.yAxis.data=n,t.series[1].label=t.label,t.series[1].label.color=t.label.fillStyle,t.series[1].label.fontSize=i,t.series[0].itemStyle.color=t.fillStyle,t.series[0].itemStyle.shadowColor=t.strokShadowColor,t.series[0].itemStyle.shadowBlur=t.strokShadowBlur,t.series[1].itemStyle.color=t.strokeStyle,t.series[1].itemStyle.shadowBlur=t.shadowBlur,t.series[1].itemStyle.shadowColor=t.shadowColor,t.series[2].itemStyle=t.bar.itemStyle,t.series[2].label=t.bar.label,t.series[2].emphasis=t.bar.emphasis;for(var o=0;o<t.series.length-1;o++)"TSMap"==this.mapType?t.series[o].coordinateSystem="G2Map":t.series[o].coordinateSystem="CesiumMap";var a={tooltip:t.tooltip,grid:t.grid,xAxis:t.xAxis,yAxis:t.yAxis,dataset:{source:this.toDataSet(t),dimensions:["name","x","y","value"]},series:t.series};return"TSMap"==this.mapType?a.G2Map={}:a.CesiumMap={},a},e.prototype.toDataSet=function(t){var e=[],r=t.fieldName;return this._data.map(function(t){var i={},n=[];for(var o in n.push(t.name),n.push.apply(n,t.shape.concat(t[r])),t)i[o]=t[o];delete i.shape,n.push(i),e.push(n)}),e},e.prototype.getMax=function(t){var e=[],r=t.fieldName;return this._data.map(function(t){e.push(t[r])}),Math.max.apply(null,e)},e.prototype.getNumberLeght=function(t){var e=[],r=t.fieldName;return this._data.map(function(t){var i=t[r].toString().length;e.push(i)}),this.findMost(e)},e.prototype.findMost=function(t){if(t.length){if(1==t.length)return t[0];var e,r=0;return t.reduce(function(t,i){return t[i]?t[i]+=1:t[i]=1,t[i]>r&&(r=t[i],e=i),t},{}),e}},e}(o.MapVChart);e.SituationChart=l},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(6),s=r(12);r(71);var l=r(16),c=function(t){function e(e,r){var i=t.call(this,e,r,a.MapVChartType.Flow)||this;return i.setDefaultConfig(),i}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{particleDensity:128,particleType:"point",particleSize:1,particleSpeed:1,particleTrail:2,supersampling:4,globalAlpha:.8,gradient:{.1:"#313695",.2:"#4575b4",.3:"#74add1",.4:"#abd9e9",.5:"#e0f3f8",.6:"#ffffbf",.7:"#fee090",.8:"#fdae61",.9:"#f46d43",1:"#d73027"},legend:{show:!0,left:30,bottom:50,textStyle:{color:"#000",fontSize:12}}},e)},e.prototype.getEchartOption=function(){var t=this.findAll(),e=t;t={},this.__config=new s.ChartConfig(t);var r=[],i="";for(var n in e.gradient)"1"!=n?r.push(e.gradient[n]):i=e.gradient[n];return""!=i&&r.push(i),e.legend.inRange={},e.legend.inRange.color=r,e.legend.dimension=4,this.__config.config("series[0]",{type:"flowGL",particleDensity:e.particleDensity,particleType:e.particleType,particleSize:e.particleSize,particleSpeed:e.particleSpeed,particleTrail:e.particleTrail,supersampling:e.supersampling,itemStyle:{opacity:e.globalAlpha}}),this.__config.config("visualMap",e.legend),this.__config.config("animation",!1),t},e.prototype.setData=function(t){var e=t.asArray(),r=[],i=0,n=1/0;e.forEach(function(t){var e=t.shape[0],o=t.shape[1];delete t.shape;var a=[e,o];for(var s in t)a.push(t[s]);i=Math.max(t.mag,i),n=Math.min(t.mag,n),r.push(a)}),this.getEchartOption(),"TSMap"==this.mapType?(this.__config.config("G2Map",{}),this.__config.config("series[0].coordinateSystem","G2Map")):(this.__config.config("CesiumMap",{}),this.__config.config("series[0].coordinateSystem","CesiumMap")),this.__config.config("series[0].data",r),this.__config.config("visualMap.min",n),this.__config.config("visualMap.max",i),this.__config.config("visualMap.calculable",!0);var o=this.__config.findAll();this._layer instanceof l.EChartsLayer&&(this._layer.getLayer()?this._layer.updateLayer(o):this._layer.createLayer(o))},e}(o.MapVChart);e.WindChart=c},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(14),s=r(6),l=function(t){function e(e,r){var i=t.call(this,e,r,s.MapVChartType.DynamicPoint)||this;return i._pointData=[],i.setDefaultConfig(),i}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{iconFieldName:"icon",iconType:"url",iconWidth:16,iconHeight:16,fillStyle:"rgba(255, 50, 0, 1.0)",size:5,minSize:8,maxSize:31,globalAlpha:1,clusterRadius:150,maxZoom:19,label:{show:!0,fillStyle:"white",fontSize:"15px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal"},tooltip:{formatter:"{gvCoordinate}"},gradient:{0:"blue",.5:"yellow",1:"rgb(255,0,0)"}},e)},e.prototype.setData=function(t){var e=t.asArray();this.getData(e);var r=this.findAll();r.draw="cluster",r.label.font=(r.label.fontStyle+" "||!1)+(r.label.fontWeight+" "||!1)+(r.label.fontSize+" "||!1)+(r.label.fontFamily||"");var i=this._layer;if(i instanceof a.MapVLayer){var n=this._pointData,o=i.toDataSet(n);i.getLayer()?i.updateLayer(r,o):i.createLayer(r,o)}this.setInteractions()},e.prototype.setInteractions=function(){var e=this.findAll();e.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,e.tooltip)},e.prototype.startToolTip=function(){this.tooltipEve||(this.tooltipEve=this.tooltipEvent.bind(this),this._layer.getLayer().map.on("pointermove",this.tooltipEve))},e.prototype.stopToolTip=function(){this.tooltipEve&&(this._layer.getLayer().map.un("pointermove",this.tooltipEve),this.tooltipEve=null)},e.prototype.getData=function(t){var e=this;this._pointData=[];var r={},i=this.findAll(),n=i.iconFieldName,o=i.iconType||"url",a=i.iconWidth||16,s=i.iconHeight||16;t.forEach(function(t){var i=Object.keys(t),l={};i.forEach(function(e){if("shape"===e)l.geometry={type:"Point",coordinates:t[e]};else if(e==n){if(!r.hasOwnProperty(t[e])&&"url"==o){var i=new Image(a,s);i.src=t[e],r[t[e]]=i}l[e]=r[t[e]]}else l[e]=t[e]}),e._pointData.push(l)})},e.prototype.tooltipEvent=function(t){var e=this._layer.getLayer(),r=t.pixel[0],i=t.pixel[1],n=e.isPointInPath(e.getContext(),{x:r,y:i});if(n){var o=this.findAll();n.gvCoordinate=t.coordinate;var a=this.tooltip.getStr(o.tooltip.formatter,n);this.tooltip.updateTooltip(!0,a,r+10,i+10,n._fillStyle)}else this.tooltip.updateTooltip(!1)},e.prototype.on=function(t,e){this.config("methods."+t,e)},e.prototype.un=function(t,e){this.config("methods."+t,void 0)},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.tooltipEve&&this._layer.getLayer().map.un("pointermove",this.tooltipEve)},e}(o.MapVChart);e.PointClusterChart=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(15),n=r(34),o=r(120),a=function(){function t(){}return t.creator=function(t){switch(t.mapType){case i.MapType.TSMap:return new n.TSMap(t.dom,t);case i.MapType.TSGlobe:return new o.TSGlobe(t.dom,t)}},t}();e.MapCreator=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(6),s=r(1),l=r(28),c=r(27),h=r(29),u=function(t){function e(e,r){var i=t.call(this,e,r,a.MapVChartType.FeatureSource)||this;return i.isSelect=!1,i.mouseoverEve=null,i.setDefaultConfig(),i}return n(e,t),e.prototype.setData=function(t){this._layer.getLayer().clear(),this._layer.getLayer().addFeatureCollection(t.toGFeatureCollection());var e=this.createSimpleRenderer();this._layer.getLayer().render(e)},e.prototype.startSelect=function(){this.mouseoverEve||(this.mouseoverEve=this.mouseoverEvent.bind(this),this._layer.getLayer().map.on("mousemove",this.mouseoverEve))},e.prototype.stopSelect=function(){this._layer.getLayer().map.un("mousemove",this.mouseoverEve),this.mouseoverEve=null},e.prototype.mouseoverEvent=function(t,e,r,i){var n=this._layer.getLayer(),o=n.hitTest(r,i);if(this.isSelect=!0,null!=o&&o.hasOwnProperty("feature")){var a=o.feature;if(a){this.selectFeature&&n.unSelect(new s.carto.Graphic({feature:this.selectFeature}));var l=new s.carto.Graphic({feature:a});n.select(l),n.selectSymbol=this.createCurrencySymbol(this.findAll()),this.selectFeature=a}}else n.unSelect(new s.carto.Graphic({feature:this.selectFeature}))},e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{strokeStyle:"#111",fillStyle:"#ccc",lineWidth:2,globalAlpha:1,emphasis:{strokeStyle:"#222",fillStyle:"#2a333d",lineWidth:1},label:{show:!0,fillStyle:"rgb(0,114,114)",fontSize:"12px",fontWeight:"normal",fontFamily:"黑体",textAlign:"center",rotation:0,offsetX:0,offsetY:0,shadowBlur:.5,shadowColor:"rgba(3,63,120,1)"}},e)},e.prototype.createSimpleRenderer=function(){var t=this.findAll();this._layer.getLayer().setOpacity(t.globalAlpha);var e=this.createCurrencySymbol(t);return new s.render.UniqueValueRenderer({symbol:e,showLabel:t.label.show,labelField:"name",fieldName:"name"})},e.prototype.createCurrencySymbol=function(t){var e=new s.sfs.SimpleMarkerSymbol({fillColor:new s.sfs.Color({r:255,g:0,b:0,a:255}),borderColor:new s.sfs.Color({r:255,g:0,b:0,a:255}),size:5,borderThickness:1,style:"circle"}),r=this.isSelect?this.toColor(t.emphasis.fillStyle):this.toColor(t.fillStyle),i=this.isSelect?this.toColor(t.emphasis.strokeStyle):this.toColor(t.strokeStyle),n=this.isSelect?t.emphasis.lineWidth:t.lineWidth,o=new s.sfs.SimpleFillSymbol({fillColor:r,borderColor:i,borderThickness:n}),a=parseInt(t.label.fontSize.replace("px","")),l=new s.sfs.TextSymbol({text:"",fontSize:a,borderThickness:t.label.shadowBlur,fontWeight:t.label.fontWeight,fontFamilyName:t.label.fontFamily,foreground:this.toColor(t.label.fillStyle),borderColor:this.toColor(t.label.shadowColor),textAlign:t.label.textAlign,rotation:t.label.rotation,offsetX:t.label.offsetX,offsetY:t.label.offsetY});return new s.sfs.CurrencySymbol({fillSymbol:o,markerSymbol:e,textSymbol:l})},e.prototype.toColor=function(t){if(/^(rgb|RGB)/.test(t)){if(/^(rgba|RGBA)/.test(t)){var e=t.replace(/(?:\(|\)|rgba|RGBA)*/g,"").split(","),r=parseFloat(e[3])||1,i=Math.floor(r*parseInt(e[0])+255*(1-r)),n=Math.floor(r*parseInt(e[1])+255*(1-r)),o=Math.floor(r*parseInt(e[2])+255*(1-r)),a="#"+("0"+i.toString(16)).slice(-2)+("0"+n.toString(16)).slice(-2)+("0"+o.toString(16)).slice(-2);return new s.sfs.Color.fromHex(a)}var l=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",");return new s.sfs.Color({r:l[0],g:l[1],b:l[2],a:255})}return new s.sfs.Color.fromHex(t)},e.prototype.on=function(t,e){var r=this,i=this._layer.getLayer();i.on(t,function(t,n,o,a,l){r.isSelect=!0,r.selectFeature&&i.unSelect(new s.carto.Graphic({feature:r.selectFeature}));var c=new s.carto.Graphic({feature:l});i.select(c),i.selectSymbol=r.createCurrencySymbol(r.findAll()),r.selectFeature=l;var h=r.toFeature(l).properties;delete h.shape,e({screenX:t,screenY:n,lan:o,lng:a,property:h})})},e.prototype.un=function(t,e){this._layer.getLayer().un(t,e)},e.prototype.toFeature=function(t){var e=new c.Fields,r=new h.Feature(e);r.setGeometry(t.getGeometry().asWkt(4));for(var i=0,n=t.fields.fields,o=t.properties;i<n.length;i++){var a=new l.Field;a.name=n[i].name,a.dataType=n[i].dataType,e.addField(a),r.setValue(a.name,o[i].value)}return r},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.mouseoverEve&&this._layer.getLayer().map.un("mousemove",this.mouseoverEve)},e}(o.MapVChart);e.FeatureSourceChart=u},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(6),s=r(16),l=function(t){function e(e,r){var i=t.call(this,e,r,a.MapVChartType.Situation)||this;return i.setDefaultConfig(),i}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{backgroundColor:"rgba(0,0,0,0.3)",fieldName:"range",size:1,fillStyle:["rgb(37,140,249)","rgba(14,241,242,0.8)","rgba(255,255,255,0.8)"],shadowColor:["rgb(37,140,249)","rgba(14,241,242,0.8)","rgba(255,255,255,0.8)"],shadowBlur:50,globalAlpha:1,tooltip:{},legend:{show:!0,left:30,bottom:50,padding:10,fontSize:"20px",fontColor:"#333"}},e)},e.prototype.setData=function(t){this._data=t.asArray();var e=this.toDataSet(this._data),r=this.getEchartOption(e),i=this._layer;i instanceof s.EChartsLayer&&(i.getLayer()?i.updateLayer(r):i.createLayer(r),i.getLayer().setOpacity(this.findAll().globalAlpha))},e.prototype.getEchartOption=function(t){var e=this.findAll(),r=t.length||0,i={show:e.legend,left:e.legend.left,bottom:e.legend.bottom,padding:e.legend.padding,textStyle:{fontSize:e.legend.fontSize.replace("px",""),color:e.legend.fontColor}},n={type:"scatter",symbolSize:e.size||1,opacity:e.globalAlpha||1,large:!0,itemStyle:{shadowBlur:e.shadowBlur||"transparent"},datasetIndex:0,encode:{lng:"gvLng",lat:"gvLat"},animation:!1};"TSMap"==this.mapType?n.coordinateSystem="G2Map":n.coordinateSystem="CesiumMap";var o=e.fillStyle,a=e.shadowColor,s=[];if(Array.isArray(t))for(var l=r-1;0<=l;l--){var c=JSON.parse(JSON.stringify(n));c.name=l+1,c.datasetIndex=l,c.itemStyle.color=r-1-l<o.length?o[r-1-l]:"white",c.itemStyle.shadowColor=r-1-l<a.length?a[r-1-l]:"white",s.push(c)}else n.itemStyle.color=o[0],n.itemStyle.shadowColor=o[0],s.push(n);var h={animation:!1,backgroundColor:e.backgroundColor,legend:i,tooltip:e.tooltip,dataset:t,series:s};return"TSMap"==this.mapType?h.G2Map={}:h.CesiumMap={},h},e.prototype.toDataSet=function(t){var e=this.findAll().fieldName||null,r=null,i=Object.keys(t[0]),n=this.checkFiledName(e,i);r=n?[]:{};var o={};i.forEach(function(t){"shape"===t?(o.gvLng=[],o.gvLat=[]):o[t]=[]}),o.gvProperty=[];var a=-1;return t.forEach(function(t){n?(a=t[e]-1,r.hasOwnProperty(a)||(r[a]={},r[a].source=JSON.parse(JSON.stringify(o)))):0===Object.keys(r).length&&(r.source=JSON.parse(JSON.stringify(o)));var i=null,s=null;Object.keys(t).forEach(function(e){var o;"shape"===e?(i=t[e][0],s=t[e][1],n?(r[a].source.gvLng.push(i),r[a].source.gvLat.push(s)):(r.source.gvLng.push(i),r.source.gvLat.push(s))):n?(r[a].source[e].push(t[e]),0==(o=r[a].source.gvProperty.length)||r[a].source.gvProperty[o-1].hasOwnProperty(e)?(r[a].source.gvProperty.push({}),r[a].source.gvProperty[o][e]=t[e]):r[a].source.gvProperty[o-1][e]=t[e]):(r.source[e].push(t[e]),0==(o=r.source.gvProperty.length)||r.source.gvProperty[o-1].hasOwnProperty(e)?(r.source.gvProperty.push({}),r.source.gvProperty[o][e]=t[e]):r.source.gvProperty[o-1][e]=t[e])})}),r},e.prototype.checkFiledName=function(t,e){for(var r=0;r<e.length;r++)if(t===e[r])return!0;return!1},e}(o.MapVChart);e.WeiboChart=l},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(6),s=r(14),l=r(121),c=function(t){function e(e,r){var i=t.call(this,e,r,a.MapVChartType.PointCategory)||this;return i._changePointData=[],i.setDefaultConfig(),i}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"",splitList:{1:"blue",2:"yellow",3:"red",other:"white"},size:5,globalAlpha:.8,legend:{show:!0,left:30,bottom:50,padding:10,fontSize:"20px",fontColor:"#333",event:!0},tooltip:{formatter:"{gvCoordinate}"}},e)},e.prototype.setData=function(t){var e=t.asArray(),r=this.findAll();if(this.getData(e,r),r.draw="category",this._layer instanceof s.MapVLayer){var i=this._pointData,n=this._layer.toDataSet(i);this._layer.getLayer()?this._layer.updateLayer(r,n):this._layer.createLayer(r,n),this.setInteractions()}},e.prototype.setInteractions=function(){var e=this.findAll(),r=new l.Category(e.splitList);this.setLegend(r,e),e.legend.event&&this.legendEvent(r,e,this._pointData),e.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,e.tooltip)},e.prototype.startToolTip=function(){this.tooltipEve||(this.tooltipEve=this.tooltipEvent.bind(this),this._layer.getLayer().map.on("pointermove",this.tooltipEve))},e.prototype.stopToolTip=function(){this.tooltipEve&&(this._layer.getLayer().map.un("pointermove",this.tooltipEve),this.tooltipEve=null)},e.prototype.getData=function(t,e){var r=this;this._pointData=[],t.forEach(function(t){var i=Object.keys(t),n={};i.forEach(function(r){"shape"===r?n.geometry={type:"Point",coordinates:t[r]}:r==e.fieldName&&(n.count=t[r])}),r._pointData.push(n)})},e.prototype.setLegend=function(e,r){r.hasOwnProperty("legend")&&t.prototype.Legend.call(this,e,r)},e.prototype.on=function(t,e){this.config("methods."+t,e)},e.prototype.un=function(t,e){this.config("methods."+t,void 0)},e.prototype.legendEvent=function(t,e,r){var i;i="TSMap"==this.mapType?this._layer.map.getViewport().lastChild:this._layer.map._container,this._changePointData=[];for(var n=0;n<r.length;n++)this._changePointData.push(this._pointData[n]);var o=this;i.addEventListener("click",function(t){var i,n=t.target;i="span"==n.nodeName.toLocaleLowerCase()?n.parentNode:n;var a=e.splitList;for(var l in a)if(i.getAttribute("value")==l&&o._layer instanceof s.MapVLayer){"true"==i.getAttribute("legendClick")?(i.children[0].style.background="#ccc",i.children[1].style.color="#ccc",o.getCategoryData(i,l,e,r),i.setAttribute("legendClick",!1)):(i.children[0].style.background=a[l],i.children[1].style.color=e.legend.fontColor,o.getCategoryData(i,l,e,r),i.setAttribute("legendClick",!0));var c=o._layer.toDataSet(o._changePointData);o._layer.updateLayer(e,c)}})},e.prototype.tooltipEvent=function(t){var e=this._layer.getLayer(),r=t.pixel[0],i=t.pixel[1],n=e.isPointInPath(e.getContext(),{x:r,y:i});if(n){var o=this.findAll();n.gvCoordinate=t.coordinate;var a=this.tooltip.getStr(o.tooltip.formatter,n);this.tooltip.updateTooltip(!0,a,r+10,i+10,n._fillStyle)}else this.tooltip.updateTooltip(!1)},e.prototype.getCategoryData=function(t,e,r,i){var n=i;if("true"==t.getAttribute("legendClick"))if("other"!=e)for(var o=0;o<this._changePointData.length;o++)this._changePointData[o].count==e&&(this._changePointData.splice(o,1),o--);else for(o=0;o<this._changePointData.length;o++){var a=this._changePointData[o].count;r.splitList.hasOwnProperty(a)||(this._changePointData.splice(o,1),o--)}else if("other"!=e)for(o=0;o<n.length;o++)n[o].count==e&&this._changePointData.push(n[o]);else for(o=0;o<n.length;o++){var s=n[o].count;r.splitList.hasOwnProperty(s)||this._changePointData.push(n[o])}},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.tooltipEve&&this._layer.getLayer().map.un("pointermove",this.tooltipEve)},e}(o.MapVChart);e.PointCategoryChart=c},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(6),s=r(1),l=r(2),c=r(74),h=function(t){function e(e,r){var i=t.call(this,e,r,a.MapVChartType.Boundary)||this;return i.overlayWare=null,i.chartEl=null,i.onEventArr=[],i.unEventArr=[],i.min=null,i.max=null,i.setDefaultConfig(),i}return n(e,t),e.prototype.setData=function(t){this._layer.getLayer().clear();var e=t.toGFeatureCollection();this._layer.getLayer().addFeatureCollection(e);var r=this.toDataset(e);this._layer instanceof c.TSMapLayer&&(this.overlayWare=this._layer.createOverlayWare()),this.renderChart(r),this.bindChartEvent()},e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{pieType:0,size:50,fieldName:["one","two","three","four"],fieldAlia:["一级","二级","三级","四级"],fillStyle:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],strokeStyle:"transparent",lineWidth:0,shadowColor:"transparent",shadowBlur:0,tooltip:{},label:{show:!0,formatter:"{sum}",fontSize:"18px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal",fillStyle:"#000",shadowColor:"yellow",shadowBlur:0},globalAlpha:1},e)},e.prototype.toDataset=function(t){var e=this,r=this.findAll(),i=t.entities,n=r.fieldName||[],o=r.fieldAlia||[],a=[];return i.forEach(function(t,r){a[r]={data:[],gvCenter:null};var i=[],s={},l=0;t.getFields().getNames().split(",").forEach(function(e){var r=t.getValue(e);if(n.includes(e)){var a=n.indexOf(e);i.push({name:o[a],value:r}),l+=r}else"shape"!=e&&(s[e]=r)}),i.forEach(function(t,e){i[e].gvProperty=s}),a[r].data=i;var c=t.getValue("shape").getBaryCenter();a[r].gvCenter=c,a[r].sum=l,a[r].p=a[r].data[0].value/l,e.min?e.min=e.min<l?e.min:l:e.min=l,e.max?e.max=e.max<l?l:e.max:e.max=l}),a},e.prototype.renderChart=function(t){var e=this,r=this.findAll(),i={tooltip:r.tooltip},n={type:"pie",radius:r.size||50,color:r.fillStyle||["#BA19A5","#BA8109","#BAB659","#1ABAB8"],itemStyle:{shadowColor:r.shadowColor||"transparent",shadowBlur:r.shadowBlur||0,borderColor:r.strokeStyle||"transparent",borderWidth:r.lineWidth||0}},o=[];t.forEach(function(t){var a,c=JSON.parse(JSON.stringify(i)),h=JSON.parse(JSON.stringify(n)),u=document.createElement("div"),p=e.getRadius(r.pieType,n.radius,t.sum);a=Array.isArray(p)?"string"==typeof p[1]?"100%":2*p[1]+20+"px":"string"==typeof p?"100%":2*p+20+"px",u.style.width=a,u.style.height=a;var f=l.init(u),y=JSON.parse(JSON.stringify(r.label));y.fontSize=y.fontSize.replace("px",""),y.color=y.fillStyle,y.position="center";var d=y.formatter,v=(100*t.p).toFixed(2)+"%";d=(d=d.replace(/{sum}/g,t.sum)).replace(/{p}/g,v),y.formatter=d,h.label=y,h.radius=p,h.data=t.data,c.series=h,f.setOption(c),o.push(f);var g=t.gvCenter,m=new s.widget.OverLay({positioning:"center-center",element:u,offset:[0,0],position:g,stopEvent:!1});e.overlayWare.add(m)}),this.chartEl=o},e.prototype.getRadius=function(t,e,r){var i,n=[this.min,this.max],o=e;if(t)if(Array.isArray(e))if("string"==typeof e[1]&&e[1].includes("%")){var a=1*e[0].split("%")[0],s=1*e[1].split("%")[0];o=[(i=(r-n[0])/n[1]*s+a)-a/2+"%",i+"%"]}else o=[(i=(r-n[0])/n[1]*e[1]+e[0])-e[0]/2,i];else o="string"==typeof e&&e.includes("%")?[(i=e.split("%")[0])/2+"%",e]:[e/2,e];else Array.isArray(e)&&("string"==typeof e[1]&&e[1].includes("%")?(a=1*e[0].split("%")[0],s=1*e[1].split("%")[0],o=(r-n[0])/n[1]*s+a+"%"):o=(r-n[0])/n[1]*e[1]+e[0]);return o},e.prototype.bindChartEvent=function(){var t=this,e=this;this.onEventArr.forEach(function(r){t.chartEl.forEach(function(t){t.on(r.eventName,function(t){var i=e.findAll(),n=t.data.gvProperty;n[i.fieldName[t.dataIndex]]=t.value;var o=[t.event.event.offsetX,t.event.event.offsetY],a=e._layer.getLayer().map.getCoordinateFromPixel(o),s={screenX:o[0],screenY:o[1],lng:a[0],lat:a[1],property:n};r.handler(s)},r.query)})})},e.prototype.on=function(t,e,r){this.onEventArr.push({eventName:t,handler:e,query:r})},e.prototype.un=function(t,e){var r=this;this.onEventArr.forEach(function(i,n){i.eventName==t&&i.handler==e&&r.onEventArr.splice(n,1)})},e}(o.MapVChart);e.PieStatisticsChart=h},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(6),s=r(16),l=function(t){function e(e,r){var i=t.call(this,e,r,a.MapVChartType.Situation)||this;return i.linesData=[],i.scatterData=[],i.x=0,i.y=0,i.richTextEve=null,i.centerCoord=[],i.setDefaultConfig(),i}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"count",strokeStyle:"rgba(53,57,255,0.8)",lineWidth:1,type:"solid",shadowColor:"rgba(53,57,255,0.2)",shadowBlur:10,globalAlpha:1,curveness:.2,flowAnimation:{show:!0,period:4,symbol:"path://M995.679767 658.818049c-8.943231-1.490539-23.848617-2.981077-44.716157-4.471615-73.03639-8.943231-207.184862-26.829694-295.126638-38.754003l-19.377001-5.962154h-2.981077l-44.716157-13.414848c-4.471616 90.922853-10.43377 166.94032-17.886463 225.071325v10.43377l22.358078 10.43377 70.055313 32.791849c2.981077 1.490539 4.471616 4.471616 4.471616 7.452693l1.490539 55.149927v4.471615c0 2.981077-1.490539 5.962154-4.471616 4.471616l-114.77147-19.377001c-8.943231 22.358079-17.886463 34.282387-31.30131 35.772925h-1.490539c-13.414847 0-23.848617-11.924309-31.30131-35.772925l-114.77147 17.886463c-2.981077 0-4.471616-1.490539-4.471616-4.471616v-4.471616l1.490539-55.149927c0-2.981077 1.490539-5.962154 4.471615-7.452693l70.055313-32.791849 22.358079-10.43377V819.796215c-5.962154-58.131004-10.43377-134.148472-14.905386-225.071324l-46.206696 13.414847h-4.471615l-19.377002 4.471616c-87.941776 10.43377-222.090247 26.829694-295.126637 35.772925-20.86754 2.981077-35.772926 4.471616-44.716158 4.471616-23.848617 2.981077-25.339156-26.829694-7.452692-37.263464 2.981077-1.490539 56.640466-29.810771 123.714701-67.074236v-38.754003c0-14.905386 11.924309-26.829694 26.829695-26.829694s26.829694 11.924309 26.829694 26.829694v8.943232c40.244541-20.86754 81.979622-43.225619 119.243086-64.093159v-44.716157c0-14.905386 11.924309-26.829694 26.829694-26.829695s26.829694 11.924309 26.829694 26.829695v14.905385c23.848617-11.924309 43.225619-23.848617 56.640466-31.30131-1.490539-174.393013 11.924309-308.541485 61.112082-332.390101 2.981077-1.490539 4.471616-1.490539 7.452693-2.981078 1.490539 0 4.471616 0 5.962154-1.490538h5.962154c1.490539 0 4.471616 0 5.962154 1.490538 2.981077 0 4.471616 1.490539 7.452693 2.981078 49.187773 23.848617 62.60262 157.997089 58.131005 332.390101 13.414847 7.452693 32.791849 17.886463 55.149927 29.810772v-14.905386c0-14.905386 11.924309-26.829694 26.829694-26.829694s26.829694 11.924309 26.829695 26.829694v44.716157c37.263464 20.86754 78.998544 43.225619 119.243085 65.583698V506.783115c0-14.905386 11.924309-26.829694 26.829695-26.829694s26.829694 11.924309 26.829694 26.829694v44.716157c68.564774 37.263464 122.224163 67.074236 123.714702 68.564775 25.339156 10.43377 23.848617 41.73508-1.490539 38.754002z",symbolSize:20,color:"white",trailLength:0,loop:!0},pointStyle:{strokeStyle:"rgba(255,255,255,0.3)",borderColor:"#000",borderWidth:0,borderType:"solid",shadowColor:"rgba(53,57,255,0.2)",shadowBlur:10,effectType:"ripple",rippleEffect:{color:"#fff",period:4,scale:5,brushType:"fill"},symbol:"circle",symbolSize:10,label:{show:!0,position:"inside",distance:20,rotate:0,offset:[0,30],fontSize:18,color:"#fff",formatter:function(t){return t.data.name}},richText:{offset:[20,20],fontSize:"18",color:"#fff",backgroundColor:"rgba(30,30,30,0.8)",borderColor:"rgba(37,100,164,0.8)",borderWidth:"2",padding:[20,20,20,20]}}},e)},e.prototype.createDefaultRichText=function(t){var e,r=[],i=this.findAll(),n=this.createRichTextBox(),o=i.pointStyle.richText;for(var a in o)o[a].constructor===Object&&r.push(o[a]);for(var s=0;s<r.length;s++){r[s].hasOwnProperty("video")?(e=document.createElement("video")).setAttribute("src",t.data.video):r[s].hasOwnProperty("img")?(e=document.createElement("img")).setAttribute("src",t.data.img):(e=document.createElement("span")).innerHTML=t.data.name;var l=r[s];this.setRichTextSpanStyle(e,l),n.appendChild(e)}return n},e.prototype.createFormatterRichText=function(t){var e,r,i=this.findAll(),n=this.createRichTextBox(),o=i.pointStyle.richText.rich;r=i.pointStyle.richText.formatter(t);for(var a=this.getLineClass(r),s=this.getClassVal(r),l=s[0],c=s[1],h=0;h<l.length;h++){var u=o[l[h]];u.hasOwnProperty("video")?(e=document.createElement("video")).setAttribute("src",c[h]):u.hasOwnProperty("img")?(e=document.createElement("img")).setAttribute("src",c[h]):(e=document.createElement("span")).innerHTML=c[h];var p=void 0;for(var f in e.setAttribute("class","rich_"+l[h]),a)a[f]==l[h]||"block"==e.style.display?e.style.display="block":e.style.display="inline-block";for(var y in o)y===l[h]&&(p=o[y],this.setRichTextSpanStyle(e,p));n.appendChild(e)}return n},e.prototype.createRichTextBox=function(){var t=this.findAll(),e=document.createElement("div");e.setAttribute("class","richText");var r=t.pointStyle.richText;for(var i in r)r[i].constructor!==Object&&"offset"!==i&&r[i].constructor!==Function&&("fontSize"!==i&&"borderSize"!==i||(r[i]=r[i].toString().replace("px","")+"px"),"padding"===i&&"object"==typeof r[i]&&(r[i]=r[i][0]+"px "+r[i][1]+"px "+r[i][2]+"px "+r[i][3]+"px"),e.style[i]=r[i]);return e.style.position="absolute",e.style.zIndex="99999",e},e.prototype.setRichTextSpanStyle=function(t,e){if(e.hasOwnProperty("video")||e.hasOwnProperty("img")){for(var r in e)t[r]=e[r];e.hasOwnProperty("padding")&&(t.style.padding=e.padding[0]+"px "+e.padding[1]+"px "+e.padding[2]+"px "+e.padding[3]+"px"),t.style.display="block"}else for(var r in e)"fontSize"!==r&&"borderSize"!==r||(e[r]=e[r].toString().replace("px","")+"px"),"padding"===r&&"object"==typeof e[r]&&(e[r]=e[r][0]+"px "+e[r][1]+"px "+e[r][2]+"px "+e[r][3]+"px"),"text"===r&&(t.innerHTML=e[r]),t.style[r]=e[r]},e.prototype.getLineClass=function(t){for(var e=[],r=t.split("\n"),i=0;i<r.length;i++)1==r[i].split("|").length-1&&e.push(r[i].match(/{(\S*)\|/)[1]);return e},e.prototype.getClassVal=function(t){for(var e=t.split("}").filter(function(t){return t.trim()}),r=[],i=[],n=[],o=0;o<e.length;o++)r.push(e[o].match(/{(\S*)\|/)[1]),i.push(e[o].match(/\|(\S*)/)[1]);return n.push(r,i),n},e.prototype.richTextEvent=function(t){for(var e,r=this.findAll(),i=this._layer._layer._chartContainer,n=!1,o=i.childNodes,a=0;a<o.length;a++)"richText"==i.children[a].getAttribute("class")&&(n=!0);if(!n){e=r.pointStyle.richText.hasOwnProperty("formatter")?this.createFormatterRichText(t):this.createDefaultRichText(t);var s=r.pointStyle.richText.offset,l=this;this.createCancelDom(e),this.stopMapEvent(),setTimeout(function(){e.style.top=l.y+s[0]+"px",e.style.left=l.x+s[1]+"px",i.appendChild(e)},10)}},e.prototype.createCancelDom=function(t){var e=document.createElement("span");e.setAttribute("class","cancel"),e.innerHTML="×",e.style.position="absolute",e.style.right="0",e.style.top="0",e.style.color="red",e.style.fontSize="25px",e.style.backgroundColor="#eee",e.style.width="28px",e.style.height="20px",e.style.lineHeight="20px",e.style.textAlign="center",e.style.cursor="pointer",e.style.zIndex="999999",t.appendChild(e),t.addEventListener("click",this.openMapEvent.bind(this))},e.prototype.stopMapEvent=function(){this._layer.map.stopMouseWheelZoom(),this._layer.map.stopDragPan(),this._layer.map.stopDbClick()},e.prototype.openMapEvent=function(){var t=this._layer._layer._chartContainer;1<t.children.length&&t.removeChild(document.getElementsByClassName("richText")[0]),this._layer.map.resumeMouseWheelZoom(),this._layer.map.resumeDragPan(),this._layer.map.resumeDbClick()},e.prototype.startRichText=function(){this.richTextEve||(this.richTextEve=this.richTextEvent.bind(this),this._layer.on("click",this.richTextEve,"series.effectScatter"))},e.prototype.stopRichText=function(){var t=this._layer._layer._chartContainer;1<t.children.length&&t.removeChild(document.getElementsByClassName("richText")[0]),this.richTextEve&&(this._layer._layer.un("click",this.richTextEve),this.richTextEve=null)},e.prototype.setData=function(t){var e=t.asArray();this.getScatterData(e);var r=this.getEchartOption();if(this._layer instanceof s.EChartsLayer){this._layer.getLayer()?this._layer.updateLayer(r):this._layer.createLayer(r);var i=this;this._layer.map.on("click",function(t,e,r,n){i.x=r,i.y=n})}},e.prototype.getEchartOption=function(){var t,e=this.findAll(),r={type:"lines",data:this.linesData,lineStyle:{color:e.strokeStyle,width:e.lineWidth,type:e.type,shadowColor:e.shadowColor,shadowBlur:e.shadowBlur,opacity:e.globalAlpha,curveness:e.curveness},effect:e.flowAnimation},i={type:"effectScatter",data:this.scatterData,itemStyle:{color:e.pointStyle.strokeStyle,borderColor:e.pointStyle.borderColor,borderWidth:e.pointStyle.borderWidth,borderType:e.pointStyle.borderType,shadowColor:e.pointStyle.shadowColor,shadowBlur:e.pointStyle.shadowBlur,effectType:e.pointStyle.effectType},effectType:e.pointStyle.effectType,rippleEffect:e.pointStyle.rippleEffect,symbol:e.pointStyle.symbol,symbolSize:e.pointStyle.symbolSize,label:e.pointStyle.label,dataLabel:e.pointStyle.dataLabel};return t={animation:!1,series:[r,i]},"TSMap"==this.mapType?(t.G2Map={},r.coordinateSystem="G2Map",i.coordinateSystem="G2Map"):(t.CesiumMap={},r.coordinateSystem="CesiumMap",i.coordinateSystem="CesiumMap"),t},e.prototype.getScatterData=function(t){for(var e=0;e<t.length;e++)(i={}).fromName=t[e].from,i.toName=t[e].to,i.coords=t[e].shape,this.linesData.push(i);var r=Object.keys(t[0]);if(t[0].shape[0].toString()==t[1].shape[0].toString())for(e=0;e<t.length;e++){var i={},n={};for(var o in t[e])"shape"!=o&&"from"!=o&&("to"==o?n.name=t[e][o]:n[o]=t[e][o]);i.gvProperty=n,i.name=t[e].to,i.value=t[e].shape[1],-1<r.indexOf("count")&&(i.count=t[e].count),-1<r.indexOf("video")&&(i.video=t[e].video),-1<r.indexOf("img")&&(i.img=t[e].img),this.scatterData.push(i)}else for(e=0;e<t.length;e++){for(var o in i={},n={},t[e])"shape"!=o&&"to"!=o&&("from"==o?n.name=t[e][o]:n[o]=t[e][o]);i.gvProperty=n,i.name=t[e].from,i.value=t[e].shape[0],-1<r.indexOf("count")&&(i.count=t[e].count),-1<r.indexOf("video")&&(i.video=t[e].video),-1<r.indexOf("img")&&(i.img=t[e].img),this.scatterData.push(i)}},e}(o.MapVChart);e.QianXiRippleChart=l},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(6),s=r(1),l=r(2),c=r(74),h=function(t){function e(e,r){var i=t.call(this,e,r,a.MapVChartType.Boundary)||this;return i.overlayWare=null,i.chartEl=null,i.onEventArr=[],i.unEventArr=[],i.max=null,i.min=null,i.setDefaultConfig(),i}return n(e,t),e.prototype.setData=function(t){this._layer.getLayer().clear();var e=t.toGFeatureCollection();this._layer.getLayer().addFeatureCollection(e);var r=this.toDataset(e);this._layer instanceof c.TSMapLayer&&(this.overlayWare=this._layer.createOverlayWare()),this.renderChart(r),this.bindChartEvent()},e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{size:[100,200],fieldName:["one","two","three","four"],fieldAlia:["一级","二级","三级","四级"],fillStyle:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],strokeStyle:"transparent",lineWidth:0,shadowColor:"transparent",shadowBlur:0,label:{show:!0,position:"top",fontSize:"18px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal",fillStyle:"#000",shadowColor:"yellow",shadowBlur:0},xAxis:{show:!1,type:"category"},yAxis:{show:!1,type:"value"},globalAlpha:1},e)},e.prototype.toDataset=function(t){var e=this,r=this.findAll(),i=t.entities,n=r.fieldName||[],o=r.fieldAlia||[],a=[];return i.forEach(function(t,r){a[r]={data:[],gvCenter:null};var i=[],s={};t.getFields().getNames().split(",").forEach(function(r){var a=t.getValue(r);if(n.includes(r)){var l=n.indexOf(r);i.push({name:o[l],value:a}),e.min?e.min=e.min<a?e.min:a:e.min=a,e.max?e.max=e.max<a?a:e.max:e.max=a}else"shape"!=r&&(s[r]=a)}),i.forEach(function(t,e){i[e].gvProperty=s}),a[r].data=i;var l=t.getValue("shape").getBaryCenter();a[r].gvCenter=l}),a},e.prototype.renderChart=function(t){var e=this,r=this.findAll(),i={color:r.fillStyle,tooltip:{},grid:{top:20,bottom:"20%",left:"20%",right:0},xAxis:r.xAxis,yAxis:r.yAxis};i.xAxis.data=r.fieldAlia,i.yAxis.max=i.yAxis.max||this.max,i.yAxis.min=i.yAxis.min||0;var n={type:"bar",itemStyle:{shadowColor:r.shadowColor||"transparent",shadowBlur:r.shadowBlur||0,borderColor:r.strokeStyle||"transparent",borderWidth:r.lineWidth||0}},o=[];t.forEach(function(t){var a=JSON.parse(JSON.stringify(i)),c=JSON.parse(JSON.stringify(n)),h=document.createElement("div");h.style.width=r.size[0]+"px",h.style.height=r.size[1]+"px";var u=l.init(h),p=JSON.parse(JSON.stringify(r.label));p.fontSize=p.fontSize.replace("px",""),p.color=p.fillStyle,c.label=p,c.data=e.getNewSeriesData(t.data),a.series=c,u.setOption(a),o.push(u);var f=t.gvCenter,y=new s.widget.OverLay({positioning:"center-center",element:h,offset:[0,0],position:f,stopEvent:!1});e.overlayWare.add(y)}),this.chartEl=o},e.prototype.getNewSeriesData=function(t){var e=this.findAll(),r=e.label;return t.forEach(function(t,i){t.itemStyle={},Array.isArray(e.fillStyle)&&(t.itemStyle.color=e.fillStyle[i%e.fillStyle.length]),Array.isArray(e.strokeStyle)&&(t.itemStyle.borderColor=e.strokeStyle[i%e.strokeStyle.length]),Array.isArray(e.shadowColor)&&(t.itemStyle.shadowColor=e.shadowColor[i%e.shadowColor.length]),t.label={},Array.isArray(r.fillStyle)&&(t.label.color=r.fillStyle[i%r.fillStyle.length]),Array.isArray(r.shadowColor)&&(t.label.shadowColor=r.shadowColor[i%r.shadowColor.length])}),t},e.prototype.bindChartEvent=function(){var t=this,e=this;this.onEventArr.forEach(function(r){t.chartEl.forEach(function(t){t.on(r.eventName,function(t){var i=e.findAll(),n=t.data.gvProperty;n[i.fieldName[t.dataIndex]]=t.value;var o=[t.event.event.offsetX,t.event.event.offsetY],a=e._layer.getLayer().map.getCoordinateFromPixel(o),s={screenX:o[0],screenY:o[1],lng:a[0],lat:a[1],property:n};r.handler(s)},r.query)})})},e.prototype.on=function(t,e,r){this.onEventArr.push({eventName:t,handler:e,query:r})},e.prototype.un=function(t,e){var r=this;this.onEventArr.forEach(function(i,n){i.eventName==t&&i.handler==e&&r.onEventArr.splice(n,1)})},e}(o.MapVChart);e.BarStatisticsChart=h},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(6),s=r(16),l=function(t){function e(e,r){var i=t.call(this,e,r,a.MapVChartType.Situation)||this;return i.linesData=[],i.scatterData=[],i.richTextEve=null,i.x=0,i.y=0,i.setDefaultConfig(),i}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"count",strokeStyle:"rgba(53,57,255,0.8)",lineWidth:1,type:"solid",shadowColor:"rgba(53,57,255,0.2)",shadowBlur:10,globalAlpha:1,curveness:.2,flowAnimation:{show:!0,period:4,symbol:"path://M995.679767 658.818049c-8.943231-1.490539-23.848617-2.981077-44.716157-4.471615-73.03639-8.943231-207.184862-26.829694-295.126638-38.754003l-19.377001-5.962154h-2.981077l-44.716157-13.414848c-4.471616 90.922853-10.43377 166.94032-17.886463 225.071325v10.43377l22.358078 10.43377 70.055313 32.791849c2.981077 1.490539 4.471616 4.471616 4.471616 7.452693l1.490539 55.149927v4.471615c0 2.981077-1.490539 5.962154-4.471616 4.471616l-114.77147-19.377001c-8.943231 22.358079-17.886463 34.282387-31.30131 35.772925h-1.490539c-13.414847 0-23.848617-11.924309-31.30131-35.772925l-114.77147 17.886463c-2.981077 0-4.471616-1.490539-4.471616-4.471616v-4.471616l1.490539-55.149927c0-2.981077 1.490539-5.962154 4.471615-7.452693l70.055313-32.791849 22.358079-10.43377V819.796215c-5.962154-58.131004-10.43377-134.148472-14.905386-225.071324l-46.206696 13.414847h-4.471615l-19.377002 4.471616c-87.941776 10.43377-222.090247 26.829694-295.126637 35.772925-20.86754 2.981077-35.772926 4.471616-44.716158 4.471616-23.848617 2.981077-25.339156-26.829694-7.452692-37.263464 2.981077-1.490539 56.640466-29.810771 123.714701-67.074236v-38.754003c0-14.905386 11.924309-26.829694 26.829695-26.829694s26.829694 11.924309 26.829694 26.829694v8.943232c40.244541-20.86754 81.979622-43.225619 119.243086-64.093159v-44.716157c0-14.905386 11.924309-26.829694 26.829694-26.829695s26.829694 11.924309 26.829694 26.829695v14.905385c23.848617-11.924309 43.225619-23.848617 56.640466-31.30131-1.490539-174.393013 11.924309-308.541485 61.112082-332.390101 2.981077-1.490539 4.471616-1.490539 7.452693-2.981078 1.490539 0 4.471616 0 5.962154-1.490538h5.962154c1.490539 0 4.471616 0 5.962154 1.490538 2.981077 0 4.471616 1.490539 7.452693 2.981078 49.187773 23.848617 62.60262 157.997089 58.131005 332.390101 13.414847 7.452693 32.791849 17.886463 55.149927 29.810772v-14.905386c0-14.905386 11.924309-26.829694 26.829694-26.829694s26.829694 11.924309 26.829695 26.829694v44.716157c37.263464 20.86754 78.998544 43.225619 119.243085 65.583698V506.783115c0-14.905386 11.924309-26.829694 26.829695-26.829694s26.829694 11.924309 26.829694 26.829694v44.716157c68.564774 37.263464 122.224163 67.074236 123.714702 68.564775 25.339156 10.43377 23.848617 41.73508-1.490539 38.754002z",symbolSize:20,color:"white",trailLength:0,loop:!0},iconStyle:{fillStyle:"rgba(64,187,224,1)",symbol:"path://M518.6 0c-236.4 0-428 190.4-428 425 0 108 40.8 206 107.4 281 1.8 3.4 4.2 6.8 7 9.8l278 289.2c1.4 1.8 2.8 3.8 4.4 5.4 4.2 4.2 9 7.2 14.2 9.4 16 7.4 35.4 5 48.4-8 3.6-3.6 6.4-7.8 8.4-12.2l272.8-283.8c2.6-2.4 4.6-5.4 6.4-8.4 67.4-75 108.6-173.8 108.6-282.2C946.6 190.4 755 0 518.6 0z m-0.2 597.8c-106.4 0-192.8-85.8-192.8-191.4 0-105.6 86.4-191.4 192.8-191.4s192.8 85.8 192.8 191.4c0 105.6-86.4 191.4-192.8 191.4z",symbolSize:20,borderColor:"#000",borderWidth:0,borderType:"solid",shadowColor:"rgba(53,57,255,0.2)",shadowBlur:10,label:{show:!0,position:"inside",distance:5,rotate:0,offset:[0,30],formatter:function(t){return t.data.name},fontSize:12,color:"#fff"},richText:{offset:[20,20],fontSize:"18",color:"#fff",backgroundColor:"rgba(30,30,30,0.8)",borderColor:"rgba(37,100,164,0.8)",borderWidth:"2",padding:[20,20,20,20]}}},e)},e.prototype.createDefaultRichText=function(t){var e=[],r=this.findAll(),i=this.createRichTextBox(),n=r.iconStyle.richText;for(var o in n)n[o].constructor===Object&&e.push(o);for(var a=0;a<e.length;a++){var s=document.createElement("span"),l=r.iconStyle.richText[e[a]];"value"!==e[a]&&"unit"!==e[a]?l.display="block":l.display="inline-block","title"===e[a]&&(s.innerHTML=t.data.name),"value"===e[a]&&(s.innerHTML=t.data.count),this.setRichTextSpanStyle(s,l),i.appendChild(s)}return i},e.prototype.createFormatterRichText=function(t){for(var e,r=this.findAll(),i=this.createRichTextBox(),n=r.iconStyle.richText.rich,o=r.iconStyle.richText.formatter(t),a=this.getLineClass(o),s=this.getClassVal(o),l=s[0],c=s[1],h=0;h<l.length;h++){var u=n[l[h]];if(u.hasOwnProperty("video")){e=document.createElement("video");var p=c[h];e.setAttribute("src",p)}else u.hasOwnProperty("img")?(e=document.createElement("img"),p=c[h],e.setAttribute("src",p)):(e=document.createElement("span")).innerHTML=c[h];var f=void 0;for(var y in e.setAttribute("class","rich_"+l[h]),a)a[y]==l[h]||"block"==e.style.display?e.style.display="block":e.style.display="inline-block";for(var d in n)d===l[h]&&(f=n[d],this.setRichTextSpanStyle(e,f));i.appendChild(e)}return i},e.prototype.createRichTextBox=function(){var t=this.findAll(),e=document.createElement("div");e.setAttribute("class","richText");var r=t.iconStyle.richText;for(var i in r)r[i].constructor!==Object&&"offset"!==i&&r[i].constructor!==Function&&("fontSize"!==i&&"borderSize"!==i||(r[i]=r[i].toString().replace("px","")+"px"),"padding"===i&&"object"==typeof r[i]&&(r[i]=r[i][0]+"px "+r[i][1]+"px "+r[i][2]+"px "+r[i][3]+"px"),e.style[i]=r[i]);return e.style.position="absolute",e.style.zIndex="99999",e},e.prototype.setRichTextSpanStyle=function(t,e){if(e.hasOwnProperty("video")||e.hasOwnProperty("img")){for(var r in e)t[r]=e[r];e.hasOwnProperty("padding")&&(t.style.padding=e.padding[0]+"px "+e.padding[1]+"px "+e.padding[2]+"px "+e.padding[3]+"px"),t.style.display="block"}for(var r in e)"fontSize"!==r&&"borderSize"!==r||(e[r]=e[r].toString().replace("px","")+"px"),"padding"===r&&"object"==typeof e[r]&&(e[r]=e[r][0]+"px "+e[r][1]+"px "+e[r][2]+"px "+e[r][3]+"px"),"text"===r&&(t.innerHTML=e[r]),t.style[r]=e[r]},e.prototype.getLineClass=function(t){for(var e=[],r=t.split("\n"),i=0;i<r.length;i++)1==r[i].split("|").length-1&&e.push(r[i].match(/{(\S*)\|/)[1]);return e},e.prototype.getClassVal=function(t){for(var e=t.split("}").filter(function(t){return t.trim()}),r=[],i=[],n=[],o=0;o<e.length;o++)r.push(e[o].match(/{(\S*)\|/)[1]),i.push(e[o].match(/\|(\S*)/)[1]);return n.push(r,i),n},e.prototype.richTextEvent=function(t){for(var e,r=this.findAll(),i=this._layer._layer._chartContainer,n=!1,o=i.childNodes,a=0;a<o.length;a++)"richText"==i.children[a].getAttribute("class")&&(n=!0);if(!n){e=r.iconStyle.richText.hasOwnProperty("formatter")?this.createFormatterRichText(t):this.createDefaultRichText(t);var s=r.iconStyle.richText.offset,l=this;this.createCancelDom(e),this.stopMapEvent(),setTimeout(function(){e.style.top=l.y+s[0]+"px",e.style.left=l.x+s[1]+"px",i.appendChild(e)},1)}},e.prototype.createCancelDom=function(t){var e=document.createElement("span");e.setAttribute("class","cancel"),e.innerHTML="×",e.style.position="absolute",e.style.right="0",e.style.top="0",e.style.color="red",e.style.fontSize="25px",e.style.backgroundColor="#eee",e.style.width="28px",e.style.height="20px",e.style.lineHeight="20px",e.style.textAlign="center",e.style.cursor="pointer",e.style.zIndex="999999",t.appendChild(e),t.addEventListener("click",this.openMapEvent.bind(this))},e.prototype.stopMapEvent=function(){this._layer.map.stopMouseWheelZoom(),this._layer.map.stopDragPan(),this._layer.map.stopDbClick()},e.prototype.openMapEvent=function(){var t=this._layer._layer._chartContainer;1<t.children.length&&t.removeChild(document.getElementsByClassName("richText")[0]),this._layer.map.resumeMouseWheelZoom(),this._layer.map.resumeDragPan(),this._layer.map.resumeDbClick()},e.prototype.startRichText=function(){this.richTextEve||(this.richTextEve=this.richTextEvent.bind(this),this._layer.on("click",this.richTextEve,"series.scatter"))},e.prototype.stopRichText=function(){var t=this._layer._layer._chartContainer;1<t.children.length&&t.removeChild(document.getElementsByClassName("richText")[0]),this.richTextEve&&(this._layer._layer.un("click",this.richTextEve),this.richTextEve=null)},e.prototype.setData=function(t){var e=t.asArray();this.getScatterData(e);var r=this.getEchartOption();if(this._layer instanceof s.EChartsLayer){this._layer.getLayer()?this._layer.updateLayer(r):this._layer.createLayer(r);var i=this;this._layer.map.on("click",function(t,e,r,n){r||(n=r=0),i.x=r,i.y=n})}},e.prototype.getEchartOption=function(){var t,e=this.findAll(),r={type:"lines",data:this.linesData,lineStyle:{color:e.strokeStyle,width:e.lineWidth,type:e.type,shadowColor:e.shadowColor,shadowBlur:e.shadowBlur,opacity:e.globalAlpha,curveness:e.curveness},effect:e.flowAnimation},i={type:"scatter",data:this.scatterData,itemStyle:{color:e.iconStyle.fillStyle,borderColor:e.iconStyle.borderColor,borderWidth:e.iconStyle.borderWidth,borderType:e.iconStyle.borderType,shadowColor:e.iconStyle.shadowColor,shadowBlur:e.iconStyle.shadowBlur},symbol:e.iconStyle.symbol,symbolSize:e.iconStyle.symbolSize,label:e.iconStyle.label};return t={animation:!1,series:[r,i]},"TSMap"==this.mapType?(t.G2Map={},r.coordinateSystem="G2Map",i.coordinateSystem="G2Map"):(t.CesiumMap={},r.coordinateSystem="CesiumMap",i.coordinateSystem="CesiumMap"),t},e.prototype.getScatterData=function(t){for(var e=0;e<t.length;e++)(i={}).fromName=t[e].from,i.toName=t[e].to,i.coords=t[e].shape,this.linesData.push(i);var r=Object.keys(t[0]);if(t[0].shape[0].toString()==t[1].shape[0].toString())for(e=0;e<t.length;e++){var i={},n={};for(var o in t[e])"shape"!=o&&"from"!=o&&("to"==o?n.name=t[e][o]:n[o]=t[e][o]);i.gvProperty=n,i.name=t[e].to,i.value=t[e].shape[1],-1<r.indexOf("count")&&(i.count=t[e].count),-1<r.indexOf("video")&&(i.video=t[e].video),-1<r.indexOf("img")&&(i.img=t[e].img),this.scatterData.push(i)}else for(e=0;e<t.length;e++){for(var o in i={},n={},t[e])"shape"!=o&&"to"!=o&&("from"==o?n.name=t[e][o]:n[o]=t[e][o]);i.gvProperty=n,i.name=t[e].from,i.value=t[e].shape[0],-1<r.indexOf("count")&&(i.count=t[e].count),-1<r.indexOf("video")&&(i.video=t[e].video),-1<r.indexOf("img")&&(i.img=t[e].img),this.scatterData.push(i)}},e}(o.MapVChart);e.QianXiIconChart=l},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(6),s=r(14),l=r(121),c=function(t){function e(e,r){var i=t.call(this,e,r,a.MapVChartType.PointCategory)||this;return i._pointData=[],i._changePointData=[],i.setDefaultConfig(),i}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{listFieldName:"",sizeFieldName:"",fillStyle:"rgba(0,0,0,0)",strokeStyle:"rgba(255, 250, 50, 0.6)",shadowColor:"rgba(55, 50, 50, 0.5)",shadowBlur:10,globalCompositeOperation:"lighter",lineWidth:0,splitList:{1:"#6ee7ff",2:"#90ee90",3:"#f8983a",other:"#fafa32"},globalAlpha:1,legend:{show:!0,left:30,bottom:50,padding:10,fontSize:"20px",fontColor:"#333",event:!0},tooltip:{formatter:"{gvCoordinate}"}},e)},e.prototype.setData=function(t){var e=t.asArray(),r=this.findAll();if(r.draw="category",r.styleType="stroke",this.getData(e,r),this._layer instanceof s.MapVLayer){var i=this._pointData,n=this._layer.toDataSet(i);this._layer.getLayer()?this._layer.updateLayer(r,n):this._layer.createLayer(r,n),this.setInteractions(r)}},e.prototype.setInteractions=function(e){var r=new l.Category(e.splitList);this.setLegend(r,e),e.legend.event&&this.legendEvent(r,e,this._pointData),e.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,e.tooltip)},e.prototype.startToolTip=function(){this.tooltipEve||(this.tooltipEve=this.tooltipEvent.bind(this),this._layer.getLayer().map.on("pointermove",this.tooltipEve))},e.prototype.stopToolTip=function(){this.tooltipEve&&(this._layer.getLayer().map.un("pointermove",this.tooltipEve),this.tooltipEve=null)},e.prototype.getData=function(t,e){for(var r=0;r<t.length;r++){var i={geometry:{type:"Point",coordinates:[]}};for(var n in t[r])"shape"===n?i.geometry.coordinates=t[r][n]:n===e.listFieldName?i.count=t[r][n]:n===e.sizeFiledName?i.size=t[r][n]:i[n]=t[r][n];this._pointData.push(i)}},e.prototype.setLegend=function(e,r){r.hasOwnProperty("legend")&&t.prototype.Legend.call(this,e,r)},e.prototype.on=function(t,e){this.config("methods."+t,e)},e.prototype.un=function(t,e){this.config("methods."+t,void 0)},e.prototype.legendEvent=function(t,e,r){var i;i="TSMap"==this.mapType?this._layer.map.map.getViewport().lastChild:this._layer.map._container,this._changePointData=[];for(var n=0;n<r.length;n++)this._changePointData.push(this._pointData[n]);var o=this;i.addEventListener("click",function(t){var i,n=t.target;i="span"==n.nodeName.toLocaleLowerCase()?n.parentNode:n;var a=e.splitList;for(var l in a)if(i.getAttribute("value")==l&&o._layer instanceof s.MapVLayer){"true"==i.getAttribute("legendClick")?(i.children[0].style.background="#ccc",i.children[1].style.color="#ccc",o.getCategoryData(i,l,e,r),i.setAttribute("legendClick",!1)):(i.children[0].style.background=a[l],i.children[1].style.color=e.legend.fontColor,o.getCategoryData(i,l,e,r),i.setAttribute("legendClick",!0));var c=o._layer.toDataSet(o._changePointData);o._layer.updateLayer(e,c)}})},e.prototype.tooltipEvent=function(t){var e=this._layer.getLayer(),r=t.pixel[0],i=t.pixel[1],n=e.isPointInPath(e.getContext(),{x:r,y:i});if(n){var o=this.findAll();n.gvCoordinate=t.coordinate;var a=this.tooltip.getStr(o.tooltip.formatter,n);this.tooltip.updateTooltip(!0,a,r+10,i+10,n._fillStyle)}else this.tooltip.updateTooltip(!1)},e.prototype.getCategoryData=function(t,e,r,i){var n=i;if("true"==t.getAttribute("legendClick"))if("other"!=e)for(var o=0;o<this._changePointData.length;o++)this._changePointData[o].count==e&&(this._changePointData.splice(o,1),o--);else for(o=0;o<this._changePointData.length;o++){var a=this._changePointData[o].count;r.splitList.hasOwnProperty(a)||(this._changePointData.splice(o,1),o--)}else if("other"!=e)for(o=0;o<n.length;o++)n[o].count==e&&this._changePointData.push(n[o]);else for(o=0;o<n.length;o++){var s=n[o].count;r.splitList.hasOwnProperty(s)||this._changePointData.push(n[o])}},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.tooltipEve&&this._layer.getLayer().map.un("pointermove",this.tooltipEve)},e}(o.MapVChart);e.PointAnimationCategoryChart=c},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(6),s=r(16),l=function(t){function e(e,r){var i=t.call(this,e,r,a.MapVChartType.Situation)||this;return i.iconData=[],i.setDefaultConfig(),i}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"",iconFieldName:"",iconType:"",splitList:[{name:"下雨",symbolSize:20,symbolOffset:[0,0],fillStyle:"rgba(155, 250, 250, 1)",borderWidth:0,borderColor:"#000",shadowColor:"rgba(255, 250, 50, 1)",shadowBlur:10,globalAlpha:.8},{name:"多云",symbolSize:25,symbolOffset:[0,0],fillStyle:"rgba(255, 250, 250, 1)",borderWidth:0,borderColor:"#000",shadowColor:"rgba(255, 250, 50, 1)",shadowBlur:80,globalAlpha:.8},{name:"晴",symbolSize:25,symbolOffset:[0,0],fillStyle:"rgba(255, 250, 50, 1)",borderWidth:0,borderColor:"#000",shadowColor:"rgba(255, 250, 50, 1)",shadowBlur:80,globalAlpha:.8}],label:{show:!0,formatter:"{b}",fillStyle:"rgba(255,255,255,1)",offset:[0,20],fontSize:"15px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal",shadowColor:"rgba(255,255,0,1)",shadowBlur:3},legend:{show:!0,left:30,bottom:50,padding:10,fontSize:"20px",fontColor:"#333"},tooltip:{show:!0,formatter:"{b}"}},e)},e.prototype.setData=function(t){var e=t.asArray(),r=this.getEchartOption(),i=this.getData(e,r);this._layer instanceof s.EChartsLayer&&(this._layer.getLayer()?this._layer.updateLayer(i):this._layer.createLayer(i))},e.prototype.getEchartOption=function(){for(var t=this.findAll(),e=t.splitList,r=0;r<e.length;r++){for(var i in e[r].itemStyle={},e[r])"fillStyle"!==i&&"borderWidth"!==i&&"borderColor"!==i&&"shadowColor"!==i&&"shadowBlur"!==i&&"globalAlpha"!==i||("fillStyle"===i?e[r].itemStyle.color=e[r][i]:"globalAlpha"===i?e[r].itemStyle.opacity=e[r][i]:e[r].itemStyle[i]=e[r][i],delete e[r][i]);e[r].type="scatter",e[r].label=t.label,e[r].symbolKeepAspect=!0,e[r].data=[],"TSMap"===this.mapType?(e[r].coordinateSystem="G2Map",t.G2Map={}):(e[r].coordinateSystem="CesiumMap",t.CesiumMap={})}t.label.color=t.label.fillStyle,delete t.label.fillStyle;var n={animation:!1,tooltip:t.tooltip,legend:t.legend,series:t.splitList};return"TSMap"===this.mapType?n.G2Map={}:n.CesiumMap={},n},e.prototype.getData=function(t,e){for(var r=this.findAll(),i="",n=[],o=[],a=0;a<e.series.length;a++)o.push(e.series[a].name);for(a=0;a<o.length;a++){n.push([]);for(var s=0;s<t.length;s++)if(t[s][r.fieldName]===o[a]){var l={},c={};for(var h in t[s])"shape"===h?l.value=t[s].shape:h===r.iconFieldName?i!==t[s][h]&&(i=t[s][h]):(l[h]=t[s][h],c[h]=t[s][h]);l.gvProperty=c,e.series[a].data.push(l)}"url"===r.iconType?e.series[a].symbol="image://"+i:e.series[a].symbol=r.iconType+"://"+i}return e},e}(o.MapVChart);e.IconCategoryChart=l}])});